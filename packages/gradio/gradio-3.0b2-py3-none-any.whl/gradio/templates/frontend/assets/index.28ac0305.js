import{S as F,i as G,s as K,a as T,b as m,c as h,d as w,n as S,e as v,q as B,m as C,k as D,u as V,y as L,w as p,z as W,v as k,x as j,A as O,E as y,f as z,h as N,j as U,G as E,l as M,r as Q,C as Y,I as Z,F as x,J as $,X as ee,K as le,L as te,M as ne}from"./index.a7170824.js";import{B as oe}from"./Block.91bf8e9d.js";import{n as ae}from"./utils.49185b04.js";import{U as ie}from"./Upload.e8c4c24a.js";import{M as re}from"./ModifyUpload.2c911a01.js";import{B as R}from"./BlockLabel.9fdbd2f8.js";import{W as se}from"./Image.svelte_svelte_type_style_lang.901ed016.js";import{S as ue}from"./StatusTracker.df2065f9.js";import"./styles.0915f7c7.js";import"./_commonjsHelpers.88e99c8f.js";function fe(o){let e,t,l;return{c(){e=T("svg"),t=T("polygon"),l=T("rect"),m(t,"points","23 7 16 12 23 17 23 7"),m(l,"x","1"),m(l,"y","5"),m(l,"width","15"),m(l,"height","14"),m(l,"rx","2"),m(l,"ry","2"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"width","100%"),m(e,"height","100%"),m(e,"viewBox","0 0 24 24"),m(e,"fill","none"),m(e,"stroke","currentColor"),m(e,"stroke-width","1.5"),m(e,"stroke-linecap","round"),m(e,"stroke-linejoin","round"),m(e,"class","feather feather-video")},m(n,i){h(n,e,i),w(e,t),w(e,l)},p:S,i:S,o:S,d(n){n&&v(e)}}}class X extends F{constructor(e){super(),G(this,e,null,fe,K,{})}}const H=o=>{let e=["B","KB","MB","GB","PB"],t=0;for(;o>1024;)o/=1024,t++;let l=e[t];return o.toFixed(1)+" "+l},ce=o=>!0;function _e(o){let e,t,l,n,i;e=new re({}),e.$on("clear",o[10]);function s(u,a){if(a&1&&(l=null),l==null&&(l=!!ce(u[0].name)),l)return be;if(u[0].size)return me}let f=s(o,-1),r=f&&f(o);return{c(){B(e.$$.fragment),t=C(),r&&r.c(),n=D()},m(u,a){V(e,u,a),h(u,t,a),r&&r.m(u,a),h(u,n,a),i=!0},p(u,a){f===(f=s(u,a))&&r?r.p(u,a):(r&&r.d(1),r=f&&f(u),r&&(r.c(),r.m(n.parentNode,n)))},i(u){i||(k(e.$$.fragment,u),i=!0)},o(u){p(e.$$.fragment,u),i=!1},d(u){j(e,u),u&&v(t),r&&r.d(u),u&&v(n)}}}function de(o){let e,t,l,n;const i=[pe,ge],s=[];function f(r,u){return r[1]==="upload"?0:r[1]==="webcam"?1:-1}return~(e=f(o))&&(t=s[e]=i[e](o)),{c(){t&&t.c(),l=D()},m(r,u){~e&&s[e].m(r,u),h(r,l,u),n=!0},p(r,u){let a=e;e=f(r),e===a?~e&&s[e].p(r,u):(t&&(L(),p(s[a],1,1,()=>{s[a]=null}),W()),~e?(t=s[e],t?t.p(r,u):(t=s[e]=i[e](r),t.c()),k(t,1),t.m(l.parentNode,l)):t=null)},i(r){n||(k(t),n=!0)},o(r){p(t),n=!1},d(r){~e&&s[e].d(r),r&&v(l)}}}function me(o){let e,t=o[0].name+"",l,n,i,s=H(o[0].size)+"",f;return{c(){e=z("div"),l=N(t),n=C(),i=z("div"),f=N(s),m(e,"class","file-name text-4xl p-6 break-all"),m(i,"class","file-size text-2xl p-2")},m(r,u){h(r,e,u),w(e,l),h(r,n,u),h(r,i,u),w(i,f)},p(r,u){u&1&&t!==(t=r[0].name+"")&&U(l,t),u&1&&s!==(s=H(r[0].size)+"")&&U(f,s)},d(r){r&&v(e),r&&v(n),r&&v(i)}}}function be(o){let e,t,l,n;return{c(){e=z("video"),m(e,"class","w-full h-full object-contain bg-black"),e.controls=!0,e.playsInline=!0,m(e,"preload","auto"),E(e.src,t=o[0].data)||m(e,"src",t)},m(i,s){h(i,e,s),l||(n=[M(e,"play",o[11]),M(e,"pause",o[12]),M(e,"ended",o[13])],l=!0)},p(i,s){s&1&&!E(e.src,t=i[0].data)&&m(e,"src",t)},d(i){i&&v(e),l=!1,Q(n)}}}function ge(o){let e,t;return e=new se({props:{mode:"video"}}),e.$on("capture",o[15]),{c(){B(e.$$.fragment)},m(l,n){V(e,l,n),t=!0},p:S,i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){j(e,l)}}}function pe(o){let e,t,l;function n(s){o[14](s)}let i={filetype:"video/mp4,video/x-m4v,video/*",$$slots:{default:[ke]},$$scope:{ctx:o}};return o[7]!==void 0&&(i.dragging=o[7]),e=new ie({props:i}),Y.push(()=>Z(e,"dragging",n)),e.$on("load",o[9]),{c(){B(e.$$.fragment)},m(s,f){V(e,s,f),l=!0},p(s,f){const r={};f&65648&&(r.$$scope={dirty:f,ctx:s}),!t&&f&128&&(t=!0,r.dragging=s[7],x(()=>t=!1)),e.$set(r)},i(s){l||(k(e.$$.fragment,s),l=!0)},o(s){p(e.$$.fragment,s),l=!1},d(s){j(e,s)}}}function ke(o){let e,t,l,n,i,s,f,r,u;return{c(){e=z("div"),t=N(o[4]),l=C(),n=z("span"),i=N("- "),s=N(o[5]),f=N(" -"),r=C(),u=N(o[6]),m(n,"class","text-gray-300"),m(e,"class","flex flex-col")},m(a,_){h(a,e,_),w(e,t),w(e,l),w(e,n),w(n,i),w(n,s),w(n,f),w(e,r),w(e,u)},p(a,_){_&16&&U(t,a[4]),_&32&&U(s,a[5]),_&64&&U(u,a[6])},d(a){a&&v(e)}}}function he(o){let e,t,l,n,i,s;e=new R({props:{show_label:o[3],Icon:X,label:o[2]||"Video"}});const f=[de,_e],r=[];function u(a,_){return a[0]===null?0:1}return l=u(o),n=r[l]=f[l](o),{c(){B(e.$$.fragment),t=C(),n.c(),i=D()},m(a,_){V(e,a,_),h(a,t,_),r[l].m(a,_),h(a,i,_),s=!0},p(a,[_]){const c={};_&8&&(c.show_label=a[3]),_&4&&(c.label=a[2]||"Video"),e.$set(c);let g=l;l=u(a),l===g?r[l].p(a,_):(L(),p(r[g],1,1,()=>{r[g]=null}),W(),n=r[l],n?n.p(a,_):(n=r[l]=f[l](a),n.c()),k(n,1),n.m(i.parentNode,i))},i(a){s||(k(e.$$.fragment,a),k(n),s=!0)},o(a){p(e.$$.fragment,a),p(n),s=!1},d(a){j(e,a),a&&v(t),r[l].d(a),a&&v(i)}}}function ve(o,e,t){let{value:l=null}=e,{source:n}=e,{label:i=void 0}=e,{show_label:s}=e,{drop_text:f="Drop a video file"}=e,{or_text:r="or"}=e,{upload_text:u="click to upload"}=e;const a=O();function _({detail:d}){a("change",d),t(0,l=d)}function c({detail:d}){t(0,l=null),a("change",d),a("clear")}let g=!1;function q(d){y.call(this,o,d)}function I(d){y.call(this,o,d)}function A(d){y.call(this,o,d)}function J(d){g=d,t(7,g)}const P=({detail:d})=>a("change",d);return o.$$set=d=>{"value"in d&&t(0,l=d.value),"source"in d&&t(1,n=d.source),"label"in d&&t(2,i=d.label),"show_label"in d&&t(3,s=d.show_label),"drop_text"in d&&t(4,f=d.drop_text),"or_text"in d&&t(5,r=d.or_text),"upload_text"in d&&t(6,u=d.upload_text)},o.$$.update=()=>{o.$$.dirty&128&&a("drag",g)},[l,n,i,s,f,r,u,g,a,_,c,q,I,A,J,P]}class we extends F{constructor(e){super(),G(this,e,ve,he,K,{value:0,source:1,label:2,show_label:3,drop_text:4,or_text:5,upload_text:6})}}function ye(o){let e,t,l,n;return{c(){e=z("video"),m(e,"class","w-full h-full object-contain bg-black"),e.controls=!0,e.playsInline=!0,m(e,"preload","auto"),E(e.src,t=o[0].data)||m(e,"src",t)},m(i,s){h(i,e,s),l||(n=[M(e,"play",o[3]),M(e,"pause",o[4]),M(e,"ended",o[5])],l=!0)},p(i,s){s&1&&!E(e.src,t=i[0].data)&&m(e,"src",t)},i:S,o:S,d(i){i&&v(e),l=!1,Q(n)}}}function Be(o){let e,t,l,n;return l=new X({}),{c(){e=z("div"),t=z("div"),B(l.$$.fragment),m(t,"class","h-5 dark:text-white opacity-50"),m(e,"class","min-h-[15rem] flex justify-center items-center")},m(i,s){h(i,e,s),w(e,t),V(l,t,null),n=!0},p:S,i(i){n||(k(l.$$.fragment,i),n=!0)},o(i){p(l.$$.fragment,i),n=!1},d(i){i&&v(e),j(l)}}}function Ve(o){let e,t,l,n,i,s;e=new R({props:{show_label:o[2],Icon:X,label:o[1]||"Video"}});const f=[Be,ye],r=[];function u(a,_){return a[0]===null?0:1}return l=u(o),n=r[l]=f[l](o),{c(){B(e.$$.fragment),t=C(),n.c(),i=D()},m(a,_){V(e,a,_),h(a,t,_),r[l].m(a,_),h(a,i,_),s=!0},p(a,[_]){const c={};_&4&&(c.show_label=a[2]),_&2&&(c.label=a[1]||"Video"),e.$set(c);let g=l;l=u(a),l===g?r[l].p(a,_):(L(),p(r[g],1,1,()=>{r[g]=null}),W(),n=r[l],n?n.p(a,_):(n=r[l]=f[l](a),n.c()),k(n,1),n.m(i.parentNode,i))},i(a){s||(k(e.$$.fragment,a),k(n),s=!0)},o(a){p(e.$$.fragment,a),p(n),s=!1},d(a){j(e,a),a&&v(t),r[l].d(a),a&&v(i)}}}function je(o,e,t){let{value:l=null}=e,{label:n=void 0}=e,{show_label:i}=e;const s=O();function f(a){y.call(this,o,a)}function r(a){y.call(this,o,a)}function u(a){y.call(this,o,a)}return o.$$set=a=>{"value"in a&&t(0,l=a.value),"label"in a&&t(1,n=a.label),"show_label"in a&&t(2,i=a.show_label)},o.$$.update=()=>{o.$$.dirty&1&&l&&s("change",l)},[l,n,i,f,r,u]}class ze extends F{constructor(e){super(),G(this,e,je,Ve,K,{value:0,label:1,show_label:2})}}function Ie(o){let e,t;return e=new we({props:{value:o[7],label:o[2],show_label:o[4],source:o[3],drop_text:o[9]("interface.drop_video"),or_text:o[9]("or"),upload_text:o[9]("interface.click_to_upload")}}),e.$on("change",o[11]),e.$on("drag",o[12]),e.$on("change",o[13]),e.$on("clear",o[14]),e.$on("play",o[15]),e.$on("pause",o[16]),{c(){B(e.$$.fragment)},m(l,n){V(e,l,n),t=!0},p(l,n){const i={};n&128&&(i.value=l[7]),n&4&&(i.label=l[2]),n&16&&(i.show_label=l[4]),n&8&&(i.source=l[3]),n&512&&(i.drop_text=l[9]("interface.drop_video")),n&512&&(i.or_text=l[9]("or")),n&512&&(i.upload_text=l[9]("interface.click_to_upload")),e.$set(i)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){j(e,l)}}}function Ne(o){let e,t;return e=new ze({props:{value:o[7],label:o[2],show_label:o[4]}}),{c(){B(e.$$.fragment)},m(l,n){V(e,l,n),t=!0},p(l,n){const i={};n&128&&(i.value=l[7]),n&4&&(i.label=l[2]),n&16&&(i.show_label=l[4]),e.$set(i)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){j(e,l)}}}function Se(o){let e,t,l,n,i,s;const f=[o[5]];let r={};for(let c=0;c<f.length;c+=1)r=le(r,f[c]);e=new ue({props:r});const u=[Ne,Ie],a=[];function _(c,g){return c[6]==="static"?0:1}return l=_(o),n=a[l]=u[l](o),{c(){B(e.$$.fragment),t=C(),n.c(),i=D()},m(c,g){V(e,c,g),h(c,t,g),a[l].m(c,g),h(c,i,g),s=!0},p(c,g){const q=g&32?te(f,[ne(c[5])]):{};e.$set(q);let I=l;l=_(c),l===I?a[l].p(c,g):(L(),p(a[I],1,1,()=>{a[I]=null}),W(),n=a[l],n?n.p(c,g):(n=a[l]=u[l](c),n.c()),k(n,1),n.m(i.parentNode,i))},i(c){s||(k(e.$$.fragment,c),k(n),s=!0)},o(c){p(e.$$.fragment,c),p(n),s=!1},d(c){j(e,c),c&&v(t),a[l].d(c),c&&v(i)}}}function Ce(o){let e,t;return e=new oe({props:{variant:o[6]==="dynamic"&&o[0]===null&&o[3]==="upload"?"dashed":"solid",color:o[8]?"green":"grey",padding:!1,elem_id:o[1],$$slots:{default:[Se]},$$scope:{ctx:o}}}),{c(){B(e.$$.fragment)},m(l,n){V(e,l,n),t=!0},p(l,[n]){const i={};n&73&&(i.variant=l[6]==="dynamic"&&l[0]===null&&l[3]==="upload"?"dashed":"solid"),n&256&&(i.color=l[8]?"green":"grey"),n&2&&(i.elem_id=l[1]),n&132093&&(i.$$scope={dirty:n,ctx:l}),e.$set(i)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){p(e.$$.fragment,l),t=!1},d(l){j(e,l)}}}function Me(o,e,t){let l;$(o,ee,b=>t(9,l=b));let{elem_id:n=""}=e,{value:i=null}=e,{label:s}=e,{source:f}=e,{root:r}=e,{show_label:u}=e,{loading_status:a}=e,{mode:_}=e,c,g=!1;const q=({detail:b})=>t(0,i=b),I=({detail:b})=>t(8,g=b);function A(b){y.call(this,o,b)}function J(b){y.call(this,o,b)}function P(b){y.call(this,o,b)}function d(b){y.call(this,o,b)}return o.$$set=b=>{"elem_id"in b&&t(1,n=b.elem_id),"value"in b&&t(0,i=b.value),"label"in b&&t(2,s=b.label),"source"in b&&t(3,f=b.source),"root"in b&&t(10,r=b.root),"show_label"in b&&t(4,u=b.show_label),"loading_status"in b&&t(5,a=b.loading_status),"mode"in b&&t(6,_=b.mode)},o.$$.update=()=>{o.$$.dirty&1025&&t(7,c=ae(i,r))},[i,n,s,f,u,a,_,c,g,l,r,q,I,A,J,P,d]}class qe extends F{constructor(e){super(),G(this,e,Me,Ce,K,{elem_id:1,value:0,label:2,source:3,root:10,show_label:4,loading_status:5,mode:6})}}var Pe=qe;const Te=["static","dynamic"];export{Pe as Component,Te as modes};
