import{S as E,i as F,s as G,a as T,b,c as h,d as w,n as S,e as p,q as y,m as C,k as U,u as B,y as K,w as g,z as L,v as k,x as V,A as O,E as v,f as z,h as N,j as q,G as D,l as M,r as Q,C as Y,I as Z,F as x,J as $,X as ee,K as le,L as te,M as ne}from"./index.43a672aa.js";import{B as oe}from"./Block.dd660513.js";import{n as ae}from"./utils.49185b04.js";import{U as ie}from"./Upload.768f3905.js";import{M as re}from"./ModifyUpload.5afb1375.js";import{B as R}from"./BlockLabel.525e2884.js";import{W as se}from"./Image.svelte_svelte_type_style_lang.0f0905dc.js";import{S as ue}from"./StatusTracker.a32689a5.js";import"./_commonjsHelpers.88e99c8f.js";function fe(o){let e,t,l;return{c(){e=T("svg"),t=T("polygon"),l=T("rect"),b(t,"points","23 7 16 12 23 17 23 7"),b(l,"x","1"),b(l,"y","5"),b(l,"width","15"),b(l,"height","14"),b(l,"rx","2"),b(l,"ry","2"),b(e,"xmlns","http://www.w3.org/2000/svg"),b(e,"width","100%"),b(e,"height","100%"),b(e,"viewBox","0 0 24 24"),b(e,"fill","none"),b(e,"stroke","currentColor"),b(e,"stroke-width","1.5"),b(e,"stroke-linecap","round"),b(e,"stroke-linejoin","round"),b(e,"class","feather feather-video")},m(n,a){h(n,e,a),w(e,t),w(e,l)},p:S,i:S,o:S,d(n){n&&p(e)}}}class X extends E{constructor(e){super(),F(this,e,null,fe,G,{})}}const H=o=>{let e=["B","KB","MB","GB","PB"],t=0;for(;o>1024;)o/=1024,t++;let l=e[t];return o.toFixed(1)+" "+l},ce=o=>!0;function _e(o){let e,t,l,n,a;e=new re({}),e.$on("clear",o[10]);function s(f,i){if(i&1&&(l=null),l==null&&(l=!!ce(f[0].name)),l)return me;if(f[0].size)return be}let _=s(o,-1),r=_&&_(o);return{c(){y(e.$$.fragment),t=C(),r&&r.c(),n=U()},m(f,i){B(e,f,i),h(f,t,i),r&&r.m(f,i),h(f,n,i),a=!0},p(f,i){_===(_=s(f,i))&&r?r.p(f,i):(r&&r.d(1),r=_&&_(f),r&&(r.c(),r.m(n.parentNode,n)))},i(f){a||(k(e.$$.fragment,f),a=!0)},o(f){g(e.$$.fragment,f),a=!1},d(f){V(e,f),f&&p(t),r&&r.d(f),f&&p(n)}}}function de(o){let e,t,l,n;const a=[ke,ge],s=[];function _(r,f){return r[1]==="upload"?0:r[1]==="webcam"?1:-1}return~(e=_(o))&&(t=s[e]=a[e](o)),{c(){t&&t.c(),l=U()},m(r,f){~e&&s[e].m(r,f),h(r,l,f),n=!0},p(r,f){let i=e;e=_(r),e===i?~e&&s[e].p(r,f):(t&&(K(),g(s[i],1,1,()=>{s[i]=null}),L()),~e?(t=s[e],t?t.p(r,f):(t=s[e]=a[e](r),t.c()),k(t,1),t.m(l.parentNode,l)):t=null)},i(r){n||(k(t),n=!0)},o(r){g(t),n=!1},d(r){~e&&s[e].d(r),r&&p(l)}}}function be(o){let e,t=o[0].name+"",l,n,a,s=H(o[0].size)+"",_;return{c(){e=z("div"),l=N(t),n=C(),a=z("div"),_=N(s),b(e,"class","file-name text-4xl p-6 break-all"),b(a,"class","file-size text-2xl p-2")},m(r,f){h(r,e,f),w(e,l),h(r,n,f),h(r,a,f),w(a,_)},p(r,f){f&1&&t!==(t=r[0].name+"")&&q(l,t),f&1&&s!==(s=H(r[0].size)+"")&&q(_,s)},d(r){r&&p(e),r&&p(n),r&&p(a)}}}function me(o){let e,t,l,n;return{c(){e=z("video"),b(e,"class","w-full h-full object-contain bg-black"),e.controls=!0,e.playsInline=!0,b(e,"preload","auto"),D(e.src,t=o[0].data)||b(e,"src",t)},m(a,s){h(a,e,s),l||(n=[M(e,"play",o[12]),M(e,"pause",o[13]),M(e,"ended",o[14])],l=!0)},p(a,s){s&1&&!D(e.src,t=a[0].data)&&b(e,"src",t)},d(a){a&&p(e),l=!1,Q(n)}}}function ge(o){let e,t;return e=new se({props:{mode:"video"}}),e.$on("capture",o[16]),{c(){y(e.$$.fragment)},m(l,n){B(e,l,n),t=!0},p:S,i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function ke(o){let e,t,l;function n(s){o[15](s)}let a={filetype:"video/mp4,video/x-m4v,video/*",$$slots:{default:[he]},$$scope:{ctx:o}};return o[7]!==void 0&&(a.dragging=o[7]),e=new ie({props:a}),Y.push(()=>Z(e,"dragging",n)),e.$on("load",o[9]),{c(){y(e.$$.fragment)},m(s,_){B(e,s,_),l=!0},p(s,_){const r={};_&131184&&(r.$$scope={dirty:_,ctx:s}),!t&&_&128&&(t=!0,r.dragging=s[7],x(()=>t=!1)),e.$set(r)},i(s){l||(k(e.$$.fragment,s),l=!0)},o(s){g(e.$$.fragment,s),l=!1},d(s){V(e,s)}}}function he(o){let e,t,l,n,a,s,_,r,f;return{c(){e=z("div"),t=N(o[4]),l=C(),n=z("span"),a=N("- "),s=N(o[5]),_=N(" -"),r=C(),f=N(o[6]),b(n,"class","text-gray-300"),b(e,"class","flex flex-col")},m(i,c){h(i,e,c),w(e,t),w(e,l),w(e,n),w(n,a),w(n,s),w(n,_),w(e,r),w(e,f)},p(i,c){c&16&&q(t,i[4]),c&32&&q(s,i[5]),c&64&&q(f,i[6])},d(i){i&&p(e)}}}function pe(o){let e,t,l,n,a,s;e=new R({props:{show_label:o[3],Icon:X,label:o[2]||"Video"}});const _=[de,_e],r=[];function f(i,c){return i[0]===null?0:1}return l=f(o),n=r[l]=_[l](o),{c(){y(e.$$.fragment),t=C(),n.c(),a=U()},m(i,c){B(e,i,c),h(i,t,c),r[l].m(i,c),h(i,a,c),s=!0},p(i,[c]){const d={};c&8&&(d.show_label=i[3]),c&4&&(d.label=i[2]||"Video"),e.$set(d);let m=l;l=f(i),l===m?r[l].p(i,c):(K(),g(r[m],1,1,()=>{r[m]=null}),L(),n=r[l],n?n.p(i,c):(n=r[l]=_[l](i),n.c()),k(n,1),n.m(a.parentNode,a))},i(i){s||(k(e.$$.fragment,i),k(n),s=!0)},o(i){g(e.$$.fragment,i),g(n),s=!1},d(i){V(e,i),i&&p(t),r[l].d(i),i&&p(a)}}}function we(o,e,t){let{value:l=null}=e,{source:n}=e,{label:a=void 0}=e,{style:s=""}=e,{show_label:_}=e,{drop_text:r="Drop a video file"}=e,{or_text:f="or"}=e,{upload_text:i="click to upload"}=e;const c=O();function d({detail:u}){c("change",u),t(0,l=u)}function m({detail:u}){t(0,l=null),c("change",u),c("clear")}let j=!1;function I(u){v.call(this,o,u)}function W(u){v.call(this,o,u)}function A(u){v.call(this,o,u)}function J(u){j=u,t(7,j)}const P=({detail:u})=>c("change",u);return o.$$set=u=>{"value"in u&&t(0,l=u.value),"source"in u&&t(1,n=u.source),"label"in u&&t(2,a=u.label),"style"in u&&t(11,s=u.style),"show_label"in u&&t(3,_=u.show_label),"drop_text"in u&&t(4,r=u.drop_text),"or_text"in u&&t(5,f=u.or_text),"upload_text"in u&&t(6,i=u.upload_text)},o.$$.update=()=>{o.$$.dirty&128&&c("drag",j)},[l,n,a,_,r,f,i,j,c,d,m,s,I,W,A,J,P]}class ve extends E{constructor(e){super(),F(this,e,we,pe,G,{value:0,source:1,label:2,style:11,show_label:3,drop_text:4,or_text:5,upload_text:6})}}function ye(o){let e,t,l,n;return{c(){e=z("video"),b(e,"class","w-full h-full object-contain bg-black"),e.controls=!0,e.playsInline=!0,b(e,"preload","auto"),D(e.src,t=o[0].data)||b(e,"src",t)},m(a,s){h(a,e,s),l||(n=[M(e,"play",o[4]),M(e,"pause",o[5]),M(e,"ended",o[6])],l=!0)},p(a,s){s&1&&!D(e.src,t=a[0].data)&&b(e,"src",t)},i:S,o:S,d(a){a&&p(e),l=!1,Q(n)}}}function Be(o){let e,t,l,n;return l=new X({}),{c(){e=z("div"),t=z("div"),y(l.$$.fragment),b(t,"class","h-10 dark:text-white opacity-50"),b(e,"class","min-h-[16rem] flex justify-center items-center")},m(a,s){h(a,e,s),w(e,t),B(l,t,null),n=!0},p:S,i(a){n||(k(l.$$.fragment,a),n=!0)},o(a){g(l.$$.fragment,a),n=!1},d(a){a&&p(e),V(l)}}}function Ve(o){let e,t,l,n,a,s;e=new R({props:{show_label:o[2],Icon:X,label:o[1]||"Video"}});const _=[Be,ye],r=[];function f(i,c){return i[0]===null?0:1}return l=f(o),n=r[l]=_[l](o),{c(){y(e.$$.fragment),t=C(),n.c(),a=U()},m(i,c){B(e,i,c),h(i,t,c),r[l].m(i,c),h(i,a,c),s=!0},p(i,[c]){const d={};c&4&&(d.show_label=i[2]),c&2&&(d.label=i[1]||"Video"),e.$set(d);let m=l;l=f(i),l===m?r[l].p(i,c):(K(),g(r[m],1,1,()=>{r[m]=null}),L(),n=r[l],n?n.p(i,c):(n=r[l]=_[l](i),n.c()),k(n,1),n.m(a.parentNode,a))},i(i){s||(k(e.$$.fragment,i),k(n),s=!0)},o(i){g(e.$$.fragment,i),g(n),s=!1},d(i){V(e,i),i&&p(t),r[l].d(i),i&&p(a)}}}function je(o,e,t){let{value:l=null}=e,{label:n=void 0}=e,{style:a=""}=e,{show_label:s}=e;const _=O();function r(c){v.call(this,o,c)}function f(c){v.call(this,o,c)}function i(c){v.call(this,o,c)}return o.$$set=c=>{"value"in c&&t(0,l=c.value),"label"in c&&t(1,n=c.label),"style"in c&&t(3,a=c.style),"show_label"in c&&t(2,s=c.show_label)},o.$$.update=()=>{o.$$.dirty&1&&l&&_("change",l)},[l,n,s,a,r,f,i]}class ze extends E{constructor(e){super(),F(this,e,je,Ve,G,{value:0,label:1,style:3,show_label:2})}}function Ie(o){let e,t;return e=new ve({props:{value:o[7],label:o[1],show_label:o[4],style:o[2],source:o[3],drop_text:o[9]("interface.drop_video"),or_text:o[9]("or"),upload_text:o[9]("interface.click_to_upload")}}),e.$on("change",o[11]),e.$on("drag",o[12]),e.$on("change",o[13]),e.$on("clear",o[14]),e.$on("play",o[15]),e.$on("pause",o[16]),{c(){y(e.$$.fragment)},m(l,n){B(e,l,n),t=!0},p(l,n){const a={};n&128&&(a.value=l[7]),n&2&&(a.label=l[1]),n&16&&(a.show_label=l[4]),n&4&&(a.style=l[2]),n&8&&(a.source=l[3]),n&512&&(a.drop_text=l[9]("interface.drop_video")),n&512&&(a.or_text=l[9]("or")),n&512&&(a.upload_text=l[9]("interface.click_to_upload")),e.$set(a)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function Ne(o){let e,t;return e=new ze({props:{value:o[7],label:o[1],show_label:o[4],style:o[2]}}),{c(){y(e.$$.fragment)},m(l,n){B(e,l,n),t=!0},p(l,n){const a={};n&128&&(a.value=l[7]),n&2&&(a.label=l[1]),n&16&&(a.show_label=l[4]),n&4&&(a.style=l[2]),e.$set(a)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function Se(o){let e,t,l,n,a,s;const _=[o[5]];let r={};for(let d=0;d<_.length;d+=1)r=le(r,_[d]);e=new ue({props:r});const f=[Ne,Ie],i=[];function c(d,m){return d[6]==="static"?0:1}return l=c(o),n=i[l]=f[l](o),{c(){y(e.$$.fragment),t=C(),n.c(),a=U()},m(d,m){B(e,d,m),h(d,t,m),i[l].m(d,m),h(d,a,m),s=!0},p(d,m){const j=m&32?te(_,[ne(d[5])]):{};e.$set(j);let I=l;l=c(d),l===I?i[l].p(d,m):(K(),g(i[I],1,1,()=>{i[I]=null}),L(),n=i[l],n?n.p(d,m):(n=i[l]=f[l](d),n.c()),k(n,1),n.m(a.parentNode,a))},i(d){s||(k(e.$$.fragment,d),k(n),s=!0)},o(d){g(e.$$.fragment,d),g(n),s=!1},d(d){V(e,d),d&&p(t),i[l].d(d),d&&p(a)}}}function Ce(o){let e,t;return e=new oe({props:{variant:o[6]==="dynamic"&&o[0]===null&&o[3]==="upload"?"dashed":"solid",color:o[8]?"green":"grey",padding:!1,$$slots:{default:[Se]},$$scope:{ctx:o}}}),{c(){y(e.$$.fragment)},m(l,n){B(e,l,n),t=!0},p(l,[n]){const a={};n&73&&(a.variant=l[6]==="dynamic"&&l[0]===null&&l[3]==="upload"?"dashed":"solid"),n&256&&(a.color=l[8]?"green":"grey"),n&132095&&(a.$$scope={dirty:n,ctx:l}),e.$set(a)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function Me(o,e,t){let l;$(o,ee,u=>t(9,l=u));let{value:n=null}=e,{label:a}=e,{style:s=""}=e,{source:_}=e,{root:r}=e,{show_label:f}=e,{loading_status:i}=e,{mode:c}=e,d,m=!1;const j=({detail:u})=>t(0,n=u),I=({detail:u})=>t(8,m=u);function W(u){v.call(this,o,u)}function A(u){v.call(this,o,u)}function J(u){v.call(this,o,u)}function P(u){v.call(this,o,u)}return o.$$set=u=>{"value"in u&&t(0,n=u.value),"label"in u&&t(1,a=u.label),"style"in u&&t(2,s=u.style),"source"in u&&t(3,_=u.source),"root"in u&&t(10,r=u.root),"show_label"in u&&t(4,f=u.show_label),"loading_status"in u&&t(5,i=u.loading_status),"mode"in u&&t(6,c=u.mode)},o.$$.update=()=>{o.$$.dirty&1025&&t(7,d=ae(n,r))},[n,a,s,_,f,i,c,d,m,l,r,j,I,W,A,J,P]}class qe extends E{constructor(e){super(),F(this,e,Me,Ce,G,{value:0,label:1,style:2,source:3,root:10,show_label:4,loading_status:5,mode:6})}}var Je=qe;const Pe=["static","dynamic"];export{Je as Component,Pe as modes};
