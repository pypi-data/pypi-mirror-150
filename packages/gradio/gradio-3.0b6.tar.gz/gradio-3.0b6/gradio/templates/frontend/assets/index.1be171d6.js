import{S as Y,i as Z,s as x,a as T,b as c,c as v,d as k,n as A,e as y,a6 as $,q as H,u as I,l as M,v as z,w as B,x as N,L as _e,M as he,m as C,k as ge,N as me,O as de,y as ee,z as le,a3 as be,D as J,f as j,H as D,t as p,o as te,r as pe,aa as ke}from"./index.b05fc228.js";import{B as we}from"./Block.69223ac1.js";import{B as ve}from"./BlockLabel.793ec1e0.js";import{M as ye}from"./ModifyUpload.dd778074.js";import"./styles.d87a390f.js";function je(t){let e,l,i,u;return{c(){e=T("svg"),l=T("rect"),i=T("circle"),u=T("polyline"),c(l,"x","3"),c(l,"y","3"),c(l,"width","18"),c(l,"height","18"),c(l,"rx","2"),c(l,"ry","2"),c(i,"cx","8.5"),c(i,"cy","8.5"),c(i,"r","1.5"),c(u,"points","21 15 16 10 5 21"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"width","1em"),c(e,"height","1em"),c(e,"viewBox","0 0 24 24"),c(e,"fill","none"),c(e,"stroke","currentColor"),c(e,"stroke-width","1.5"),c(e,"stroke-linecap","round"),c(e,"stroke-linejoin","round"),c(e,"class","feather feather-image")},m(o,_){v(o,e,_),k(e,l),k(e,i),k(e,u)},p:A,i:A,o:A,d(o){o&&y(e)}}}class ne extends Y{constructor(e){super(),Z(this,e,null,je,x,{})}}function K(t,e,l){const i=t.slice();return i[26]=e[l],i[28]=l,i}function P(t,e,l){const i=t.slice();return i[26]=e[l],i[29]=e,i[28]=l,i}function ze(t){let e,l,i,u,o,_,f=t[6]!==null&&Q(t),m=t[4],d=[];for(let s=0;s<m.length;s+=1)d[s]=X(K(t,m,s));let b=null;return m.length||(b=W()),{c(){f&&f.c(),e=C(),l=j("div"),i=j("div");for(let s=0;s<d.length;s+=1)d[s].c();b&&b.c(),c(i,"class",u="grid gap-2 "+t[12]+" svelte-9r19iu"),p(i,"pt-6",t[1]),c(l,"class","overflow-y-auto h-full p-2 svelte-9r19iu"),$(()=>t[22].call(l)),p(l,"min-h-[350px]",t[5].height!=="auto"),p(l,"max-h-[55vh]",t[5].height!=="auto"),p(l,"xl:min-h-[450px]",t[5].height!=="auto")},m(s,r){f&&f.m(s,r),v(s,e,r),v(s,l,r),k(l,i);for(let n=0;n<d.length;n+=1)d[n].m(i,null);b&&b.m(i,null),o=ke(l,t[22].bind(l)),_=!0},p(s,r){if(s[6]!==null?f?(f.p(s,r),r&64&&z(f,1)):(f=Q(s),f.c(),z(f,1),f.m(e.parentNode,e)):f&&(ee(),B(f,1,1,()=>{f=null}),le()),r&2128){m=s[4];let n;for(n=0;n<m.length;n+=1){const a=K(s,m,n);d[n]?d[n].p(a,r):(d[n]=X(a),d[n].c(),d[n].m(i,null))}for(;n<d.length;n+=1)d[n].d(1);d.length=m.length,!m.length&&b?b.p(s,r):m.length?b&&(b.d(1),b=null):(b=W(),b.c(),b.m(i,null))}(!_||r&4096&&u!==(u="grid gap-2 "+s[12]+" svelte-9r19iu"))&&c(i,"class",u),r&4098&&p(i,"pt-6",s[1]),r&32&&p(l,"min-h-[350px]",s[5].height!=="auto"),r&32&&p(l,"max-h-[55vh]",s[5].height!=="auto"),r&32&&p(l,"xl:min-h-[450px]",s[5].height!=="auto")},i(s){_||(z(f),_=!0)},o(s){B(f),_=!1},d(s){f&&f.d(s),s&&y(e),s&&y(l),te(d,s),b&&b.d(),o()}}}function Be(t){let e,l,i;return l=new ne({}),{c(){e=j("div"),H(l.$$.fragment),c(e,"class","min-h-[15rem] flex justify-center items-center svelte-9r19iu")},m(u,o){v(u,e,o),I(l,e,null),i=!0},p:A,i(u){i||(z(l.$$.fragment,u),i=!0)},o(u){B(l.$$.fragment,u),i=!1},d(u){u&&y(e),N(l)}}}function Q(t){let e,l,i,u,o,_,f,m,d,b;l=new ye({}),l.$on("clear",t[16]);let s=t[4],r=[];for(let n=0;n<s.length;n+=1)r[n]=V(P(t,s,n));return{c(){e=j("div"),H(l.$$.fragment),i=C(),u=j("img"),_=C(),f=j("div");for(let n=0;n<r.length;n+=1)r[n].c();c(u,"class","w-full object-contain h-[calc(100%-50px)] svelte-9r19iu"),D(u.src,o=t[4][t[6]])||c(u,"src",o),c(u,"alt",""),c(f,"class","absolute h-[60px] bg-white dark:bg-gray-900 overflow-x-scroll scroll-hide w-full bottom-0 flex gap-1.5 items-center py-2 text-sm px-3 justify-center svelte-9r19iu"),c(e,"class","absolute inset-0 z-10 flex flex-col bg-white/90 dark:bg-gray-900 backdrop-blur  svelte-9r19iu"),p(e,"min-h-[350px]",t[5].height!=="auto"),p(e,"max-h-[55vh]",t[5].height!=="auto"),p(e,"xl:min-h-[450px]",t[5].height!=="auto")},m(n,a){v(n,e,a),I(l,e,null),k(e,i),k(e,u),k(e,_),k(e,f);for(let h=0;h<r.length;h+=1)r[h].m(f,null);t[20](f),m=!0,d||(b=[M(u,"click",t[17]),M(e,"keydown",t[14])],d=!0)},p(n,a){if((!m||a&80&&!D(u.src,o=n[4][n[6]]))&&c(u,"src",o),a&592){s=n[4];let h;for(h=0;h<s.length;h+=1){const w=P(n,s,h);r[h]?r[h].p(w,a):(r[h]=V(w),r[h].c(),r[h].m(f,null))}for(;h<r.length;h+=1)r[h].d(1);r.length=s.length}a&32&&p(e,"min-h-[350px]",n[5].height!=="auto"),a&32&&p(e,"max-h-[55vh]",n[5].height!=="auto"),a&32&&p(e,"xl:min-h-[450px]",n[5].height!=="auto")},i(n){m||(z(l.$$.fragment,n),m=!0)},o(n){B(l.$$.fragment,n),m=!1},d(n){n&&y(e),N(l),te(r,n),t[20](null),d=!1,pe(b)}}}function V(t){let e,l,i,u,o,_=t[28],f,m;const d=()=>t[18](e,_),b=()=>t[18](null,_);function s(){return t[19](t[28])}return{c(){e=j("button"),l=j("img"),u=C(),c(l,"alt",""),c(l,"class","h-full w-full overflow-hidden object-contain svelte-9r19iu"),D(l.src,i=t[26])||c(l,"src",i),c(e,"class",o="gallery-item !flex-none !h-9 !w-9 transition-all duration-75 "+(t[6]===t[28]?"!ring-2 !ring-orange-500 hover:!ring-orange-500":"scale-90 transform")+" svelte-9r19iu")},m(r,n){v(r,e,n),k(e,l),k(e,u),d(),f||(m=M(e,"click",s),f=!0)},p(r,n){t=r,n&16&&!D(l.src,i=t[26])&&c(l,"src",i),n&64&&o!==(o="gallery-item !flex-none !h-9 !w-9 transition-all duration-75 "+(t[6]===t[28]?"!ring-2 !ring-orange-500 hover:!ring-orange-500":"scale-90 transform")+" svelte-9r19iu")&&c(e,"class",o),_!==t[28]&&(b(),_=t[28],d())},d(r){r&&y(e),b(),f=!1,m()}}}function W(t){let e;return{c(){e=j("p"),e.textContent="Empty",c(e,"class","svelte-9r19iu")},m(l,i){v(l,e,i)},p:A,d(l){l&&y(e)}}}function X(t){let e,l,i,u,o,_;function f(){return t[21](t[28])}return{c(){e=j("button"),l=j("img"),u=C(),c(l,"alt",""),c(l,"class","h-full w-full overflow-hidden object-contain svelte-9r19iu"),D(l.src,i=t[26])||c(l,"src",i),c(e,"class","gallery-item svelte-9r19iu")},m(m,d){v(m,e,d),k(e,l),k(e,u),o||(_=M(e,"click",f),o=!0)},p(m,d){t=m,d&16&&!D(l.src,i=t[26])&&c(l,"src",i)},d(m){m&&y(e),o=!1,_()}}}function Ce(t){let e,l,i,u,o,_,f,m;const d=[t[0]];let b={};for(let a=0;a<d.length;a+=1)b=_e(b,d[a]);e=new he({props:b}),i=new ve({props:{show_label:t[1],Icon:ne,label:t[2]||"Gallery"}});const s=[Be,ze],r=[];function n(a,h){return a[4]===null?0:1}return o=n(t),_=r[o]=s[o](t),{c(){H(e.$$.fragment),l=C(),H(i.$$.fragment),u=C(),_.c(),f=ge()},m(a,h){I(e,a,h),v(a,l,h),I(i,a,h),v(a,u,h),r[o].m(a,h),v(a,f,h),m=!0},p(a,h){const w=h&1?me(d,[de(a[0])]):{};e.$set(w);const L={};h&2&&(L.show_label=a[1]),h&4&&(L.label=a[2]||"Gallery"),i.$set(L);let q=o;o=n(a),o===q?r[o].p(a,h):(ee(),B(r[q],1,1,()=>{r[q]=null}),le(),_=r[o],_?_.p(a,h):(_=r[o]=s[o](a),_.c()),z(_,1),_.m(f.parentNode,f))},i(a){m||(z(e.$$.fragment,a),z(i.$$.fragment,a),z(_),m=!0)},o(a){B(e.$$.fragment,a),B(i.$$.fragment,a),B(_),m=!1},d(a){N(e,a),a&&y(l),N(i,a),a&&y(u),r[o].d(a),a&&y(f)}}}function Ge(t){let e,l,i,u;return $(t[15]),e=new we({props:{variant:"solid",color:"grey",padding:!1,elem_id:t[3],$$slots:{default:[Ce]},$$scope:{ctx:t}}}),{c(){H(e.$$.fragment)},m(o,_){I(e,o,_),l=!0,i||(u=M(window,"resize",t[15]),i=!0)},p(o,[_]){const f={};_&8&&(f.elem_id=o[3]),_&1073757943&&(f.$$scope={dirty:_,ctx:o}),e.$set(f)},i(o){l||(z(e.$$.fragment,o),l=!0)},o(o){B(e.$$.fragment,o),l=!1},d(o){N(e,o),i=!1,u()}}}function De(t,e,l){let i,u,o,_,{loading_status:f}=e,{show_label:m}=e,{label:d}=e,{elem_id:b=""}=e,{value:s=null}=e,{style:r={}}=e,n=null;function a(g){switch(g.code){case"Escape":g.preventDefault(),l(6,n=null);break;case"ArrowLeft":g.preventDefault(),l(6,n=i);break;case"ArrowRight":g.preventDefault(),l(6,n=u);break}}let h=[],w;async function L(g){if(typeof g!="number")return;await be(),h[g].focus();const{left:G,width:S}=w.getBoundingClientRect(),{left:U,width:E}=h[g].getBoundingClientRect(),F=U-G+E/2-S/2+w.scrollLeft;w.scrollTo({left:F<0?0:F,behavior:"smooth"})}let q=["","sm:","md:","lg:","xl:","2xl:"],R=0,O=0;function ie(){l(8,O=window.innerHeight)}const se=()=>l(6,n=null),re=()=>l(6,n=u);function oe(g,G){J[g?"unshift":"push"](()=>{h[G]=g,l(9,h)})}const ae=g=>l(6,n=g);function ue(g){J[g?"unshift":"push"](()=>{w=g,l(10,w)})}const fe=g=>l(6,n=_?g:n);function ce(){R=this.clientHeight,l(7,R)}return t.$$set=g=>{"loading_status"in g&&l(0,f=g.loading_status),"show_label"in g&&l(1,m=g.show_label),"label"in g&&l(2,d=g.label),"elem_id"in g&&l(3,b=g.elem_id),"value"in g&&l(4,s=g.value),"style"in g&&l(5,r=g.style)},t.$$.update=()=>{var g,G,S;t.$$.dirty&80&&(i=((n!=null?n:0)+((g=s==null?void 0:s.length)!=null?g:0)-1)%((G=s==null?void 0:s.length)!=null?G:0)),t.$$.dirty&80&&l(13,u=((n!=null?n:0)+1)%((S=s==null?void 0:s.length)!=null?S:0)),t.$$.dirty&64&&L(n),t.$$.dirty&32&&l(12,o=r.grid?Array(6).fill(0).map((U,E)=>`${q[E]}grid-cols-${r.grid[E]||r.grid[r.grid.length-1]}`).join(" "):"grid-cols-3 md:grid-cols-4 lg:grid-cols-6"),t.$$.dirty&384&&l(11,_=O>=R)},[f,m,d,b,s,r,n,R,O,h,w,_,o,u,a,ie,se,re,oe,ae,ue,fe,ce]}class Le extends Y{constructor(e){super(),Z(this,e,De,Ge,x,{loading_status:0,show_label:1,label:2,elem_id:3,value:4,style:5})}}var Re=Le;const Se=["static"];export{Re as Component,Se as modes};
