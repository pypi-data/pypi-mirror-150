import{S as F,i as G,s as K,a as X,b as m,c as p,d as w,n as C,e as v,q as B,m as M,k as D,u as V,y as L,w as k,z as W,v as h,x as j,A as Q,E as y,f as I,h as S,j as U,G as E,l as q,r as R,C as Z,I as x,F as $,J as ee,X as le,K as te,L as ne,M as ae}from"./index.aa16d394.js";import{B as oe}from"./Block.c24828fd.js";import{n as ie}from"./utils.49185b04.js";import{U as re}from"./Upload.f52ffe3a.js";import{M as se}from"./ModifyUpload.378ad93b.js";import{B as Y}from"./BlockLabel.539d9985.js";import{W as ue}from"./Image.svelte_svelte_type_style_lang.70e06aee.js";import{S as fe}from"./StatusTracker.35d92dc4.js";import"./_commonjsHelpers.88e99c8f.js";function ce(a){let e,t,l;return{c(){e=X("svg"),t=X("polygon"),l=X("rect"),m(t,"points","23 7 16 12 23 17 23 7"),m(l,"x","1"),m(l,"y","5"),m(l,"width","15"),m(l,"height","14"),m(l,"rx","2"),m(l,"ry","2"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"width","100%"),m(e,"height","100%"),m(e,"viewBox","0 0 24 24"),m(e,"fill","none"),m(e,"stroke","currentColor"),m(e,"stroke-width","1.5"),m(e,"stroke-linecap","round"),m(e,"stroke-linejoin","round"),m(e,"class","feather feather-video")},m(n,o){p(n,e,o),w(e,t),w(e,l)},p:C,i:C,o:C,d(n){n&&v(e)}}}class H extends F{constructor(e){super(),G(this,e,null,ce,K,{})}}const O=a=>{let e=["B","KB","MB","GB","PB"],t=0;for(;a>1024;)a/=1024,t++;let l=e[t];return a.toFixed(1)+" "+l},_e=a=>!0;function de(a){let e,t,l,n,o;e=new se({}),e.$on("clear",a[9]);function s(u,i){if(i&1&&(l=null),l==null&&(l=!!_e(u[0].name)),l)return ge;if(u[0].size)return me}let c=s(a,-1),r=c&&c(a);return{c(){B(e.$$.fragment),t=M(),r&&r.c(),n=D()},m(u,i){V(e,u,i),p(u,t,i),r&&r.m(u,i),p(u,n,i),o=!0},p(u,i){c===(c=s(u,i))&&r?r.p(u,i):(r&&r.d(1),r=c&&c(u),r&&(r.c(),r.m(n.parentNode,n)))},i(u){o||(h(e.$$.fragment,u),o=!0)},o(u){k(e.$$.fragment,u),o=!1},d(u){j(e,u),u&&v(t),r&&r.d(u),u&&v(n)}}}function be(a){let e,t,l,n;const o=[he,ke],s=[];function c(r,u){return r[1]==="upload"?0:r[1]==="webcam"?1:-1}return~(e=c(a))&&(t=s[e]=o[e](a)),{c(){t&&t.c(),l=D()},m(r,u){~e&&s[e].m(r,u),p(r,l,u),n=!0},p(r,u){let i=e;e=c(r),e===i?~e&&s[e].p(r,u):(t&&(L(),k(s[i],1,1,()=>{s[i]=null}),W()),~e?(t=s[e],t?t.p(r,u):(t=s[e]=o[e](r),t.c()),h(t,1),t.m(l.parentNode,l)):t=null)},i(r){n||(h(t),n=!0)},o(r){k(t),n=!1},d(r){~e&&s[e].d(r),r&&v(l)}}}function me(a){let e,t=a[0].name+"",l,n,o,s=O(a[0].size)+"",c;return{c(){e=I("div"),l=S(t),n=M(),o=I("div"),c=S(s),m(e,"class","file-name text-4xl p-6 break-all"),m(o,"class","file-size text-2xl p-2")},m(r,u){p(r,e,u),w(e,l),p(r,n,u),p(r,o,u),w(o,c)},p(r,u){u&1&&t!==(t=r[0].name+"")&&U(l,t),u&1&&s!==(s=O(r[0].size)+"")&&U(c,s)},d(r){r&&v(e),r&&v(n),r&&v(o)}}}function ge(a){let e,t,l,n;return{c(){e=I("video"),m(e,"class","w-full h-full object-contain bg-black"),e.controls=!0,e.playsInline=!0,m(e,"preload","auto"),E(e.src,t=a[0].data)||m(e,"src",t)},m(o,s){p(o,e,s),l||(n=[q(e,"play",a[11]),q(e,"pause",a[12]),q(e,"ended",a[13])],l=!0)},p(o,s){s&1&&!E(e.src,t=o[0].data)&&m(e,"src",t)},d(o){o&&v(e),l=!1,R(n)}}}function ke(a){let e,t;return e=new ue({props:{mode:"video"}}),e.$on("capture",a[15]),{c(){B(e.$$.fragment)},m(l,n){V(e,l,n),t=!0},p:C,i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){j(e,l)}}}function he(a){let e,t,l;function n(s){a[14](s)}let o={filetype:"video/mp4,video/x-m4v,video/*",$$slots:{default:[pe]},$$scope:{ctx:a}};return a[7]!==void 0&&(o.dragging=a[7]),e=new re({props:o}),Z.push(()=>x(e,"dragging",n)),e.$on("load",a[8]),{c(){B(e.$$.fragment)},m(s,c){V(e,s,c),l=!0},p(s,c){const r={};c&131184&&(r.$$scope={dirty:c,ctx:s}),!t&&c&128&&(t=!0,r.dragging=s[7],$(()=>t=!1)),e.$set(r)},i(s){l||(h(e.$$.fragment,s),l=!0)},o(s){k(e.$$.fragment,s),l=!1},d(s){j(e,s)}}}function pe(a){let e,t,l,n,o,s,c,r,u;return{c(){e=I("div"),t=S(a[4]),l=M(),n=I("span"),o=S("- "),s=S(a[5]),c=S(" -"),r=M(),u=S(a[6]),m(n,"class","text-gray-300"),m(e,"class","flex flex-col")},m(i,f){p(i,e,f),w(e,t),w(e,l),w(e,n),w(n,o),w(n,s),w(n,c),w(e,r),w(e,u)},p(i,f){f&16&&U(t,i[4]),f&32&&U(s,i[5]),f&64&&U(u,i[6])},d(i){i&&v(e)}}}function ve(a){let e,t,l,n,o,s;e=new Y({props:{show_label:a[3],Icon:H,label:a[2]||"Video"}});const c=[be,de],r=[];function u(i,f){return i[0]===null?0:1}return l=u(a),n=r[l]=c[l](a),{c(){B(e.$$.fragment),t=M(),n.c(),o=D()},m(i,f){V(e,i,f),p(i,t,f),r[l].m(i,f),p(i,o,f),s=!0},p(i,[f]){const _={};f&8&&(_.show_label=i[3]),f&4&&(_.label=i[2]||"Video"),e.$set(_);let g=l;l=u(i),l===g?r[l].p(i,f):(L(),k(r[g],1,1,()=>{r[g]=null}),W(),n=r[l],n?n.p(i,f):(n=r[l]=c[l](i),n.c()),h(n,1),n.m(o.parentNode,o))},i(i){s||(h(e.$$.fragment,i),h(n),s=!0)},o(i){k(e.$$.fragment,i),k(n),s=!1},d(i){j(e,i),i&&v(t),r[l].d(i),i&&v(o)}}}function we(a,e,t){let{value:l=null}=e,{source:n}=e,{label:o=void 0}=e,{style:s=""}=e,{show_label:c}=e,{drop_text:r="Drop a video file"}=e,{or_text:u="or"}=e,{upload_text:i="click to upload"}=e;const f=Q();function _({detail:d}){f("change",d),t(0,l=d)}function g({detail:d}){t(0,l=null),f("change",d),f("clear")}let z=!1;function N(d){y.call(this,a,d)}function A(d){y.call(this,a,d)}function J(d){y.call(this,a,d)}function P(d){z=d,t(7,z)}const T=({detail:d})=>t(0,l=d);return a.$$set=d=>{"value"in d&&t(0,l=d.value),"source"in d&&t(1,n=d.source),"label"in d&&t(2,o=d.label),"style"in d&&t(10,s=d.style),"show_label"in d&&t(3,c=d.show_label),"drop_text"in d&&t(4,r=d.drop_text),"or_text"in d&&t(5,u=d.or_text),"upload_text"in d&&t(6,i=d.upload_text)},a.$$.update=()=>{a.$$.dirty&128&&f("drag",z)},[l,n,o,c,r,u,i,z,_,g,s,N,A,J,P,T]}class ye extends F{constructor(e){super(),G(this,e,we,ve,K,{value:0,source:1,label:2,style:10,show_label:3,drop_text:4,or_text:5,upload_text:6})}}function Be(a){let e,t,l,n;return{c(){e=I("video"),m(e,"class","w-full h-full object-contain bg-black"),e.controls=!0,e.playsInline=!0,m(e,"preload","auto"),E(e.src,t=a[0].data)||m(e,"src",t)},m(o,s){p(o,e,s),l||(n=[q(e,"play",a[4]),q(e,"pause",a[5]),q(e,"ended",a[6])],l=!0)},p(o,s){s&1&&!E(e.src,t=o[0].data)&&m(e,"src",t)},i:C,o:C,d(o){o&&v(e),l=!1,R(n)}}}function Ve(a){let e,t,l,n;return l=new H({}),{c(){e=I("div"),t=I("div"),B(l.$$.fragment),m(t,"class","h-10 dark:text-white opacity-50"),m(e,"class","min-h-[16rem] flex justify-center items-center")},m(o,s){p(o,e,s),w(e,t),V(l,t,null),n=!0},p:C,i(o){n||(h(l.$$.fragment,o),n=!0)},o(o){k(l.$$.fragment,o),n=!1},d(o){o&&v(e),j(l)}}}function je(a){let e,t,l,n,o,s;e=new Y({props:{show_label:a[2],Icon:H,label:a[1]||"Video"}});const c=[Ve,Be],r=[];function u(i,f){return i[0]===null?0:1}return l=u(a),n=r[l]=c[l](a),{c(){B(e.$$.fragment),t=M(),n.c(),o=D()},m(i,f){V(e,i,f),p(i,t,f),r[l].m(i,f),p(i,o,f),s=!0},p(i,[f]){const _={};f&4&&(_.show_label=i[2]),f&2&&(_.label=i[1]||"Video"),e.$set(_);let g=l;l=u(i),l===g?r[l].p(i,f):(L(),k(r[g],1,1,()=>{r[g]=null}),W(),n=r[l],n?n.p(i,f):(n=r[l]=c[l](i),n.c()),h(n,1),n.m(o.parentNode,o))},i(i){s||(h(e.$$.fragment,i),h(n),s=!0)},o(i){k(e.$$.fragment,i),k(n),s=!1},d(i){j(e,i),i&&v(t),r[l].d(i),i&&v(o)}}}function ze(a,e,t){let{value:l=null}=e,{label:n=void 0}=e,{style:o=""}=e,{show_label:s}=e;const c=Q();function r(f){y.call(this,a,f)}function u(f){y.call(this,a,f)}function i(f){y.call(this,a,f)}return a.$$set=f=>{"value"in f&&t(0,l=f.value),"label"in f&&t(1,n=f.label),"style"in f&&t(3,o=f.style),"show_label"in f&&t(2,s=f.show_label)},a.$$.update=()=>{a.$$.dirty&1&&l&&c("change",l)},[l,n,s,o,r,u,i]}class Ie extends F{constructor(e){super(),G(this,e,ze,je,K,{value:0,label:1,style:3,show_label:2})}}function Ne(a){let e,t;return e=new ye({props:{value:a[7],label:a[1],show_label:a[4],style:a[2],source:a[3],drop_text:a[9]("interface.drop_video"),or_text:a[9]("or"),upload_text:a[9]("interface.click_to_upload")}}),e.$on("change",a[12]),e.$on("drag",a[13]),e.$on("change",a[14]),e.$on("clear",a[15]),e.$on("play",a[16]),e.$on("pause",a[17]),{c(){B(e.$$.fragment)},m(l,n){V(e,l,n),t=!0},p(l,n){const o={};n&128&&(o.value=l[7]),n&2&&(o.label=l[1]),n&16&&(o.show_label=l[4]),n&4&&(o.style=l[2]),n&8&&(o.source=l[3]),n&512&&(o.drop_text=l[9]("interface.drop_video")),n&512&&(o.or_text=l[9]("or")),n&512&&(o.upload_text=l[9]("interface.click_to_upload")),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){j(e,l)}}}function Se(a){let e,t;return e=new Ie({props:{value:a[7],label:a[1],show_label:a[4],style:a[2]}}),{c(){B(e.$$.fragment)},m(l,n){V(e,l,n),t=!0},p(l,n){const o={};n&128&&(o.value=l[7]),n&2&&(o.label=l[1]),n&16&&(o.show_label=l[4]),n&4&&(o.style=l[2]),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){j(e,l)}}}function Ce(a){let e,t,l,n,o,s;const c=[a[5]];let r={};for(let _=0;_<c.length;_+=1)r=te(r,c[_]);e=new fe({props:r});const u=[Se,Ne],i=[];function f(_,g){return _[6]==="static"?0:1}return l=f(a),n=i[l]=u[l](a),{c(){B(e.$$.fragment),t=M(),n.c(),o=D()},m(_,g){V(e,_,g),p(_,t,g),i[l].m(_,g),p(_,o,g),s=!0},p(_,g){const z=g&32?ne(c,[ae(_[5])]):{};e.$set(z);let N=l;l=f(_),l===N?i[l].p(_,g):(L(),k(i[N],1,1,()=>{i[N]=null}),W(),n=i[l],n?n.p(_,g):(n=i[l]=u[l](_),n.c()),h(n,1),n.m(o.parentNode,o))},i(_){s||(h(e.$$.fragment,_),h(n),s=!0)},o(_){k(e.$$.fragment,_),k(n),s=!1},d(_){j(e,_),_&&v(t),i[l].d(_),_&&v(o)}}}function Me(a){let e,t;return e=new oe({props:{variant:a[6]==="dynamic"&&a[0]===null&&a[3]==="upload"?"dashed":"solid",color:a[8]?"green":"grey",padding:!1,$$slots:{default:[Ce]},$$scope:{ctx:a}}}),{c(){B(e.$$.fragment)},m(l,n){V(e,l,n),t=!0},p(l,[n]){const o={};n&73&&(o.variant=l[6]==="dynamic"&&l[0]===null&&l[3]==="upload"?"dashed":"solid"),n&256&&(o.color=l[8]?"green":"grey"),n&263167&&(o.$$scope={dirty:n,ctx:l}),e.$set(o)},i(l){t||(h(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){j(e,l)}}}function qe(a,e,t){let l;ee(a,le,b=>t(9,l=b));let{value:n=null}=e,{label:o}=e,{default_value:s}=e,{style:c=""}=e,{source:r}=e,{root:u}=e,{show_label:i}=e,{loading_status:f}=e,{mode:_}=e;s&&(n=s);let g,z=!1;const N=({detail:b})=>t(0,n=b),A=({detail:b})=>t(8,z=b);function J(b){y.call(this,a,b)}function P(b){y.call(this,a,b)}function T(b){y.call(this,a,b)}function d(b){y.call(this,a,b)}return a.$$set=b=>{"value"in b&&t(0,n=b.value),"label"in b&&t(1,o=b.label),"default_value"in b&&t(10,s=b.default_value),"style"in b&&t(2,c=b.style),"source"in b&&t(3,r=b.source),"root"in b&&t(11,u=b.root),"show_label"in b&&t(4,i=b.show_label),"loading_status"in b&&t(5,f=b.loading_status),"mode"in b&&t(6,_=b.mode)},a.$$.update=()=>{a.$$.dirty&2049&&t(7,g=ie(n,u))},[n,o,c,r,i,f,_,g,z,l,s,u,N,A,J,P,T,d]}class Ue extends F{constructor(e){super(),G(this,e,qe,Me,K,{value:0,label:1,default_value:10,style:2,source:3,root:11,show_label:4,loading_status:5,mode:6})}}var Pe=Ue;const Te=["static","dynamic"];export{Pe as Component,Te as modes};
