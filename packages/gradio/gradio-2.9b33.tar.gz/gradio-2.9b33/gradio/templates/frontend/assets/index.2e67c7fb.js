import{S as P,i as Q,s as V,a as A,b as c,c as k,d as p,n as D,e as w,q as I,u as M,v as y,w as B,x as R,K as te,m as C,k as ne,L as se,M as re,y as W,z as X,_ as oe,C as T,f as v,G as L,l as E,o as Y,r as ie}from"./index.6985e9ce.js";import{B as ae}from"./Block.55985ba8.js";import{B as ce}from"./BlockLabel.e55266dd.js";import{M as fe}from"./ModifyUpload.6460965c.js";import{S as ue}from"./StatusTracker.00f9ec3e.js";function _e(n){let e,l,t,o;return{c(){e=A("svg"),l=A("rect"),t=A("circle"),o=A("polyline"),c(l,"x","3"),c(l,"y","3"),c(l,"width","18"),c(l,"height","18"),c(l,"rx","2"),c(l,"ry","2"),c(t,"cx","8.5"),c(t,"cy","8.5"),c(t,"r","1.5"),c(o,"points","21 15 16 10 5 21"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"width","1em"),c(e,"height","1em"),c(e,"viewBox","0 0 24 24"),c(e,"fill","none"),c(e,"stroke","currentColor"),c(e,"stroke-width","1.5"),c(e,"stroke-linecap","round"),c(e,"stroke-linejoin","round"),c(e,"class","feather feather-image")},m(s,u){k(s,e,u),p(e,l),p(e,t),p(e,o)},p:D,i:D,o:D,d(s){s&&w(e)}}}class Z extends P{constructor(e){super(),Q(this,e,null,_e,V,{})}}function K(n,e,l){const t=n.slice();return t[18]=e[l],t[20]=l,t}function U(n,e,l){const t=n.slice();return t[18]=e[l],t[21]=e,t[20]=l,t}function me(n){let e,l,t,o,s=n[4]!==null&&F(n),u=n[3],m=[];for(let i=0;i<u.length;i+=1)m[i]=O(K(n,u,i));let r=null;return u.length||(r=J()),{c(){s&&s.c(),e=C(),l=v("div"),t=v("div");for(let i=0;i<m.length;i+=1)m[i].c();r&&r.c(),c(t,"class","pt-6 grid grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2 svelte-9r19iu"),c(l,"class","overflow-y-auto h-full p-2 min-h-[350px] xl:min-h-[450px] max-h-[55vh] svelte-9r19iu")},m(i,g){s&&s.m(i,g),k(i,e,g),k(i,l,g),p(l,t);for(let b=0;b<m.length;b+=1)m[b].m(t,null);r&&r.m(t,null),o=!0},p(i,g){if(i[4]!==null?s?(s.p(i,g),g&16&&y(s,1)):(s=F(i),s.c(),y(s,1),s.m(e.parentNode,e)):s&&(W(),B(s,1,1,()=>{s=null}),X()),g&24){u=i[3];let b;for(b=0;b<u.length;b+=1){const f=K(i,u,b);m[b]?m[b].p(f,g):(m[b]=O(f),m[b].c(),m[b].m(t,null))}for(;b<m.length;b+=1)m[b].d(1);m.length=u.length,!u.length&&r?r.p(i,g):u.length?r&&(r.d(1),r=null):(r=J(),r.c(),r.m(t,null))}},i(i){o||(y(s),o=!0)},o(i){B(s),o=!1},d(i){s&&s.d(i),i&&w(e),i&&w(l),Y(m,i),r&&r.d()}}}function ge(n){let e,l,t;return l=new Z({}),{c(){e=v("div"),I(l.$$.fragment),c(e,"class","min-h-[16rem] flex justify-center items-center svelte-9r19iu")},m(o,s){k(o,e,s),M(l,e,null),t=!0},p:D,i(o){t||(y(l.$$.fragment,o),t=!0)},o(o){B(l.$$.fragment,o),t=!1},d(o){o&&w(e),R(l)}}}function F(n){let e,l,t,o,s,u,m,r,i,g;l=new fe({}),l.$on("clear",n[10]);let b=n[3],f=[];for(let _=0;_<b.length;_+=1)f[_]=H(U(n,b,_));return{c(){e=v("div"),I(l.$$.fragment),t=C(),o=v("img"),u=C(),m=v("div");for(let _=0;_<f.length;_+=1)f[_].c();c(o,"class","w-full object-contain h-[calc(100%-50px)] svelte-9r19iu"),L(o.src,s=n[3][n[4]])||c(o,"src",s),c(o,"alt",""),c(m,"class","absolute h-[50px] bg-white overflow-x-scroll scroll-hide w-full bottom-0 flex gap-1.5 items-center py-2 text-sm px-3 svelte-9r19iu"),c(e,"class","absolute inset-0 z-10 flex flex-col bg-white/90 dark:bg-gray-900 backdrop-blur min-h-[350px] xl:min-h-[450px] max-h-[55vh] svelte-9r19iu")},m(_,a){k(_,e,a),M(l,e,null),p(e,t),p(e,o),p(e,u),p(e,m);for(let h=0;h<f.length;h+=1)f[h].m(m,null);n[14](m),r=!0,i||(g=[E(o,"click",n[11]),E(e,"keydown",n[8])],i=!0)},p(_,a){if((!r||a&24&&!L(o.src,s=_[3][_[4]]))&&c(o,"src",s),a&56){b=_[3];let h;for(h=0;h<b.length;h+=1){const j=U(_,b,h);f[h]?f[h].p(j,a):(f[h]=H(j),f[h].c(),f[h].m(m,null))}for(;h<f.length;h+=1)f[h].d(1);f.length=b.length}},i(_){r||(y(l.$$.fragment,_),r=!0)},o(_){B(l.$$.fragment,_),r=!1},d(_){_&&w(e),R(l),Y(f,_),n[14](null),i=!1,ie(g)}}}function H(n){let e,l,t,o,s,u=n[20],m,r;const i=()=>n[12](e,u),g=()=>n[12](null,u);function b(){return n[13](n[20])}return{c(){e=v("button"),l=v("img"),o=C(),c(l,"alt",""),c(l,"class","h-full w-full overflow-hidden object-contain svelte-9r19iu"),L(l.src,t=n[18])||c(l,"src",t),c(e,"class",s="gallery-item !flex-none !h-7 !w-7 transition-all duration-75 "+(n[4]===n[20]?"!ring-2 !ring-orange-500 hover:!ring-orange-500":"scale-90 transform")+" svelte-9r19iu")},m(f,_){k(f,e,_),p(e,l),p(e,o),i(),m||(r=E(e,"click",b),m=!0)},p(f,_){n=f,_&8&&!L(l.src,t=n[18])&&c(l,"src",t),_&16&&s!==(s="gallery-item !flex-none !h-7 !w-7 transition-all duration-75 "+(n[4]===n[20]?"!ring-2 !ring-orange-500 hover:!ring-orange-500":"scale-90 transform")+" svelte-9r19iu")&&c(e,"class",s),u!==n[20]&&(g(),u=n[20],i())},d(f){f&&w(e),g(),m=!1,r()}}}function J(n){let e;return{c(){e=v("p"),e.textContent="Empty",c(e,"class","svelte-9r19iu")},m(l,t){k(l,e,t)},p:D,d(l){l&&w(e)}}}function O(n){let e,l,t,o,s,u;function m(){return n[15](n[20])}return{c(){e=v("button"),l=v("img"),o=C(),c(l,"alt",""),c(l,"class","h-full w-full overflow-hidden object-contain svelte-9r19iu"),L(l.src,t=n[18])||c(l,"src",t),c(e,"class","gallery-item svelte-9r19iu")},m(r,i){k(r,e,i),p(e,l),p(e,o),s||(u=E(e,"click",m),s=!0)},p(r,i){n=r,i&8&&!L(l.src,t=n[18])&&c(l,"src",t)},d(r){r&&w(e),s=!1,u()}}}function he(n){let e,l,t,o,s,u,m,r;const i=[n[0]];let g={};for(let a=0;a<i.length;a+=1)g=te(g,i[a]);e=new ue({props:g}),t=new ce({props:{show_label:n[1],Icon:Z,label:n[2]||"Gallery"}});const b=[ge,me],f=[];function _(a,h){return a[3]===null?0:1}return s=_(n),u=f[s]=b[s](n),{c(){I(e.$$.fragment),l=C(),I(t.$$.fragment),o=C(),u.c(),m=ne()},m(a,h){M(e,a,h),k(a,l,h),M(t,a,h),k(a,o,h),f[s].m(a,h),k(a,m,h),r=!0},p(a,h){const j=h&1?se(i,[re(a[0])]):{};e.$set(j);const S={};h&2&&(S.show_label=a[1]),h&4&&(S.label=a[2]||"Gallery"),t.$set(S);let q=s;s=_(a),s===q?f[s].p(a,h):(W(),B(f[q],1,1,()=>{f[q]=null}),X(),u=f[s],u?u.p(a,h):(u=f[s]=b[s](a),u.c()),y(u,1),u.m(m.parentNode,m))},i(a){r||(y(e.$$.fragment,a),y(t.$$.fragment,a),y(u),r=!0)},o(a){B(e.$$.fragment,a),B(t.$$.fragment,a),B(u),r=!1},d(a){R(e,a),a&&w(l),R(t,a),a&&w(o),f[s].d(a),a&&w(m)}}}function de(n){let e,l;return e=new ae({props:{variant:"solid",color:"grey",padding:!1,$$slots:{default:[he]},$$scope:{ctx:n}}}),{c(){I(e.$$.fragment)},m(t,o){M(e,t,o),l=!0},p(t,[o]){const s={};o&4194559&&(s.$$scope={dirty:o,ctx:t}),e.$set(s)},i(t){l||(y(e.$$.fragment,t),l=!0)},o(t){B(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function be(n,e,l){let t,o,{loading_status:s}=e,{show_label:u}=e,{label:m}=e,{value:r=null}=e,{style:i=""}=e,g=null;function b(d){switch(d.code){case"Escape":d.preventDefault(),l(4,g=null);break;case"ArrowLeft":d.preventDefault(),l(4,g=t);break;case"ArrowRight":d.preventDefault(),l(4,g=o);break}}let f=[],_;async function a(d){if(typeof d!="number")return;await oe(),f[d].focus();const{left:G,width:z}=_.getBoundingClientRect(),{left:ee,width:le}=f[d].getBoundingClientRect(),N=ee-G+le/2-z/2+_.scrollLeft;_.scrollTo({left:N<0?0:N,behavior:"smooth"})}const h=()=>l(4,g=null),j=()=>l(4,g=o);function S(d,G){T[d?"unshift":"push"](()=>{f[G]=d,l(5,f)})}const q=d=>l(4,g=d);function x(d){T[d?"unshift":"push"](()=>{_=d,l(6,_)})}const $=d=>l(4,g=d);return n.$$set=d=>{"loading_status"in d&&l(0,s=d.loading_status),"show_label"in d&&l(1,u=d.show_label),"label"in d&&l(2,m=d.label),"value"in d&&l(3,r=d.value),"style"in d&&l(9,i=d.style)},n.$$.update=()=>{var d,G,z;n.$$.dirty&24&&(t=((g!=null?g:0)+((d=r==null?void 0:r.length)!=null?d:0)-1)%((G=r==null?void 0:r.length)!=null?G:0)),n.$$.dirty&24&&l(7,o=((g!=null?g:0)+1)%((z=r==null?void 0:r.length)!=null?z:0)),n.$$.dirty&16&&a(g)},[s,u,m,r,g,f,_,o,b,i,h,j,S,q,x,$]}class pe extends P{constructor(e){super(),Q(this,e,be,de,V,{loading_status:0,show_label:1,label:2,value:3,style:9})}}var je=pe;const Ge=["static"];export{je as Component,Ge as modes};
