import{S as G,i as I,s as K,q as y,m as z,k as L,u as M,c as h,y as V,w as v,z as A,v as F,x as D,e as p,f as N,b as g,d as k,n as q,a as H,h as B,j as U,A as T,a3 as X,D as Q,J as R,G as W,K as Y,X as Z,L as x,M as $,N as ee,O as le,F as J}from"./index.b4d5d9f1.js";import{B as P}from"./BlockLabel.c3bfaeae.js";import{F as E}from"./File.d9c05912.js";import{U as te}from"./Upload.60fa189f.js";import{M as ae}from"./ModifyUpload.69e0887b.js";import{B as ne}from"./Block.e17732c6.js";import{n as oe}from"./utils.49185b04.js";import"./styles.d87a390f.js";const S=o=>{let e=["B","KB","MB","GB","PB"],a=0;for(;o>1024;)o/=1024,a++;let l=e[a];return o.toFixed(1)+" "+l};function ie(o){let e,a,l,n;return l=new E({}),{c(){e=N("div"),a=N("div"),y(l.$$.fragment),g(a,"class","h-5 dark:text-white opacity-50"),g(e,"class","min-h-[15rem] flex justify-center items-center")},m(i,s){h(i,e,s),k(e,a),M(l,a,null),n=!0},p:q,i(i){n||(F(l.$$.fragment,i),n=!0)},o(i){v(l.$$.fragment,i),n=!1},d(i){i&&p(e),D(l)}}}function se(o){let e,a,l,n,i,s=o[0].name+"",d,u,b,t=(isNaN(o[0].size||NaN)?"":S(o[0].size||0))+"",r,f,_;return{c(){e=N("a"),a=H("svg"),l=H("path"),n=z(),i=N("div"),d=B(s),u=z(),b=N("div"),r=B(t),g(l,"stroke-linecap","round"),g(l,"stroke-linejoin","round"),g(l,"stroke-width","2"),g(l,"d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"),g(a,"xmlns","http://www.w3.org/2000/svg"),g(a,"class","h-5 w-1/5"),g(a,"fill","none"),g(a,"viewBox","0 0 24 24"),g(a,"stroke","currentColor"),g(i,"class","file-name w-3/5 text-4xl p-6 break-all"),g(b,"class","text-2xl p-2"),g(e,"class","output-file w-full h-full flex flex-row flex-wrap justify-center items-center relative"),g(e,"href",f=o[0].data),g(e,"download",_=o[0].name)},m(w,c){h(w,e,c),k(e,a),k(a,l),k(e,n),k(e,i),k(i,d),k(e,u),k(e,b),k(b,r)},p(w,c){c&1&&s!==(s=w[0].name+"")&&U(d,s),c&1&&t!==(t=(isNaN(w[0].size||NaN)?"":S(w[0].size||0))+"")&&U(r,t),c&1&&f!==(f=w[0].data)&&g(e,"href",f),c&1&&_!==(_=w[0].name)&&g(e,"download",_)},i:q,o:q,d(w){w&&p(e)}}}function fe(o){let e,a,l,n,i,s;e=new P({props:{show_label:o[2],Icon:E,label:o[1]||"File"}});const d=[se,ie],u=[];function b(t,r){return t[0]?0:1}return l=b(o),n=u[l]=d[l](o),{c(){y(e.$$.fragment),a=z(),n.c(),i=L()},m(t,r){M(e,t,r),h(t,a,r),u[l].m(t,r),h(t,i,r),s=!0},p(t,[r]){const f={};r&4&&(f.show_label=t[2]),r&2&&(f.label=t[1]||"File"),e.$set(f);let _=l;l=b(t),l===_?u[l].p(t,r):(V(),v(u[_],1,1,()=>{u[_]=null}),A(),n=u[l],n?n.p(t,r):(n=u[l]=d[l](t),n.c()),F(n,1),n.m(i.parentNode,i))},i(t){s||(F(e.$$.fragment,t),F(n),s=!0)},o(t){v(e.$$.fragment,t),v(n),s=!1},d(t){D(e,t),t&&p(a),u[l].d(t),t&&p(i)}}}function re(o,e,a){let{value:l}=e,{label:n}=e,{show_label:i}=e;return o.$$set=s=>{"value"in s&&a(0,l=s.value),"label"in s&&a(1,n=s.label),"show_label"in s&&a(2,i=s.show_label)},[l,n,i]}class ue extends G{constructor(e){super(),I(this,e,re,fe,K,{value:0,label:1,show_label:2})}}function _e(o){let e,a,l,n,i=O(o[0].name)+"",s,d,u,b=S(o[0].size||0)+"",t,r,f,_,w,c,j;return a=new ae({props:{absolute:!0}}),a.$on("clear",o[8]),{c(){e=N("div"),y(a.$$.fragment),l=z(),n=N("div"),s=B(i),d=z(),u=N("div"),t=B(b),r=z(),f=N("div"),_=N("a"),w=B("Download"),g(n,"class","file-name p-2"),g(u,"class","file-size p-2"),g(_,"href",c=o[0].data),g(_,"download",""),g(_,"class","text-indigo-600 hover:underline"),g(f,"class","file-size p-2 hover:underline"),g(e,"class","file-preview w-full flex flex-row justify-between overflow-y-auto mt-7")},m(m,C){h(m,e,C),M(a,e,null),k(e,l),k(e,n),k(n,s),k(e,d),k(e,u),k(u,t),k(e,r),k(e,f),k(f,_),k(_,w),j=!0},p(m,C){(!j||C&1)&&i!==(i=O(m[0].name)+"")&&U(s,i),(!j||C&1)&&b!==(b=S(m[0].size||0)+"")&&U(t,b),(!j||C&1&&c!==(c=m[0].data))&&g(_,"href",c)},i(m){j||(F(a.$$.fragment,m),j=!0)},o(m){v(a.$$.fragment,m),j=!1},d(m){m&&p(e),D(a)}}}function ce(o){let e,a,l;function n(s){o[10](s)}let i={filetype:"file",$$slots:{default:[me]},$$scope:{ctx:o}};return o[6]!==void 0&&(i.dragging=o[6]),e=new te({props:i}),Q.push(()=>R(e,"dragging",n)),e.$on("load",o[7]),{c(){y(e.$$.fragment)},m(s,d){M(e,s,d),l=!0},p(s,d){const u={};d&4110&&(u.$$scope={dirty:d,ctx:s}),!a&&d&64&&(a=!0,u.dragging=s[6],W(()=>a=!1)),e.$set(u)},i(s){l||(F(e.$$.fragment,s),l=!0)},o(s){v(e.$$.fragment,s),l=!1},d(s){D(e,s)}}}function me(o){let e,a,l,n,i,s,d,u,b;return{c(){e=B(o[1]),a=z(),l=N("br"),n=B("- "),i=B(o[2]),s=B(" -"),d=N("br"),u=z(),b=B(o[3])},m(t,r){h(t,e,r),h(t,a,r),h(t,l,r),h(t,n,r),h(t,i,r),h(t,s,r),h(t,d,r),h(t,u,r),h(t,b,r)},p(t,r){r&2&&U(e,t[1]),r&4&&U(i,t[2]),r&8&&U(b,t[3])},d(t){t&&p(e),t&&p(a),t&&p(l),t&&p(n),t&&p(i),t&&p(s),t&&p(d),t&&p(u),t&&p(b)}}}function de(o){let e,a,l,n,i,s;e=new P({props:{show_label:o[5],Icon:E,label:o[4]||"File"}});const d=[ce,_e],u=[];function b(t,r){return t[0]===null?0:1}return l=b(o),n=u[l]=d[l](o),{c(){y(e.$$.fragment),a=z(),n.c(),i=L()},m(t,r){M(e,t,r),h(t,a,r),u[l].m(t,r),h(t,i,r),s=!0},p(t,[r]){const f={};r&32&&(f.show_label=t[5]),r&16&&(f.label=t[4]||"File"),e.$set(f);let _=l;l=b(t),l===_?u[l].p(t,r):(V(),v(u[_],1,1,()=>{u[_]=null}),A(),n=u[l],n?n.p(t,r):(n=u[l]=d[l](t),n.c()),F(n,1),n.m(i.parentNode,i))},i(t){s||(F(e.$$.fragment,t),F(n),s=!0)},o(t){v(e.$$.fragment,t),v(n),s=!1},d(t){D(e,t),t&&p(a),u[l].d(t),t&&p(i)}}}function O(o){return o.length>30?`${o.substr(0,30)}...`:o}function be(o,e,a){let{value:l}=e,{drop_text:n="Drop a file"}=e,{or_text:i="or"}=e,{upload_text:s="click to upload"}=e,{label:d=""}=e,{style:u}=e,{show_label:b}=e;async function t({detail:c}){a(0,l=c),await X(),f("change",l)}function r({detail:c}){a(0,l=null),f("change",l),f("clear")}const f=T();let _=!1;function w(c){_=c,a(6,_)}return o.$$set=c=>{"value"in c&&a(0,l=c.value),"drop_text"in c&&a(1,n=c.drop_text),"or_text"in c&&a(2,i=c.or_text),"upload_text"in c&&a(3,s=c.upload_text),"label"in c&&a(4,d=c.label),"style"in c&&a(9,u=c.style),"show_label"in c&&a(5,b=c.show_label)},o.$$.update=()=>{o.$$.dirty&64&&f("drag",_)},[l,n,i,s,d,b,_,t,r,u,w]}class ge extends G{constructor(e){super(),I(this,e,be,de,K,{value:0,drop_text:1,or_text:2,upload_text:3,label:4,style:9,show_label:5})}}function ke(o){let e,a;return e=new ue({props:{value:o[6],label:o[3],show_label:o[4]}}),{c(){y(e.$$.fragment)},m(l,n){M(e,l,n),a=!0},p(l,n){const i={};n&64&&(i.value=l[6]),n&8&&(i.label=l[3]),n&16&&(i.show_label=l[4]),e.$set(i)},i(l){a||(F(e.$$.fragment,l),a=!0)},o(l){v(e.$$.fragment,l),a=!1},d(l){D(e,l)}}}function we(o){let e,a;return e=new ge({props:{label:o[3],show_label:o[4],value:o[6],drop_text:o[8]("interface.drop_file"),or_text:o[8]("or"),upload_text:o[8]("interface.click_to_upload")}}),e.$on("change",o[10]),e.$on("drag",o[11]),e.$on("change",o[12]),e.$on("clear",o[13]),{c(){y(e.$$.fragment)},m(l,n){M(e,l,n),a=!0},p(l,n){const i={};n&8&&(i.label=l[3]),n&16&&(i.show_label=l[4]),n&64&&(i.value=l[6]),n&256&&(i.drop_text=l[8]("interface.drop_file")),n&256&&(i.or_text=l[8]("or")),n&256&&(i.upload_text=l[8]("interface.click_to_upload")),e.$set(i)},i(l){a||(F(e.$$.fragment,l),a=!0)},o(l){v(e.$$.fragment,l),a=!1},d(l){D(e,l)}}}function he(o){let e,a,l,n,i,s;const d=[o[5]];let u={};for(let f=0;f<d.length;f+=1)u=x(u,d[f]);e=new $({props:u});const b=[we,ke],t=[];function r(f,_){return f[2]==="dynamic"?0:1}return l=r(o),n=t[l]=b[l](o),{c(){y(e.$$.fragment),a=z(),n.c(),i=L()},m(f,_){M(e,f,_),h(f,a,_),t[l].m(f,_),h(f,i,_),s=!0},p(f,_){const w=_&32?ee(d,[le(f[5])]):{};e.$set(w);let c=l;l=r(f),l===c?t[l].p(f,_):(V(),v(t[c],1,1,()=>{t[c]=null}),A(),n=t[l],n?n.p(f,_):(n=t[l]=b[l](f),n.c()),F(n,1),n.m(i.parentNode,i))},i(f){s||(F(e.$$.fragment,f),F(n),s=!0)},o(f){v(e.$$.fragment,f),v(n),s=!1},d(f){D(e,f),f&&p(a),t[l].d(f),f&&p(i)}}}function pe(o){let e,a;return e=new ne({props:{variant:o[2]==="dynamic"&&o[0]===null?"dashed":"solid",color:o[7]?"green":"grey",padding:!1,elem_id:o[1],$$slots:{default:[he]},$$scope:{ctx:o}}}),{c(){y(e.$$.fragment)},m(l,n){M(e,l,n),a=!0},p(l,[n]){const i={};n&5&&(i.variant=l[2]==="dynamic"&&l[0]===null?"dashed":"solid"),n&128&&(i.color=l[7]?"green":"grey"),n&2&&(i.elem_id=l[1]),n&16893&&(i.$$scope={dirty:n,ctx:l}),e.$set(i)},i(l){a||(F(e.$$.fragment,l),a=!0)},o(l){v(e.$$.fragment,l),a=!1},d(l){D(e,l)}}}function ve(o,e,a){let l;Y(o,Z,m=>a(8,l=m));let{elem_id:n=""}=e,{value:i=null}=e,{mode:s}=e,{root:d}=e,{label:u}=e,{show_label:b}=e,{loading_status:t}=e,r,f=!1;const _=({detail:m})=>a(0,i=m),w=({detail:m})=>a(7,f=m);function c(m){J.call(this,o,m)}function j(m){J.call(this,o,m)}return o.$$set=m=>{"elem_id"in m&&a(1,n=m.elem_id),"value"in m&&a(0,i=m.value),"mode"in m&&a(2,s=m.mode),"root"in m&&a(9,d=m.root),"label"in m&&a(3,u=m.label),"show_label"in m&&a(4,b=m.show_label),"loading_status"in m&&a(5,t=m.loading_status)},o.$$.update=()=>{o.$$.dirty&513&&a(6,r=oe(i,d))},[i,n,s,u,b,t,r,f,l,d,_,w,c,j]}class Fe extends G{constructor(e){super(),I(this,e,ve,pe,K,{elem_id:1,value:0,mode:2,root:9,label:3,show_label:4,loading_status:5})}}var Ce=Fe;const Se=["static","dynamic"];export{Ce as Component,Se as modes};
