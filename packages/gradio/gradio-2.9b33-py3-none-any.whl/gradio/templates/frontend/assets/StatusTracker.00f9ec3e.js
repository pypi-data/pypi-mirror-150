import{U as G,V as Y,W as H,S as J,i as U,s as W,f as q,a as F,b as p,Y as C,c as k,d as w,n as M,e as h,J as B,Z as I,t as E,y as K,w as A,z as N,v as D,D as Q,C as x,m as z,h as V,q as $,u as tt,j as P,x as et,_ as st}from"./index.6985e9ce.js";function O(e){return Object.prototype.toString.call(e)==="[object Date]"}function R(e,s,t,n){if(typeof t=="number"||O(t)){const l=n-t,r=(t-s)/(e.dt||1/60),i=e.opts.stiffness*l,f=e.opts.damping*r,o=(i-f)*e.inv_mass,a=(r+o)*e.dt;return Math.abs(a)<e.opts.precision&&Math.abs(l)<e.opts.precision?n:(e.settled=!1,O(t)?new Date(t.getTime()+a):t+a)}else{if(Array.isArray(t))return t.map((l,r)=>R(e,s[r],t[r],n[r]));if(typeof t=="object"){const l={};for(const r in t)l[r]=R(e,s[r],t[r],n[r]);return l}else throw new Error(`Cannot spring ${typeof t} values`)}}function X(e,s={}){const t=G(e),{stiffness:n=.15,damping:l=.8,precision:r=.01}=s;let i,f,o,a=e,_=e,u=1,g=0,d=!1;function m(y,L={}){_=y;const S=o={};if(e==null||L.hard||c.stiffness>=1&&c.damping>=1)return d=!0,i=Y(),a=y,t.set(e=_),Promise.resolve();if(L.soft){const b=L.soft===!0?.5:+L.soft;g=1/(b*60),u=0}return f||(i=Y(),d=!1,f=H(b=>{if(d)return d=!1,f=null,!1;u=Math.min(u+g,1);const j={inv_mass:u,opts:c,settled:!0,dt:(b-i)*60/1e3},v=R(j,a,e,_);return i=b,a=e,t.set(e=v),j.settled&&(f=null),!j.settled})),new Promise(b=>{f.promise.then(()=>{S===o&&b()})})}const c={set:m,update:(y,L)=>m(y(_,e),L),subscribe:t.subscribe,stiffness:n,damping:l,precision:r};return c}function it(e){let s,t,n,l,r,i,f,o,a,_,u,g;return{c(){s=q("div"),t=F("svg"),n=F("g"),l=F("path"),r=F("path"),i=F("path"),f=F("path"),o=F("g"),a=F("path"),_=F("path"),u=F("path"),g=F("path"),p(l,"d","M255.926 0.754768L509.702 139.936V221.027L255.926 81.8465V0.754768Z"),p(l,"fill","#FF7C00"),p(l,"fill-opacity","0.4"),p(r,"d","M509.69 139.936L254.981 279.641V361.255L509.69 221.55V139.936Z"),p(r,"fill","#FF7C00"),p(i,"d","M0.250138 139.937L254.981 279.641V361.255L0.250138 221.55V139.937Z"),p(i,"fill","#FF7C00"),p(i,"fill-opacity","0.4"),p(f,"d","M255.923 0.232622L0.236328 139.936V221.55L255.923 81.8469V0.232622Z"),p(f,"fill","#FF7C00"),C(n,"transform","translate("+e[0][0]+"px, "+e[0][1]+"px)"),p(a,"d","M255.926 141.5L509.702 280.681V361.773L255.926 222.592V141.5Z"),p(a,"fill","#FF7C00"),p(a,"fill-opacity","0.4"),p(_,"d","M509.69 280.679L254.981 420.384V501.998L509.69 362.293V280.679Z"),p(_,"fill","#FF7C00"),p(u,"d","M0.250138 280.681L254.981 420.386V502L0.250138 362.295V280.681Z"),p(u,"fill","#FF7C00"),p(u,"fill-opacity","0.4"),p(g,"d","M255.923 140.977L0.236328 280.68V362.294L255.923 222.591V140.977Z"),p(g,"fill","#FF7C00"),C(o,"transform","translate("+e[1][0]+"px, "+e[1][1]+"px)"),p(t,"class","text-xl"),p(t,"width","7em"),p(t,"height","7em"),p(t,"viewBox","-1200 -1200 3000 3000"),p(t,"fill","none"),p(t,"xmlns","http://www.w3.org/2000/svg"),p(s,"class","m-12 z-20")},m(d,m){k(d,s,m),w(s,t),w(t,n),w(n,l),w(n,r),w(n,i),w(n,f),w(t,o),w(o,a),w(o,_),w(o,u),w(o,g)},p(d,[m]){m&1&&C(n,"transform","translate("+d[0][0]+"px, "+d[0][1]+"px)"),m&2&&C(o,"transform","translate("+d[1][0]+"px, "+d[1][1]+"px)")},i:M,o:M,d(d){d&&h(s)}}}function nt(e,s,t){let n,l;const r=X([0,0]);B(e,r,u=>t(0,n=u));const i=X([0,0]);B(e,i,u=>t(1,l=u));let f;function o(){return new Promise(async u=>{await Promise.all([r.set([125,140]),i.set([-125,-140])]),await Promise.all([r.set([-125,140]),i.set([125,-140])]),await Promise.all([r.set([-125,0]),i.set([125,-0])]),await Promise.all([r.set([125,0]),i.set([-125,0])]),u()})}async function a(){await o(),f||a()}async function _(){await Promise.all([r.set([125,0]),i.set([-125,0])]),a()}return I(()=>(_(),()=>f=!0)),[n,l,r,i]}class lt extends J{constructor(s){super(),U(this,s,nt,it,W,{})}}function ot(e){let s;return{c(){s=q("span"),s.textContent="ERROR",p(s,"class","text-red-400 font-mono font-semibold text-lg svelte-cyw4c6")},m(t,n){k(t,s,n)},p:M,i:M,o:M,d(t){t&&h(s)}}}function rt(e){let s,t=`scaleX(${e[8]||0})`,n,l,r,i,f=e[1]?`/${e[7]}`:"",o,a,_,u;function g(c,y){if(c[2]!==null&&c[2]>0)return at;if(c[2]===0)return ft}let d=g(e),m=d&&d(e);return _=new lt({}),{c(){s=q("div"),n=z(),l=q("div"),m&&m.c(),r=z(),i=V(e[6]),o=V(f),a=z(),$(_.$$.fragment),p(s,"class","absolute inset-0 origin-left bg-slate-100 top-0 left-0 z-10 opacity-80 svelte-cyw4c6"),C(s,"transform",t,!1),p(l,"class","absolute top-0 right-0 py-1 px-2 font-mono z-20 text-xs svelte-cyw4c6")},m(c,y){k(c,s,y),k(c,n,y),k(c,l,y),m&&m.m(l,null),w(l,r),w(l,i),w(l,o),k(c,a,y),tt(_,c,y),u=!0},p(c,y){y&256&&t!==(t=`scaleX(${c[8]||0})`)&&C(s,"transform",t,!1),d===(d=g(c))&&m?m.p(c,y):(m&&m.d(1),m=d&&d(c),m&&(m.c(),m.m(l,r))),(!u||y&64)&&P(i,c[6]),(!u||y&130)&&f!==(f=c[1]?`/${c[7]}`:"")&&P(o,f)},i(c){u||(D(_.$$.fragment,c),u=!0)},o(c){A(_.$$.fragment,c),u=!1},d(c){c&&h(s),c&&h(n),c&&h(l),m&&m.d(),c&&h(a),et(_,c)}}}function ft(e){let s;return{c(){s=V("processing |")},m(t,n){k(t,s,n)},p:M,d(t){t&&h(s)}}}function at(e){let s,t,n,l,r;return{c(){s=V("queue: "),t=V(e[2]),n=V("/"),l=V(e[5]),r=V(" |")},m(i,f){k(i,s,f),k(i,t,f),k(i,n,f),k(i,l,f),k(i,r,f)},p(i,f){f&4&&P(t,i[2]),f&32&&P(l,i[5])},d(i){i&&h(s),i&&h(t),i&&h(n),i&&h(l),i&&h(r)}}}function ct(e){let s,t,n,l;const r=[rt,ot],i=[];function f(o,a){return o[3]==="pending"?0:o[3]==="error"?1:-1}return~(t=f(e))&&(n=i[t]=r[t](e)),{c(){s=q("div"),n&&n.c(),p(s,"class","absolute inset-0 z-10 flex flex-col justify-center items-center bg-white pointer-events-none transition-opacity svelte-cyw4c6"),p(s,"style",e[0]),E(s,"opacity-0",!e[3]||e[3]==="complete")},m(o,a){k(o,s,a),~t&&i[t].m(s,null),e[10](s),l=!0},p(o,[a]){let _=t;t=f(o),t===_?~t&&i[t].p(o,a):(n&&(K(),A(i[_],1,1,()=>{i[_]=null}),N()),~t?(n=i[t],n?n.p(o,a):(n=i[t]=r[t](o),n.c()),D(n,1),n.m(s,null)):n=null),(!l||a&1)&&p(s,"style",o[0]),a&8&&E(s,"opacity-0",!o[3]||o[3]==="complete")},i(o){l||(D(n),l=!0)},o(o){A(n),l=!1},d(o){o&&h(s),~t&&i[t].d(),e[10](null)}}}let Z=[],T=!1;async function pt(e){if(Z.push(e),!T)T=!0;else return;await st(),requestAnimationFrame(()=>{let s=[0,0];for(let t=0;t<Z.length;t++){const l=Z[t].getBoundingClientRect();(t===0||l.top+window.scrollY<=s[0])&&(s[0]=l.top+window.scrollY,s[1]=t)}window.scrollTo({top:s[0]-20,behavior:"smooth"}),T=!1,Z=[]})}function ut(e,s,t){let n,l,r,{style:i=""}=s,{eta:f=null}=s,{queue_position:o}=s,{status:a}=s,_,u=!1,g=0,d=0,m=o;const c=()=>{g=performance.now(),t(9,d=0),u=!0,y()};function y(){requestAnimationFrame(()=>{t(9,d=(performance.now()-g)/1e3),u&&y()})}const L=()=>{t(9,d=0),u&&(u=!1)};Q(()=>{u&&L()});function S(b){x[b?"unshift":"push"](()=>{_=b,t(4,_)})}return e.$$set=b=>{"style"in b&&t(0,i=b.style),"eta"in b&&t(1,f=b.eta),"queue_position"in b&&t(2,o=b.queue_position),"status"in b&&t(3,a=b.status)},e.$$.update=()=>{e.$$.dirty&36&&o&&(!m||o>m)&&t(5,m=o),e.$$.dirty&546&&t(8,n=f===null||!d?null:Math.min(d/(f*((m||0)+1)),1)),e.$$.dirty&8&&(a==="pending"?c():L()),e.$$.dirty&24&&_&&(a==="pending"||a==="complete")&&pt(_),e.$$.dirty&34&&t(7,l=f&&(f*((m||0)+1)).toFixed(1)),e.$$.dirty&512&&t(6,r=d.toFixed(1))},[i,f,o,a,_,m,r,l,n,d,S]}class mt extends J{constructor(s){super(),U(this,s,ut,ct,W,{style:0,eta:1,queue_position:2,status:3})}}var dt=mt;export{dt as S,X as s};
