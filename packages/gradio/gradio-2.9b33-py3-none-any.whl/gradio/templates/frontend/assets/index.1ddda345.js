import{S as fe,i as ce,s as de,f as E,b as v,t as D,c as B,a6 as he,l as F,e as R,r as Ce,m as j,h as Xe,d as C,j as xe,n as x,E as be,C as Z,I as $,q as G,k as $e,u as Q,F as ee,v as Y,w as I,x as W,A as Se,_ as U,a as me,y as se,a7 as ae,z as oe,a8 as ue,K as et,L as tt,M as lt}from"./index.6985e9ce.js";import{U as nt}from"./Upload.b47a9434.js";import{d as rt}from"./dsv.7fe76a93.js";import{S as it}from"./StatusTracker.00f9ec3e.js";var pe=Object.prototype.hasOwnProperty;function te(i,e){var t,r;if(i===e)return!0;if(i&&e&&(t=i.constructor)===e.constructor){if(t===Date)return i.getTime()===e.getTime();if(t===RegExp)return i.toString()===e.toString();if(t===Array){if((r=i.length)===e.length)for(;r--&&te(i[r],e[r]););return r===-1}if(!t||typeof i=="object"){r=0;for(t in i)if(pe.call(i,t)&&++r&&!pe.call(e,t)||!(t in e)||!te(i[t],e[t]))return!1;return Object.keys(e).length===r}}return i!==i&&e!==e}function ke(i){let e,t,r;return{c(){e=E("input"),v(e,"class","absolute outline-none inset-2 bg-transparent border-0 translate-x-px flex-1 "),v(e,"tabindex","-1"),D(e,"translate-x-px",!i[3]),D(e,"font-bold",i[3])},m(n,o){B(n,e,o),he(e,i[0]),i[7](e),t||(r=[F(e,"input",i[6]),F(e,"keydown",i[5]),F(e,"blur",at)],t=!0)},p(n,o){o&1&&e.value!==n[0]&&he(e,n[0]),o&8&&D(e,"translate-x-px",!n[3]),o&8&&D(e,"font-bold",n[3])},d(n){n&&R(e),i[7](null),t=!1,Ce(r)}}}function st(i){let e,t,r,n,o,d=i[2]&&ke(i);return{c(){d&&d.c(),e=j(),t=E("span"),r=Xe(i[0]),v(t,"tabindex","-1"),v(t,"role","button"),v(t,"class","p-2 outline-none border-0 flex-1"),D(t,"opacity-0",i[2]),D(t,"pointer-events-none",i[2])},m(g,s){d&&d.m(g,s),B(g,e,s),B(g,t,s),C(t,r),n||(o=F(t,"dblclick",i[4]),n=!0)},p(g,[s]){g[2]?d?d.p(g,s):(d=ke(g),d.c(),d.m(e.parentNode,e)):d&&(d.d(1),d=null),s&1&&xe(r,g[0]),s&4&&D(t,"opacity-0",g[2]),s&4&&D(t,"pointer-events-none",g[2])},i:x,o:x,d(g){d&&d.d(g),g&&R(e),g&&R(t),n=!1,o()}}}const at=({currentTarget:i})=>i.setAttribute("tabindex","-1");function ot(i,e,t){let{edit:r}=e,{value:n=""}=e,{el:o}=e,{header:d=!1}=e;function g(a){be.call(this,i,a)}function s(a){be.call(this,i,a)}function b(){n=this.value,t(0,n)}function f(a){Z[a?"unshift":"push"](()=>{o=a,t(1,o)})}return i.$$set=a=>{"edit"in a&&t(2,r=a.edit),"value"in a&&t(0,n=a.value),"el"in a&&t(1,o=a.el),"header"in a&&t(3,d=a.header)},[n,o,r,d,g,s,b,f]}class Be extends fe{constructor(e){super(),ce(this,e,ot,st,de,{edit:2,value:0,el:1,header:3})}}function we(i,e,t){const r=i.slice();return r[48]=e[t],r[50]=t,r}function ye(i,e,t){const r=i.slice();return r[51]=e[t].value,r[52]=e[t].id,r[53]=e,r[54]=t,r}function Ae(i,e,t){const r=i.slice();return r[51]=e[t].value,r[52]=e[t].id,r[55]=e,r[50]=t,r}function ve(i,e){let t,r,n,o,d,g,s,b,f,a,u,A=e[52],k,h,m;function M(S){e[28](S,e[52])}function w(){return e[29](e[52])}let L={value:e[51],edit:e[10]===e[52],header:!0};e[7][e[52]].input!==void 0&&(L.el=e[7][e[52]].input),n=new Be({props:L}),Z.push(()=>$(n,"el",M)),n.$on("keydown",e[18]),n.$on("dblclick",w);function H(){return e[30](e[50])}const N=()=>e[31](t,A),J=()=>e[31](null,A);return{key:i,first:null,c(){t=E("th"),r=E("div"),G(n.$$.fragment),d=j(),g=E("div"),s=me("svg"),b=me("path"),a=j(),v(b,"d","M4.49999 0L8.3971 6.75H0.602875L4.49999 0Z"),v(s,"width","1em"),v(s,"height","1em"),v(s,"class","fill-current text-[10px]"),v(s,"viewBox","0 0 9 7"),v(s,"fill","none"),v(s,"xmlns","http://www.w3.org/2000/svg"),v(g,"class",f="flex flex-none items-center justify-center p-2 cursor-pointer leading-snug transform transition-all "+(e[9]!==e[50]?"text-gray-200 hover:text-gray-500":"text-orange-500")+" "+(e[9]===e[50]&&e[8]==="des"?"-scale-y-[1]":"")),D(g,"text-gray-200",e[9]!==e[50]),v(r,"class","min-h-[2.3rem] flex outline-none"),v(t,"class","p-0 relative focus-within:ring-1 ring-orange-500 ring-inset outline-none "),v(t,"aria-sort",u=e[12](e[51],e[9],e[8])),D(t,"bg-orange-50",e[10]===e[52]),D(t,"dark:bg-transparent",e[10]===e[52]),D(t,"rounded-tl-lg",e[50]===0),D(t,"rounded-tr-lg",e[50]===e[5].length-1),this.first=t},m(S,T){B(S,t,T),C(t,r),Q(n,r,null),C(r,d),C(r,g),C(g,s),C(s,b),C(t,a),N(),k=!0,h||(m=F(g,"click",H),h=!0)},p(S,T){e=S;const P={};T[0]&32&&(P.value=e[51]),T[0]&1056&&(P.edit=e[10]===e[52]),!o&&T[0]&160&&(o=!0,P.el=e[7][e[52]].input,ee(()=>o=!1)),n.$set(P),(!k||T[0]&800&&f!==(f="flex flex-none items-center justify-center p-2 cursor-pointer leading-snug transform transition-all "+(e[9]!==e[50]?"text-gray-200 hover:text-gray-500":"text-orange-500")+" "+(e[9]===e[50]&&e[8]==="des"?"-scale-y-[1]":"")))&&v(g,"class",f),T[0]&800&&D(g,"text-gray-200",e[9]!==e[50]),(!k||T[0]&800&&u!==(u=e[12](e[51],e[9],e[8])))&&v(t,"aria-sort",u),A!==e[52]&&(J(),A=e[52],N()),T[0]&1056&&D(t,"bg-orange-50",e[10]===e[52]),T[0]&1056&&D(t,"dark:bg-transparent",e[10]===e[52]),T[0]&32&&D(t,"rounded-tl-lg",e[50]===0),T[0]&32&&D(t,"rounded-tr-lg",e[50]===e[5].length-1)},i(S){k||(Y(n.$$.fragment,S),k=!0)},o(S){I(n.$$.fragment,S),k=!1},d(S){S&&R(t),W(n),J(),h=!1,m()}}}function De(i,e){let t,r,n,o,d,g=e[52],s,b,f;function a(L){e[32](L,e[51],e[53],e[54])}function u(L){e[33](L,e[52])}let A={edit:e[3]===e[52]};e[51]!==void 0&&(A.value=e[51]),e[7][e[52]].input!==void 0&&(A.el=e[7][e[52]].input),n=new Be({props:A}),Z.push(()=>$(n,"value",a)),Z.push(()=>$(n,"el",u));const k=()=>e[34](t,g),h=()=>e[34](null,g);function m(){return e[35](e[52])}function M(){return e[36](e[52])}function w(...L){return e[37](e[50],e[54],e[52],...L)}return{key:i,first:null,c(){t=E("td"),r=E("div"),G(n.$$.fragment),v(r,"class","min-h-[2.3rem] h-full outline-none flex items-center"),D(r,"border-transparent",e[4]!==e[52]),v(t,"tabindex","0"),v(t,"class","outline-none focus-within:ring-1 ring-orange-500 ring-inset focus-within:bg-orange-50 dark:focus-within:bg-gray-800 group-last:first:rounded-bl-lg group-last:last:rounded-br-lg relative"),this.first=t},m(L,H){B(L,t,H),C(t,r),Q(n,r,null),k(),s=!0,b||(f=[F(t,"click",m),F(t,"dblclick",M),F(t,"keydown",w)],b=!0)},p(L,H){e=L;const N={};H[0]&72&&(N.edit=e[3]===e[52]),!o&&H[0]&64&&(o=!0,N.value=e[51],ee(()=>o=!1)),!d&&H[0]&192&&(d=!0,N.el=e[7][e[52]].input,ee(()=>d=!1)),n.$set(N),H[0]&80&&D(r,"border-transparent",e[4]!==e[52]),g!==e[52]&&(h(),g=e[52],k())},i(L){s||(Y(n.$$.fragment,L),s=!0)},o(L){I(n.$$.fragment,L),s=!1},d(L){L&&R(t),W(n),h(),b=!1,Ce(f)}}}function Le(i,e){let t,r=[],n=new Map,o,d,g=e[48];const s=b=>b[52];for(let b=0;b<g.length;b+=1){let f=ye(e,g,b),a=s(f);n.set(a,r[b]=De(a,f))}return{key:i,first:null,c(){t=E("tr");for(let b=0;b<r.length;b+=1)r[b].c();o=j(),v(t,"class","group border-b dark:border-gray-700 last:border-none divide-x dark:divide-gray-700 space-x-4 odd:bg-gray-50 dark:odd:bg-gray-900 group focus:bg-gradient-to-b focus:from-blue-100 dark:focus:from-blue-900 focus:to-blue-50 dark:focus:to-gray-900 focus:odd:bg-white"),this.first=t},m(b,f){B(b,t,f);for(let a=0;a<r.length;a+=1)r[a].m(t,null);C(t,o),d=!0},p(b,f){e=b,f[0]&57560&&(g=e[48],se(),r=ae(r,f,s,1,e,g,n,t,ue,De,o,ye),oe())},i(b){if(!d){for(let f=0;f<g.length;f+=1)Y(r[f]);d=!0}},o(b){for(let f=0;f<r.length;f+=1)I(r[f]);d=!1},d(b){b&&R(t);for(let f=0;f<r.length;f+=1)r[f].d()}}}function ut(i){let e,t,r,n=[],o=new Map,d,g,s=[],b=new Map,f,a=i[5];const u=h=>h[52];for(let h=0;h<a.length;h+=1){let m=Ae(i,a,h),M=u(m);o.set(M,n[h]=ve(M,m))}let A=i[6];const k=h=>h[48];for(let h=0;h<A.length;h+=1){let m=we(i,A,h),M=k(m);b.set(M,s[h]=Le(M,m))}return{c(){e=E("table"),t=E("thead"),r=E("tr");for(let h=0;h<n.length;h+=1)n[h].c();d=j(),g=E("tbody");for(let h=0;h<s.length;h+=1)s[h].c();v(r,"class","border-b dark:border-gray-700 divide-x dark:divide-gray-700 text-left"),v(t,"class","sticky top-0 left-0 right-0 bg-white shadow-sm z-10"),v(g,"class","overflow-y-scroll"),v(e,"class","table-auto font-mono w-full text-gray-900 text-sm transition-opacity overflow-hidden "),D(e,"opacity-40",i[11])},m(h,m){B(h,e,m),C(e,t),C(t,r);for(let M=0;M<n.length;M+=1)n[M].m(r,null);C(e,d),C(e,g);for(let M=0;M<s.length;M+=1)s[M].m(g,null);f=!0},p(h,m){m[0]&464800&&(a=h[5],se(),n=ae(n,m,u,1,h,a,o,r,ue,ve,null,Ae),oe()),m[0]&57560&&(A=h[6],se(),s=ae(s,m,k,1,h,A,b,g,ue,Le,null,we),oe()),m[0]&2048&&D(e,"opacity-40",h[11])},i(h){if(!f){for(let m=0;m<a.length;m+=1)Y(n[m]);for(let m=0;m<A.length;m+=1)Y(s[m]);f=!0}},o(h){for(let m=0;m<n.length;m+=1)I(n[m]);for(let m=0;m<s.length;m+=1)I(s[m]);f=!1},d(h){h&&R(e);for(let m=0;m<n.length;m+=1)n[m].d();for(let m=0;m<s.length;m+=1)s[m].d()}}}function Me(i){let e,t,r=i[1][1]==="dynamic"&&Ee(i),n=i[0][1]==="dynamic"&&Te(i);return{c(){e=E("div"),r&&r.c(),t=j(),n&&n.c(),v(e,"class","flex justify-end space-x-1 pt-2 text-gray-800")},m(o,d){B(o,e,d),r&&r.m(e,null),C(e,t),n&&n.m(e,null)},p(o,d){o[1][1]==="dynamic"?r?r.p(o,d):(r=Ee(o),r.c(),r.m(e,t)):r&&(r.d(1),r=null),o[0][1]==="dynamic"?n?n.p(o,d):(n=Te(o),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},d(o){o&&R(e),r&&r.d(),n&&n.d()}}}function Ee(i){let e,t,r;return{c(){e=E("button"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="mr-1 group-hover:text-orange-500" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path fill="currentColor" d="M24.59 16.59L17 24.17V4h-2v20.17l-7.59-7.58L6 18l10 10l10-10l-1.41-1.41z"></path></svg>New row',v(e,"class","!flex-none gr-button group")},m(n,o){B(n,e,o),t||(r=F(e,"click",i[40]),t=!0)},p:x,d(n){n&&R(e),t=!1,r()}}}function Te(i){let e,t,r;return{c(){e=E("button"),e.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="mr-1 group-hover:text-orange-500" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path fill="currentColor" d="m18 6l-1.43 1.393L24.15 15H4v2h20.15l-7.58 7.573L18 26l10-10L18 6z"></path></svg>
				New column`,v(e,"class","!flex-none gr-button group")},m(n,o){B(n,e,o),t||(r=F(e,"click",i[20]),t=!0)},p:x,d(n){n&&R(e),t=!1,r()}}}function ft(i){let e,t,r,n,o,d,g,s;function b(u){i[38](u)}let f={flex:!1,center:!1,boundedheight:!1,click:!1,$$slots:{default:[ut]},$$scope:{ctx:i}};i[11]!==void 0&&(f.dragging=i[11]),t=new nt({props:f}),Z.push(()=>$(t,"dragging",b)),t.$on("load",i[39]);let a=i[2]&&Me(i);return{c(){e=E("div"),G(t.$$.fragment),n=j(),a&&a.c(),o=$e(),v(e,"class","scroll-hide whitespace-nowrap overflow-hidden rounded-lg relative border transition-colors overflow-x-scroll"),D(e,"border-green-400",i[11])},m(u,A){B(u,e,A),Q(t,e,null),B(u,n,A),a&&a.m(u,A),B(u,o,A),d=!0,g||(s=F(window,"click",i[21]),g=!0)},p(u,A){const k={};A[0]&4088|A[1]&33554432&&(k.$$scope={dirty:A,ctx:u}),!r&&A[0]&2048&&(r=!0,k.dragging=u[11],ee(()=>r=!1)),t.$set(k),A[0]&2048&&D(e,"border-green-400",u[11]),u[2]?a?a.p(u,A):(a=Me(u),a.c(),a.m(o.parentNode,o)):a&&(a.d(1),a=null)},i(u){d||(Y(t.$$.fragment,u),d=!0)},o(u){I(t.$$.fragment,u),d=!1},d(u){u&&R(e),W(t),u&&R(n),a&&a.d(u),u&&R(o),g=!1,s()}}}function ct(i,e){return e.filter(t);function t(r){var n=-1;return i.split(`
`).every(o);function o(d){if(!d)return!0;var g=d.split(r).length;return n<0&&(n=g),n===g&&g>1}}}function dt(i){const e=atob(i.split(",")[1]),t=i.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(e.length),n=new Uint8Array(r);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return new Blob([r],{type:t})}function gt(i,e,t){let{headers:r=[]}=e,{values:n=[[]]}=e,{col_count:o}=e,{row_count:d}=e,{style:g=""}=e,{editable:s=!0}=e;const b=Se();let f=!1,a=!1,u={};function A(l){let c=l||[];if(o[1]==="fixed"&&c.length<o[0]){const _=Array(o[0]-c.length).fill("").map((p,y)=>`${y+c.length}`);c=c.concat(_)}return!c||c.length===0?Array(o[0]).fill(0).map((_,p)=>{const y=`h-${p}`;return t(7,u[y]={cell:null,input:null},u),{id:y,value:JSON.stringify(p+1)}}):c.map((_,p)=>{const y=`h-${p}`;return t(7,u[y]={cell:null,input:null},u),{id:y,value:_||""}})}function k(l){const c=l.length>0?l.length:d[0];return Array(d[1]==="fixed"||c<d[0]?d[0]:c).fill(0).map((_,p)=>Array(o[1]==="fixed"?o[0]:l[0].length).fill(0).map((y,O)=>{var K;const z=`${p}-${O}`;return t(7,u[z]={input:null,cell:null},u),{value:((K=l==null?void 0:l[p])==null?void 0:K[O])||"",id:z}}))}let h=A(r),m;async function M(){var l,c,_,p;typeof f=="string"?(await U(),(c=(l=u[f])==null?void 0:l.input)==null||c.focus()):typeof a=="string"&&(await U(),(p=(_=u[a])==null?void 0:_.input)==null||p.focus())}let w=[[]],L;function H(l,c,_){if(!c)return"none";if(r[c]===l){if(_==="asc")return"ascending";if(_==="des")return"descending"}}function N(l){return w.reduce((c,_,p)=>{const y=_.reduce((O,z,K)=>l===z.id?K:O,-1);return y===-1?c:[p,y]},[-1,-1])}async function J(l,c){if(!s||f===l)return;if(c){const[p,y]=N(l);t(6,w[p][y].value="",w)}t(3,f=l),await U();const{input:_}=u[l];_==null||_.focus()}async function S(l,c,_,p){var O;let y;switch(l.key){case"ArrowRight":if(f)break;l.preventDefault(),y=w[c][_+1],t(4,a=y?y.id:a);break;case"ArrowLeft":if(f)break;l.preventDefault(),y=w[c][_-1],t(4,a=y?y.id:a);break;case"ArrowDown":if(f)break;l.preventDefault(),y=w[c+1],t(4,a=y?y[_].id:a);break;case"ArrowUp":if(f)break;l.preventDefault(),y=w[c-1],t(4,a=y?y[_].id:a);break;case"Escape":if(!s)break;l.preventDefault(),t(4,a=f),t(3,f=!1);break;case"Enter":if(!s)break;if(l.preventDefault(),l.shiftKey){ne(c),await U();const[We]=N(p);t(4,a=w[We+1][_].id)}else f===p?t(3,f=!1):J(p);break;case"Backspace":if(!s)break;f||(l.preventDefault(),t(6,w[c][_].value="",w));break;case"Delete":if(!s)break;f||(l.preventDefault(),t(6,w[c][_].value="",w));break;case"Tab":let z=l.shiftKey?-1:1,K=w[c][_+z],Qe=(O=w==null?void 0:w[c+z])==null?void 0:O[z>0?0:h.length-1],ie=K||Qe;ie&&(l.preventDefault(),t(4,a=ie?ie.id:a)),t(3,f=!1);break;default:(!f||f&&f!==p)&&l.key.length===1&&J(p,!0);break}}async function T(l){f!==l&&a!==l&&(t(3,f=!1),t(4,a=l))}async function P(l,c){var _,p;if(c==="edit"&&typeof l=="string"&&(await U(),(_=u[l].input)==null||_.focus()),c==="edit"&&typeof l=="boolean"&&typeof a=="string"){let y=(p=u[a])==null?void 0:p.cell;await U(),y==null||y.focus()}if(c==="select"&&typeof l=="string"){const{cell:y}=u[l];await U(),y==null||y.focus()}}let V,X;function Re(l,c){c==="asc"?t(6,w=w.sort((_,p)=>_[l].value<p[l].value?-1:1)):c==="des"&&t(6,w=w.sort((_,p)=>_[l].value>p[l].value?-1:1))}function ge(l){typeof X!="number"||X!==l?(t(8,V="asc"),t(9,X=l)):V==="asc"?t(8,V="des"):V==="des"&&t(8,V="asc"),Re(l,V)}let q;async function le(l,c){var _,p;!s||o[1]!=="dynamic"||f===l||(t(10,q=l),await U(),(_=u[l].input)==null||_.focus(),c&&((p=u[l].input)==null||p.select()))}function qe(l){if(!!s)switch(l.key){case"Escape":l.preventDefault(),t(4,a=q),t(10,q=!1);break;case"Enter":l.preventDefault(),t(4,a=q),t(10,q=!1)}}function ne(l){d[1]==="dynamic"&&(w.splice(l?l+1:w.length,0,Array(o[0]).fill(0).map((c,_)=>{const p=`${w.length}-${_}`;return t(7,u[p]={cell:null,input:null},u),{id:p,value:""}})),t(6,w),t(23,n),t(27,L))}async function Fe(){if(o[1]!=="dynamic")return;for(let c=0;c<w.length;c++){const _=`${c}-${w[c].length}`;t(7,u[_]={cell:null,input:null},u),w[c].push({id:_,value:""})}const l=`h-${h.length}`;t(7,u[l]={cell:null,input:null},u),h.push({id:l,value:`Header ${h.length+1}`}),t(6,w),t(23,n),t(27,L),t(5,h),t(24,r),t(26,m),await U(),le(l,!0)}function He(l){var c,_;typeof f=="string"&&u[f]&&u[f].cell!==l.target&&!((c=u[f].cell)!=null&&c.contains(l==null?void 0:l.target))&&t(10,q=!1),typeof q=="string"&&u[q]&&u[q].cell!==l.target&&!((_=u[q].cell)!=null&&_.contains(l.target))&&t(10,q=!1)}function _e(l){const c=new FileReader;function _(p){var K;if(!((K=p==null?void 0:p.target)!=null&&K.result)||typeof p.target.result!="string")return;const[y]=ct(p.target.result,[",","	"]),[O,...z]=rt(y).parseRows(p.target.result);t(5,h=A(o[1]==="fixed"?O.slice(0,o[0]):O)),t(23,n=z),c.removeEventListener("loadend",_)}c.addEventListener("loadend",_),c.readAsText(l)}let re=!1;function Ne(l,c){i.$$.not_equal(u[c].input,l)&&(u[c].input=l,t(7,u))}const Oe=l=>le(l),ze=l=>ge(l);function Ue(l,c){Z[l?"unshift":"push"](()=>{u[c].cell=l,t(7,u)})}function Ke(l,c,_,p){_[p].value=l,t(6,w),t(23,n),t(27,L)}function je(l,c){i.$$.not_equal(u[c].input,l)&&(u[c].input=l,t(7,u))}function Ye(l,c){Z[l?"unshift":"push"](()=>{u[c].cell=l,t(7,u)})}const Ie=l=>T(l),Je=l=>J(l),Pe=(l,c,_,p)=>S(p,l,c,_);function Ve(l){re=l,t(11,re)}const Ze=l=>_e(dt(l.detail.data)),Ge=()=>ne();return i.$$set=l=>{"headers"in l&&t(24,r=l.headers),"values"in l&&t(23,n=l.values),"col_count"in l&&t(0,o=l.col_count),"row_count"in l&&t(1,d=l.row_count),"style"in l&&t(25,g=l.style),"editable"in l&&t(2,s=l.editable)},i.$$.update=()=>{i.$$.dirty[0]&83886080&&(te(r,m)||(t(5,h=A(r)),t(26,m=r),M())),i.$$.dirty[0]&142606336&&(te(n,L)||(t(6,w=k(n)),t(27,L=n),M())),i.$$.dirty[0]&96&&h&&b("change",w.map(l=>l.map(({value:c})=>c))),i.$$.dirty[0]&8&&P(f,"edit"),i.$$.dirty[0]&16&&P(a,"select")},[o,d,s,f,a,h,w,u,V,X,q,re,H,J,S,T,ge,le,qe,ne,Fe,He,_e,n,r,g,m,L,Ne,Oe,ze,Ue,Ke,je,Ye,Ie,Je,Pe,Ve,Ze,Ge]}class _t extends fe{constructor(e){super(),ce(this,e,gt,ft,de,{headers:24,values:23,col_count:0,row_count:1,style:25,editable:2},null,[-1,-1])}}function ht(i){let e,t,r,n,o;const d=[i[7]];let g={};for(let s=0;s<d.length;s+=1)g=et(g,d[s]);return t=new it({props:g}),n=new _t({props:{row_count:i[5],col_count:i[4],values:i[1],headers:i[0],style:i[2],editable:i[3]==="dynamic"}}),n.$on("change",i[8]),{c(){e=E("div"),G(t.$$.fragment),r=j(),G(n.$$.fragment),v(e,"class","relative overflow-hidden"),D(e,"flex-1",i[6]==="row"||!i[6])},m(s,b){B(s,e,b),Q(t,e,null),C(e,r),Q(n,e,null),o=!0},p(s,[b]){const f=b&128?tt(d,[lt(s[7])]):{};t.$set(f);const a={};b&32&&(a.row_count=s[5]),b&16&&(a.col_count=s[4]),b&2&&(a.values=s[1]),b&1&&(a.headers=s[0]),b&4&&(a.style=s[2]),b&8&&(a.editable=s[3]==="dynamic"),n.$set(a),b&64&&D(e,"flex-1",s[6]==="row"||!s[6])},i(s){o||(Y(t.$$.fragment,s),Y(n.$$.fragment,s),o=!0)},o(s){I(t.$$.fragment,s),I(n.$$.fragment,s),o=!1},d(s){s&&R(e),W(t),W(n)}}}function bt(i,e,t){let{headers:r=[]}=e,{value:n=[["","",""]]}=e,{default_value:o=[["","",""]]}=e,{style:d=""}=e,{mode:g}=e,{col_count:s}=e,{row_count:b}=e,{parent:f=null}=e;o&&(n=o);const a=Se();let{loading_status:u}=e;async function A({detail:k}){t(1,n=k),await U(),a("change",k)}return i.$$set=k=>{"headers"in k&&t(0,r=k.headers),"value"in k&&t(1,n=k.value),"default_value"in k&&t(9,o=k.default_value),"style"in k&&t(2,d=k.style),"mode"in k&&t(3,g=k.mode),"col_count"in k&&t(4,s=k.col_count),"row_count"in k&&t(5,b=k.row_count),"parent"in k&&t(6,f=k.parent),"loading_status"in k&&t(7,u=k.loading_status)},i.$$.update=()=>{i.$$.dirty&3&&(Array.isArray(n)?(t(1,n),t(0,r)):(Array.isArray(n.headers)&&t(0,r=n.headers),t(1,n=n.data.length===0?[Array(r.length).fill("")]:n.data)))},[r,n,d,g,s,b,f,u,A,o]}class mt extends fe{constructor(e){super(),ce(this,e,bt,ht,de,{headers:0,value:1,default_value:9,style:2,mode:3,col_count:4,row_count:5,parent:6,loading_status:7})}}var At=mt;const vt=["static","dynamic"];export{At as Component,vt as modes};
