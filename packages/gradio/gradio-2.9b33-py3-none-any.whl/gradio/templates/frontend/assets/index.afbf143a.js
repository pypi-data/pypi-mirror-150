import{S as V,i as W,s as X,k as ne,c as m,n as M,e as g,a4 as R,f as p,b as d,Y as T,h as S,m as w,d as h,j as B,o as L,l as H,r as oe,t as z,q as N,u as C,v as y,w as j,x as O,A as se,K as ae,L as re,M as fe,y as ie,z as ue}from"./index.6985e9ce.js";import{g as ce}from"./color.d4bbacaf.js";import{B as _e}from"./Block.55985ba8.js";import{B as de}from"./BlockTitle.f9ebe1d4.js";import{S as me}from"./StatusTracker.00f9ec3e.js";function A(a,e,n){const l=a.slice();return l[16]=e[n][0],l[23]=e[n][1],l}function I(a,e,n){const l=a.slice();return l[16]=e[n][0],l[17]=e[n][1],l}function K(a,e,n){const l=a.slice();return l[17]=e[n][0],l[20]=e[n][1],l[22]=n,l}function ge(a){let e,n,l=a[1]&&Y(),o=a[0],r=[];for(let t=0;t<o.length;t+=1)r[t]=F(A(a,o,t));return{c(){l&&l.c(),e=w(),n=p("div");for(let t=0;t<r.length;t+=1)r[t].c();d(n,"class","textfield p-2 bg-white dark:bg-gray-800 rounded box-border max-w-full break-word")},m(t,f){l&&l.m(t,f),m(t,e,f),m(t,n,f);for(let s=0;s<r.length;s+=1)r[s].m(n,null)},p(t,f){if(t[1]?l||(l=Y(),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),f&1){o=t[0];let s;for(s=0;s<o.length;s+=1){const i=A(t,o,s);r[s]?r[s].p(i,f):(r[s]=F(i),r[s].c(),r[s].m(n,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},d(t){l&&l.d(t),t&&g(e),t&&g(n),L(r,t)}}}function be(a){let e,n,l=a[1]&&G(a),o=a[0],r=[];for(let t=0;t<o.length;t+=1)r[t]=Q(I(a,o,t));return{c(){l&&l.c(),e=w(),n=p("div");for(let t=0;t<r.length;t+=1)r[t].c();d(n,"class","textfield bg-white dark:bg-transparent rounded-sm box-border max-w-full break-word inline-flex flex-wrap gap-1")},m(t,f){l&&l.m(t,f),m(t,e,f),m(t,n,f);for(let s=0;s<r.length;s+=1)r[s].m(n,null)},p(t,f){if(t[1]?l?l.p(t,f):(l=G(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),f&15){o=t[0];let s;for(s=0;s<o.length;s+=1){const i=I(t,o,s);r[s]?r[s].p(i,f):(r[s]=Q(i),r[s].c(),r[s].m(n,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}},d(t){l&&l.d(t),t&&g(e),t&&g(n),L(r,t)}}}function Y(a){let e;return{c(){e=p("div"),e.innerHTML=`<span>-1</span> 
			<span>0</span> 
			<span>+1</span>`,d(e,"class","color_legend flex px-2 py-1 justify-between rounded mb-3 font-semibold"),T(e,"background","-webkit-linear-gradient(to right,#8d83d6,(255,255,255,0),#eb4d4b)"),T(e,"background","linear-gradient(to right,#8d83d6,rgba(255,255,255,0),#eb4d4b)")},m(n,l){m(n,e,l)},d(n){n&&g(e)}}}function F(a){let e,n,l=a[16]+"",o,r,t;return{c(){e=p("span"),n=p("span"),o=S(l),r=w(),d(n,"class","text dark:text-white"),d(e,"class","textspan p-1 mr-0.5 bg-opacity-20 dark:bg-opacity-80 rounded-sm"),d(e,"style",t="background-color: rgba("+(a[23]<0?"141, 131, 214,"+-a[23]:"235, 77, 75,"+a[23])+")")},m(f,s){m(f,e,s),h(e,n),h(n,o),h(e,r)},p(f,s){s&1&&l!==(l=f[16]+"")&&B(o,l),s&1&&t!==(t="background-color: rgba("+(f[23]<0?"141, 131, 214,"+-f[23]:"235, 77, 75,"+f[23])+")")&&d(e,"style",t)},d(f){f&&g(e)}}}function G(a){let e,n=Object.entries(a[2]),l=[];for(let o=0;o<n.length;o+=1)l[o]=J(K(a,n,o));return{c(){e=p("div");for(let o=0;o<l.length;o+=1)l[o].c();d(e,"class","category-legend flex flex-wrap gap-1 mb-2 text-black")},m(o,r){m(o,e,r);for(let t=0;t<l.length;t+=1)l[t].m(e,null)},p(o,r){if(r&100){n=Object.entries(o[2]);let t;for(t=0;t<n.length;t+=1){const f=K(o,n,t);l[t]?l[t].p(f,r):(l[t]=J(f),l[t].c(),l[t].m(e,null))}for(;t<l.length;t+=1)l[t].d(1);l.length=n.length}},d(o){o&&g(e),L(l,o)}}}function J(a){let e,n=a[17]+"",l,o,r,t,f;function s(){return a[9](a[17])}function i(){return a[10](a[17])}return{c(){e=p("div"),l=S(n),o=w(),d(e,"class","category-label px-2 rounded-sm font-semibold cursor-pointer"),d(e,"style",r="background-color:"+a[20].secondary)},m(u,c){m(u,e,c),h(e,l),h(e,o),t||(f=[H(e,"mouseover",s),H(e,"focus",i),H(e,"mouseout",a[11]),H(e,"blur",a[12])],t=!0)},p(u,c){a=u,c&4&&n!==(n=a[17]+"")&&B(l,n),c&4&&r!==(r="background-color:"+a[20].secondary)&&d(e,"style",r)},d(u){u&&g(e),t=!1,oe(f)}}}function P(a){let e,n=a[17]+"",l;return{c(){e=p("span"),l=S(n),d(e,"class","font-bold uppercase inline-category text-xs text-white rounded-sm my-[0.225rem] px-[0.325rem] transition-colors"),T(e,"background-color",a[17]===null||a[3]&&a[3]!==a[17]?"":a[2][a[17]].primary,!1)},m(o,r){m(o,e,r),h(e,l)},p(o,r){r&1&&n!==(n=o[17]+"")&&B(l,n),r&13&&T(e,"background-color",o[17]===null||o[3]&&o[3]!==o[17]?"":o[2][o[17]].primary,!1)},d(o){o&&g(e)}}}function Q(a){let e,n,l=a[16]+"",o,r,t,f=!a[1]&&a[17]!==null&&P(a);return{c(){e=p("span"),n=p("span"),o=S(l),r=w(),f&&f.c(),t=w(),d(n,"class","text "),d(e,"class","textspan rounded-sm inline-flex items-center px-1 space-x-1.5 transition-colors text-black"),z(e,"dark:text-white",a[17]===null||a[3]&&a[3]!==a[17]),T(e,"background-color",a[17]===null||a[3]&&a[3]!==a[17]?"":a[2][a[17]].secondary,!1)},m(s,i){m(s,e,i),h(e,n),h(n,o),h(e,r),f&&f.m(e,null),h(e,t)},p(s,i){i&1&&l!==(l=s[16]+"")&&B(o,l),!s[1]&&s[17]!==null?f?f.p(s,i):(f=P(s),f.c(),f.m(e,t)):f&&(f.d(1),f=null),i&9&&z(e,"dark:text-white",s[17]===null||s[3]&&s[3]!==s[17]),i&13&&T(e,"background-color",s[17]===null||s[3]&&s[3]!==s[17]?"":s[2][s[17]].secondary,!1)},d(s){s&&g(e),f&&f.d()}}}function he(a){let e;function n(r,t){return r[4]==="categories"?be:ge}let l=n(a),o=l(a);return{c(){o.c(),e=ne()},m(r,t){o.m(r,t),m(r,e,t)},p(r,[t]){l===(l=n(r))&&o?o.p(r,t):(o.d(1),o=l(r),o&&(o.c(),o.m(e.parentNode,e)))},i:M,o:M,d(r){o.d(r),r&&g(e)}}}function pe(a,e,n){const l=typeof document!="undefined";let{value:o=[]}=e,{show_legend:r=!1}=e,{color_map:t={}}=e,{style:f=""}=e,s,i={},u="";function c(_,b){if(!s){var v=document.createElement("canvas");s=v.getContext("2d")}s.fillStyle=_,s.fillRect(0,0,1,1);const[E,le,te]=s.getImageData(0,0,1,1).data;return s.clearRect(0,0,1,1),`rgba(${E}, ${le}, ${te}, ${255/b})`}let k;t===null&&(t={});function q(_){n(3,u=_)}function D(){n(3,u="")}const Z=_=>q(_),x=_=>q(_),$=()=>D(),ee=()=>D();return a.$$set=_=>{"value"in _&&n(0,o=_.value),"show_legend"in _&&n(1,r=_.show_legend),"color_map"in _&&n(7,t=_.color_map),"style"in _&&n(8,f=_.style)},a.$$.update=()=>{if(a.$$.dirty&129){let _=function(){for(const b in t){const v=t[b].trim();v in R?n(2,i[b]=R[v],i):n(2,i[b]={primary:l?c(t[b],1):t[b],secondary:l?c(t[b],.5):t[b]},i)}};if(o.length>0){for(let[b,v]of o)if(v!==null)if(typeof v=="string"){if(n(4,k="categories"),!(v in t)){let E=ce(Object.keys(t).length);n(7,t[v]=E,t)}}else n(4,k="scores")}_()}},[o,r,i,u,k,q,D,t,f,Z,x,$,ee]}class ke extends V{constructor(e){super(),W(this,e,pe,he,X,{value:0,show_legend:1,color_map:7,style:8})}}function U(a){let e,n;return e=new de({props:{$$slots:{default:[ve]},$$scope:{ctx:a}}}),{c(){N(e.$$.fragment)},m(l,o){C(e,l,o),n=!0},p(l,o){const r={};o&272&&(r.$$scope={dirty:o,ctx:l}),e.$set(r)},i(l){n||(y(e.$$.fragment,l),n=!0)},o(l){j(e.$$.fragment,l),n=!1},d(l){O(e,l)}}}function ve(a){let e;return{c(){e=S(a[4])},m(n,l){m(n,e,l)},p(n,l){l&16&&B(e,n[4])},d(n){n&&g(e)}}}function we(a){let e,n,l,o,r;const t=[a[5]];let f={};for(let i=0;i<t.length;i+=1)f=ae(f,t[i]);e=new me({props:f});let s=a[4]&&U(a);return o=new ke({props:{value:a[0],style:a[1],show_legend:a[2],color_map:a[3]}}),{c(){N(e.$$.fragment),n=w(),s&&s.c(),l=w(),N(o.$$.fragment)},m(i,u){C(e,i,u),m(i,n,u),s&&s.m(i,u),m(i,l,u),C(o,i,u),r=!0},p(i,u){const c=u&32?re(t,[fe(i[5])]):{};e.$set(c),i[4]?s?(s.p(i,u),u&16&&y(s,1)):(s=U(i),s.c(),y(s,1),s.m(l.parentNode,l)):s&&(ie(),j(s,1,1,()=>{s=null}),ue());const k={};u&1&&(k.value=i[0]),u&2&&(k.style=i[1]),u&4&&(k.show_legend=i[2]),u&8&&(k.color_map=i[3]),o.$set(k)},i(i){r||(y(e.$$.fragment,i),y(s),y(o.$$.fragment,i),r=!0)},o(i){j(e.$$.fragment,i),j(s),j(o.$$.fragment,i),r=!1},d(i){O(e,i),i&&g(n),s&&s.d(i),i&&g(l),O(o,i)}}}function ye(a){let e,n;return e=new _e({props:{$$slots:{default:[we]},$$scope:{ctx:a}}}),{c(){N(e.$$.fragment)},m(l,o){C(e,l,o),n=!0},p(l,[o]){const r={};o&319&&(r.$$scope={dirty:o,ctx:l}),e.$set(r)},i(l){n||(y(e.$$.fragment,l),n=!0)},o(l){j(e.$$.fragment,l),n=!1},d(l){O(e,l)}}}function je(a,e,n){let{value:l}=e,{default_value:o}=e,{style:r=""}=e,{show_legend:t}=e,{color_map:f={}}=e,{label:s}=e,{loading_status:i}=e;const u=se();return o&&(l=o),a.$$set=c=>{"value"in c&&n(0,l=c.value),"default_value"in c&&n(6,o=c.default_value),"style"in c&&n(1,r=c.style),"show_legend"in c&&n(2,t=c.show_legend),"color_map"in c&&n(3,f=c.color_map),"label"in c&&n(4,s=c.label),"loading_status"in c&&n(5,i=c.loading_status)},a.$$.update=()=>{a.$$.dirty&1&&u("change")},[l,r,t,f,s,i,o]}class Te extends V{constructor(e){super(),W(this,e,je,ye,X,{value:0,default_value:6,style:1,show_legend:2,color_map:3,label:4,loading_status:5})}}var Oe=Te;const qe=["static"];export{Oe as Component,qe as modes};
