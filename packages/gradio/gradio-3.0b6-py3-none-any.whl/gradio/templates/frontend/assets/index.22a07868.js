import{S as ue,i as fe,s as ce,f as M,b as A,t as v,c as C,a2 as _e,l as F,e as N,r as Te,m as K,h as We,d as T,j as Xe,n as X,F as he,D as P,J as x,q as Z,k as xe,u as I,G as $,v as Y,w as G,x as Q,A as Be,a3 as j,a as be,y as ie,a4 as se,a5 as ae,z as oe,L as $e,M as et,N as tt,O as nt}from"./index.b05fc228.js";import{U as lt}from"./Upload.b565dee0.js";import{d as rt}from"./dsv.7fe76a93.js";var pe=Object.prototype.hasOwnProperty;function ee(i,e){var t,l;if(i===e)return!0;if(i&&e&&(t=i.constructor)===e.constructor){if(t===Date)return i.getTime()===e.getTime();if(t===RegExp)return i.toString()===e.toString();if(t===Array){if((l=i.length)===e.length)for(;l--&&ee(i[l],e[l]););return l===-1}if(!t||typeof i=="object"){l=0;for(t in i)if(pe.call(i,t)&&++l&&!pe.call(e,t)||!(t in e)||!ee(i[t],e[t]))return!1;return Object.keys(e).length===l}}return i!==i&&e!==e}function me(i){let e,t,l;return{c(){e=M("input"),A(e,"class","absolute outline-none inset-2 bg-transparent border-0 translate-x-px flex-1 "),A(e,"tabindex","-1"),v(e,"translate-x-px",!i[3]),v(e,"font-bold",i[3])},m(r,a){C(r,e,a),_e(e,i[0]),i[7](e),t||(l=[F(e,"input",i[6]),F(e,"keydown",i[5]),F(e,"blur",st)],t=!0)},p(r,a){a&1&&e.value!==r[0]&&_e(e,r[0]),a&8&&v(e,"translate-x-px",!r[3]),a&8&&v(e,"font-bold",r[3])},d(r){r&&N(e),i[7](null),t=!1,Te(l)}}}function it(i){let e,t,l,r,a,g=i[2]&&me(i);return{c(){g&&g.c(),e=K(),t=M("span"),l=We(i[0]),A(t,"tabindex","-1"),A(t,"role","button"),A(t,"class","p-2 outline-none border-0 flex-1"),v(t,"opacity-0",i[2]),v(t,"pointer-events-none",i[2])},m(c,u){g&&g.m(c,u),C(c,e,u),C(c,t,u),T(t,l),r||(a=F(t,"dblclick",i[4]),r=!0)},p(c,[u]){c[2]?g?g.p(c,u):(g=me(c),g.c(),g.m(e.parentNode,e)):g&&(g.d(1),g=null),u&1&&Xe(l,c[0]),u&4&&v(t,"opacity-0",c[2]),u&4&&v(t,"pointer-events-none",c[2])},i:X,o:X,d(c){g&&g.d(c),c&&N(e),c&&N(t),r=!1,a()}}}const st=({currentTarget:i})=>i.setAttribute("tabindex","-1");function at(i,e,t){let{edit:l}=e,{value:r=""}=e,{el:a}=e,{header:g=!1}=e;function c(s){he.call(this,i,s)}function u(s){he.call(this,i,s)}function o(){r=this.value,t(0,r)}function d(s){P[s?"unshift":"push"](()=>{a=s,t(1,a)})}return i.$$set=s=>{"edit"in s&&t(2,l=s.edit),"value"in s&&t(0,r=s.value),"el"in s&&t(1,a=s.el),"header"in s&&t(3,g=s.header)},[r,a,l,g,c,u,o,d]}class Ce extends ue{constructor(e){super(),fe(this,e,at,it,ce,{edit:2,value:0,el:1,header:3})}}function ke(i,e,t){const l=i.slice();return l[47]=e[t],l[49]=t,l}function we(i,e,t){const l=i.slice();return l[50]=e[t].value,l[51]=e[t].id,l[52]=e,l[53]=t,l}function ye(i,e,t){const l=i.slice();return l[50]=e[t].value,l[51]=e[t].id,l[54]=e,l[49]=t,l}function Ae(i,e){let t,l,r,a,g,c,u,o,d,s,w,b=e[51],D,p,m;function h(B){e[27](B,e[51])}function H(){return e[28](e[51])}let L={value:e[50],edit:e[10]===e[51],header:!0};e[7][e[51]].input!==void 0&&(L.el=e[7][e[51]].input),r=new Ce({props:L}),P.push(()=>x(r,"el",h)),r.$on("keydown",e[18]),r.$on("dblclick",H);function q(){return e[29](e[49])}const O=()=>e[30](t,b),V=()=>e[30](null,b);return{key:i,first:null,c(){t=M("th"),l=M("div"),Z(r.$$.fragment),g=K(),c=M("div"),u=be("svg"),o=be("path"),s=K(),A(o,"d","M4.49999 0L8.3971 6.75H0.602875L4.49999 0Z"),A(u,"width","1em"),A(u,"height","1em"),A(u,"class","fill-current text-[10px]"),A(u,"viewBox","0 0 9 7"),A(u,"fill","none"),A(u,"xmlns","http://www.w3.org/2000/svg"),A(c,"class",d="flex flex-none items-center justify-center p-2 cursor-pointer leading-snug transform transition-all "+(e[9]!==e[49]?"text-gray-200 hover:text-gray-500":"text-orange-500")+" "+(e[9]===e[49]&&e[8]==="des"?"-scale-y-[1]":"")),v(c,"text-gray-200",e[9]!==e[49]),A(l,"class","min-h-[2.3rem] flex outline-none"),A(t,"class","p-0 relative focus-within:ring-1 ring-orange-500 ring-inset outline-none "),A(t,"aria-sort",w=e[12](e[50],e[9],e[8])),v(t,"bg-orange-50",e[10]===e[51]),v(t,"dark:bg-transparent",e[10]===e[51]),v(t,"rounded-tl-lg",e[49]===0),v(t,"rounded-tr-lg",e[49]===e[5].length-1),this.first=t},m(B,E){C(B,t,E),T(t,l),I(r,l,null),T(l,g),T(l,c),T(c,u),T(u,o),T(t,s),O(),D=!0,p||(m=F(c,"click",q),p=!0)},p(B,E){e=B;const R={};E[0]&32&&(R.value=e[50]),E[0]&1056&&(R.edit=e[10]===e[51]),!a&&E[0]&160&&(a=!0,R.el=e[7][e[51]].input,$(()=>a=!1)),r.$set(R),(!D||E[0]&800&&d!==(d="flex flex-none items-center justify-center p-2 cursor-pointer leading-snug transform transition-all "+(e[9]!==e[49]?"text-gray-200 hover:text-gray-500":"text-orange-500")+" "+(e[9]===e[49]&&e[8]==="des"?"-scale-y-[1]":"")))&&A(c,"class",d),E[0]&800&&v(c,"text-gray-200",e[9]!==e[49]),(!D||E[0]&800&&w!==(w=e[12](e[50],e[9],e[8])))&&A(t,"aria-sort",w),b!==e[51]&&(V(),b=e[51],O()),E[0]&1056&&v(t,"bg-orange-50",e[10]===e[51]),E[0]&1056&&v(t,"dark:bg-transparent",e[10]===e[51]),E[0]&32&&v(t,"rounded-tl-lg",e[49]===0),E[0]&32&&v(t,"rounded-tr-lg",e[49]===e[5].length-1)},i(B){D||(Y(r.$$.fragment,B),D=!0)},o(B){G(r.$$.fragment,B),D=!1},d(B){B&&N(t),Q(r),V(),p=!1,m()}}}function De(i,e){let t,l,r,a,g,c=e[51],u,o,d;function s(L){e[31](L,e[50],e[52],e[53])}function w(L){e[32](L,e[51])}let b={edit:e[3]===e[51]};e[50]!==void 0&&(b.value=e[50]),e[7][e[51]].input!==void 0&&(b.el=e[7][e[51]].input),r=new Ce({props:b}),P.push(()=>x(r,"value",s)),P.push(()=>x(r,"el",w));const D=()=>e[33](t,c),p=()=>e[33](null,c);function m(){return e[34](e[51])}function h(){return e[35](e[51])}function H(...L){return e[36](e[49],e[53],e[51],...L)}return{key:i,first:null,c(){t=M("td"),l=M("div"),Z(r.$$.fragment),A(l,"class","min-h-[2.3rem] h-full outline-none flex items-center"),v(l,"border-transparent",e[4]!==e[51]),A(t,"tabindex","0"),A(t,"class","outline-none focus-within:ring-1 ring-orange-500 ring-inset focus-within:bg-orange-50 dark:focus-within:bg-gray-800 group-last:first:rounded-bl-lg group-last:last:rounded-br-lg relative"),this.first=t},m(L,q){C(L,t,q),T(t,l),I(r,l,null),D(),u=!0,o||(d=[F(t,"click",m),F(t,"dblclick",h),F(t,"keydown",H)],o=!0)},p(L,q){e=L;const O={};q[0]&72&&(O.edit=e[3]===e[51]),!a&&q[0]&64&&(a=!0,O.value=e[50],$(()=>a=!1)),!g&&q[0]&192&&(g=!0,O.el=e[7][e[51]].input,$(()=>g=!1)),r.$set(O),q[0]&80&&v(l,"border-transparent",e[4]!==e[51]),c!==e[51]&&(p(),c=e[51],D())},i(L){u||(Y(r.$$.fragment,L),u=!0)},o(L){G(r.$$.fragment,L),u=!1},d(L){L&&N(t),Q(r),p(),o=!1,Te(d)}}}function ve(i,e){let t,l=[],r=new Map,a,g,c=e[47];const u=o=>o[51];for(let o=0;o<c.length;o+=1){let d=we(e,c,o),s=u(d);r.set(s,l[o]=De(s,d))}return{key:i,first:null,c(){t=M("tr");for(let o=0;o<l.length;o+=1)l[o].c();a=K(),A(t,"class","group border-b dark:border-gray-700 last:border-none divide-x dark:divide-gray-700 space-x-4 odd:bg-gray-50 dark:odd:bg-gray-900 group focus:bg-gradient-to-b focus:from-blue-100 dark:focus:from-blue-900 focus:to-blue-50 dark:focus:to-gray-900 focus:odd:bg-white"),this.first=t},m(o,d){C(o,t,d);for(let s=0;s<l.length;s+=1)l[s].m(t,null);T(t,a),g=!0},p(o,d){e=o,d[0]&57560&&(c=e[47],ie(),l=se(l,d,u,1,e,c,r,t,ae,De,a,we),oe())},i(o){if(!g){for(let d=0;d<c.length;d+=1)Y(l[d]);g=!0}},o(o){for(let d=0;d<l.length;d+=1)G(l[d]);g=!1},d(o){o&&N(t);for(let d=0;d<l.length;d+=1)l[d].d()}}}function ot(i){let e,t,l,r=[],a=new Map,g,c,u=[],o=new Map,d,s=i[5];const w=p=>p[51];for(let p=0;p<s.length;p+=1){let m=ye(i,s,p),h=w(m);a.set(h,r[p]=Ae(h,m))}let b=i[6];const D=p=>p[47];for(let p=0;p<b.length;p+=1){let m=ke(i,b,p),h=D(m);o.set(h,u[p]=ve(h,m))}return{c(){e=M("table"),t=M("thead"),l=M("tr");for(let p=0;p<r.length;p+=1)r[p].c();g=K(),c=M("tbody");for(let p=0;p<u.length;p+=1)u[p].c();A(l,"class","border-b dark:border-gray-700 divide-x dark:divide-gray-700 text-left"),A(t,"class","sticky top-0 left-0 right-0 bg-white shadow-sm z-10"),A(c,"class","overflow-y-scroll"),A(e,"class","table-auto font-mono w-full text-gray-900 text-sm transition-opacity overflow-hidden "),v(e,"opacity-40",i[11])},m(p,m){C(p,e,m),T(e,t),T(t,l);for(let h=0;h<r.length;h+=1)r[h].m(l,null);T(e,g),T(e,c);for(let h=0;h<u.length;h+=1)u[h].m(c,null);d=!0},p(p,m){m[0]&464800&&(s=p[5],ie(),r=se(r,m,w,1,p,s,a,l,ae,Ae,null,ye),oe()),m[0]&57560&&(b=p[6],ie(),u=se(u,m,D,1,p,b,o,c,ae,ve,null,ke),oe()),m[0]&2048&&v(e,"opacity-40",p[11])},i(p){if(!d){for(let m=0;m<s.length;m+=1)Y(r[m]);for(let m=0;m<b.length;m+=1)Y(u[m]);d=!0}},o(p){for(let m=0;m<r.length;m+=1)G(r[m]);for(let m=0;m<u.length;m+=1)G(u[m]);d=!1},d(p){p&&N(e);for(let m=0;m<r.length;m+=1)r[m].d();for(let m=0;m<u.length;m+=1)u[m].d()}}}function Le(i){let e,t,l=i[1][1]==="dynamic"&&Me(i),r=i[0][1]==="dynamic"&&Ee(i);return{c(){e=M("div"),l&&l.c(),t=K(),r&&r.c(),A(e,"class","flex justify-end space-x-1 pt-2 text-gray-800")},m(a,g){C(a,e,g),l&&l.m(e,null),T(e,t),r&&r.m(e,null)},p(a,g){a[1][1]==="dynamic"?l?l.p(a,g):(l=Me(a),l.c(),l.m(e,t)):l&&(l.d(1),l=null),a[0][1]==="dynamic"?r?r.p(a,g):(r=Ee(a),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d(a){a&&N(e),l&&l.d(),r&&r.d()}}}function Me(i){let e,t,l;return{c(){e=M("button"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="mr-1 group-hover:text-orange-500" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path fill="currentColor" d="M24.59 16.59L17 24.17V4h-2v20.17l-7.59-7.58L6 18l10 10l10-10l-1.41-1.41z"></path></svg>New row',A(e,"class","!flex-none gr-button group")},m(r,a){C(r,e,a),t||(l=F(e,"click",i[39]),t=!0)},p:X,d(r){r&&N(e),t=!1,l()}}}function Ee(i){let e,t,l;return{c(){e=M("button"),e.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="mr-1 group-hover:text-orange-500" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path fill="currentColor" d="m18 6l-1.43 1.393L24.15 15H4v2h20.15l-7.58 7.573L18 26l10-10L18 6z"></path></svg>
				New column`,A(e,"class","!flex-none gr-button group")},m(r,a){C(r,e,a),t||(l=F(e,"click",i[20]),t=!0)},p:X,d(r){r&&N(e),t=!1,l()}}}function ut(i){let e,t,l,r,a,g,c,u;function o(w){i[37](w)}let d={flex:!1,center:!1,boundedheight:!1,click:!1,$$slots:{default:[ot]},$$scope:{ctx:i}};i[11]!==void 0&&(d.dragging=i[11]),t=new lt({props:d}),P.push(()=>x(t,"dragging",o)),t.$on("load",i[38]);let s=i[2]&&Le(i);return{c(){e=M("div"),Z(t.$$.fragment),r=K(),s&&s.c(),a=xe(),A(e,"class","scroll-hide whitespace-nowrap overflow-hidden rounded-lg relative border transition-colors overflow-x-scroll"),v(e,"border-green-400",i[11])},m(w,b){C(w,e,b),I(t,e,null),C(w,r,b),s&&s.m(w,b),C(w,a,b),g=!0,c||(u=F(window,"click",i[21]),c=!0)},p(w,b){const D={};b[0]&4088|b[1]&16777216&&(D.$$scope={dirty:b,ctx:w}),!l&&b[0]&2048&&(l=!0,D.dragging=w[11],$(()=>l=!1)),t.$set(D),b[0]&2048&&v(e,"border-green-400",w[11]),w[2]?s?s.p(w,b):(s=Le(w),s.c(),s.m(a.parentNode,a)):s&&(s.d(1),s=null)},i(w){g||(Y(t.$$.fragment,w),g=!0)},o(w){G(t.$$.fragment,w),g=!1},d(w){w&&N(e),Q(t),w&&N(r),s&&s.d(w),w&&N(a),c=!1,u()}}}function ft(i,e){return e.filter(t);function t(l){var r=-1;return i.split(`
`).every(a);function a(g){if(!g)return!0;var c=g.split(l).length;return r<0&&(r=c),r===c&&c>1}}}function ct(i){const e=atob(i.split(",")[1]),t=i.split(",")[0].split(":")[1].split(";")[0],l=new ArrayBuffer(e.length),r=new Uint8Array(l);for(let a=0;a<e.length;a++)r[a]=e.charCodeAt(a);return new Blob([l],{type:t})}function dt(i,e,t){let{headers:l=[]}=e,{values:r=[[]]}=e,{col_count:a}=e,{row_count:g}=e,{editable:c=!0}=e;const u=Be();let o=!1,d=!1,s={};function w(n){let f=n||[];if(a[1]==="fixed"&&f.length<a[0]){const _=Array(a[0]-f.length).fill("").map((k,y)=>`${y+f.length}`);f=f.concat(_)}return!f||f.length===0?Array(a[0]).fill(0).map((_,k)=>{const y=`h-${k}`;return t(7,s[y]={cell:null,input:null},s),{id:y,value:JSON.stringify(k+1)}}):f.map((_,k)=>{const y=`h-${k}`;return t(7,s[y]={cell:null,input:null},s),{id:y,value:_||""}})}function b(n){const f=n.length>0?n.length:g[0];return Array(g[1]==="fixed"||f<g[0]?g[0]:f).fill(0).map((_,k)=>Array(a[1]==="fixed"?a[0]:n[0].length).fill(0).map((y,z)=>{var J;const U=`${k}-${z}`;return t(7,s[U]={input:null,cell:null},s),{value:((J=n==null?void 0:n[k])==null?void 0:J[z])||"",id:U}}))}let D=w(l),p;async function m(){var n,f,_,k;typeof o=="string"?(await j(),(f=(n=s[o])==null?void 0:n.input)==null||f.focus()):typeof d=="string"&&(await j(),(k=(_=s[d])==null?void 0:_.input)==null||k.focus())}let h=[[]],H;function L(n,f,_){if(!f)return"none";if(l[f]===n){if(_==="asc")return"ascending";if(_==="des")return"descending"}}function q(n){return h.reduce((f,_,k)=>{const y=_.reduce((z,U,J)=>n===U.id?J:z,-1);return y===-1?f:[k,y]},[-1,-1])}async function O(n,f){if(!c||o===n)return;if(f){const[k,y]=q(n);t(6,h[k][y].value="",h)}t(3,o=n),await j();const{input:_}=s[n];_==null||_.focus()}async function V(n,f,_,k){var z;let y;switch(n.key){case"ArrowRight":if(o)break;n.preventDefault(),y=h[f][_+1],t(4,d=y?y.id:d);break;case"ArrowLeft":if(o)break;n.preventDefault(),y=h[f][_-1],t(4,d=y?y.id:d);break;case"ArrowDown":if(o)break;n.preventDefault(),y=h[f+1],t(4,d=y?y[_].id:d);break;case"ArrowUp":if(o)break;n.preventDefault(),y=h[f-1],t(4,d=y?y[_].id:d);break;case"Escape":if(!c)break;n.preventDefault(),t(4,d=o),t(3,o=!1);break;case"Enter":if(!c)break;if(n.preventDefault(),n.shiftKey){ne(f),await j();const[Qe]=q(k);t(4,d=h[Qe+1][_].id)}else o===k?t(3,o=!1):O(k);break;case"Backspace":if(!c)break;o||(n.preventDefault(),t(6,h[f][_].value="",h));break;case"Delete":if(!c)break;o||(n.preventDefault(),t(6,h[f][_].value="",h));break;case"Tab":let U=n.shiftKey?-1:1,J=h[f][_+U],Ie=(z=h==null?void 0:h[f+U])==null?void 0:z[U>0?0:D.length-1],re=J||Ie;re&&(n.preventDefault(),t(4,d=re?re.id:d)),t(3,o=!1);break;default:(!o||o&&o!==k)&&n.key.length===1&&O(k,!0);break}}async function B(n){o!==n&&d!==n&&(t(3,o=!1),t(4,d=n))}async function E(n,f){var _,k;if(f==="edit"&&typeof n=="string"&&(await j(),(_=s[n].input)==null||_.focus()),f==="edit"&&typeof n=="boolean"&&typeof d=="string"){let y=(k=s[d])==null?void 0:k.cell;await j(),y==null||y.focus()}if(f==="select"&&typeof n=="string"){const{cell:y}=s[n];await j(),y==null||y.focus()}}let R,W;function Ne(n,f){f==="asc"?t(6,h=h.sort((_,k)=>_[n].value<k[n].value?-1:1)):f==="des"&&t(6,h=h.sort((_,k)=>_[n].value>k[n].value?-1:1))}function de(n){typeof W!="number"||W!==n?(t(8,R="asc"),t(9,W=n)):R==="asc"?t(8,R="des"):R==="des"&&t(8,R="asc"),Ne(n,R)}let S;async function te(n,f){var _,k;!c||a[1]!=="dynamic"||o===n||(t(10,S=n),await j(),(_=s[n].input)==null||_.focus(),f&&((k=s[n].input)==null||k.select()))}function Oe(n){if(!!c)switch(n.key){case"Escape":n.preventDefault(),t(4,d=S),t(10,S=!1);break;case"Enter":n.preventDefault(),t(4,d=S),t(10,S=!1)}}function ne(n){g[1]==="dynamic"&&(h.splice(n?n+1:h.length,0,Array(a[0]).fill(0).map((f,_)=>{const k=`${h.length}-${_}`;return t(7,s[k]={cell:null,input:null},s),{id:k,value:""}})),t(6,h),t(23,r),t(26,H))}async function Re(){if(a[1]!=="dynamic")return;for(let f=0;f<h.length;f++){const _=`${f}-${h[f].length}`;t(7,s[_]={cell:null,input:null},s),h[f].push({id:_,value:""})}const n=`h-${D.length}`;t(7,s[n]={cell:null,input:null},s),D.push({id:n,value:`Header ${D.length+1}`}),t(6,h),t(23,r),t(26,H),t(5,D),t(24,l),t(25,p),await j(),te(n,!0)}function Se(n){var f,_;typeof o=="string"&&s[o]&&s[o].cell!==n.target&&!((f=s[o].cell)!=null&&f.contains(n==null?void 0:n.target))&&t(10,S=!1),typeof S=="string"&&s[S]&&s[S].cell!==n.target&&!((_=s[S].cell)!=null&&_.contains(n.target))&&t(10,S=!1)}function ge(n){const f=new FileReader;function _(k){var J;if(!((J=k==null?void 0:k.target)!=null&&J.result)||typeof k.target.result!="string")return;const[y]=ft(k.target.result,[",","	"]),[z,...U]=rt(y).parseRows(k.target.result);t(5,D=w(a[1]==="fixed"?z.slice(0,a[0]):z)),t(23,r=U),f.removeEventListener("loadend",_)}f.addEventListener("loadend",_),f.readAsText(n)}let le=!1;function qe(n,f){i.$$.not_equal(s[f].input,n)&&(s[f].input=n,t(7,s))}const Fe=n=>te(n),He=n=>de(n);function ze(n,f){P[n?"unshift":"push"](()=>{s[f].cell=n,t(7,s)})}function Ue(n,f,_,k){_[k].value=n,t(6,h),t(23,r),t(26,H)}function je(n,f){i.$$.not_equal(s[f].input,n)&&(s[f].input=n,t(7,s))}function Je(n,f){P[n?"unshift":"push"](()=>{s[f].cell=n,t(7,s)})}const Ke=n=>B(n),Ye=n=>O(n),Ge=(n,f,_,k)=>V(k,n,f,_);function Pe(n){le=n,t(11,le)}const Ve=n=>ge(ct(n.detail.data)),Ze=()=>ne();return i.$$set=n=>{"headers"in n&&t(24,l=n.headers),"values"in n&&t(23,r=n.values),"col_count"in n&&t(0,a=n.col_count),"row_count"in n&&t(1,g=n.row_count),"editable"in n&&t(2,c=n.editable)},i.$$.update=()=>{i.$$.dirty[0]&50331648&&(ee(l,p)||(t(5,D=w(l)),t(25,p=l),m())),i.$$.dirty[0]&75497472&&(ee(r,H)||(t(6,h=b(r)),t(26,H=r),m())),i.$$.dirty[0]&96&&D&&u("change",h.map(n=>n.map(({value:f})=>f))),i.$$.dirty[0]&8&&E(o,"edit"),i.$$.dirty[0]&16&&E(d,"select")},[a,g,c,o,d,D,h,s,R,W,S,le,L,O,V,B,de,te,Oe,ne,Re,Se,ge,r,l,p,H,qe,Fe,He,ze,Ue,je,Je,Ke,Ye,Ge,Pe,Ve,Ze]}class gt extends ue{constructor(e){super(),fe(this,e,dt,ut,ce,{headers:24,values:23,col_count:0,row_count:1,editable:2},null,[-1,-1])}}function _t(i){let e,t,l,r,a;const g=[i[7]];let c={};for(let u=0;u<g.length;u+=1)c=$e(c,g[u]);return t=new et({props:c}),r=new gt({props:{row_count:i[5],col_count:i[4],values:i[1],headers:i[0],editable:i[3]==="dynamic"}}),r.$on("change",i[8]),{c(){e=M("div"),Z(t.$$.fragment),l=K(),Z(r.$$.fragment),A(e,"id",i[2]),A(e,"class","relative overflow-hidden"),v(e,"flex-1",i[6]==="row"||!i[6])},m(u,o){C(u,e,o),I(t,e,null),T(e,l),I(r,e,null),a=!0},p(u,[o]){const d=o&128?tt(g,[nt(u[7])]):{};t.$set(d);const s={};o&32&&(s.row_count=u[5]),o&16&&(s.col_count=u[4]),o&2&&(s.values=u[1]),o&1&&(s.headers=u[0]),o&8&&(s.editable=u[3]==="dynamic"),r.$set(s),(!a||o&4)&&A(e,"id",u[2]),o&64&&v(e,"flex-1",u[6]==="row"||!u[6])},i(u){a||(Y(t.$$.fragment,u),Y(r.$$.fragment,u),a=!0)},o(u){G(t.$$.fragment,u),G(r.$$.fragment,u),a=!1},d(u){u&&N(e),Q(t),Q(r)}}}function ht(i,e,t){let{headers:l=[]}=e,{elem_id:r=""}=e,{value:a=[["","",""]]}=e,{mode:g}=e,{col_count:c}=e,{row_count:u}=e,{parent:o=null}=e;const d=Be();let{loading_status:s}=e;async function w({detail:b}){t(1,a=b),await j(),d("change",b)}return i.$$set=b=>{"headers"in b&&t(0,l=b.headers),"elem_id"in b&&t(2,r=b.elem_id),"value"in b&&t(1,a=b.value),"mode"in b&&t(3,g=b.mode),"col_count"in b&&t(4,c=b.col_count),"row_count"in b&&t(5,u=b.row_count),"parent"in b&&t(6,o=b.parent),"loading_status"in b&&t(7,s=b.loading_status)},i.$$.update=()=>{i.$$.dirty&3&&(Array.isArray(a)?(t(1,a),t(0,l)):(Array.isArray(a.headers)&&t(0,l=a.headers),t(1,a=a.data.length===0?[Array(l.length).fill("")]:a.data)))},[l,a,r,g,c,u,o,s,w]}class bt extends ue{constructor(e){super(),fe(this,e,ht,_t,ce,{headers:0,elem_id:2,value:1,mode:3,col_count:4,row_count:5,parent:6,loading_status:7})}}var wt=bt;const yt=["static","dynamic"];export{wt as Component,yt as modes};
