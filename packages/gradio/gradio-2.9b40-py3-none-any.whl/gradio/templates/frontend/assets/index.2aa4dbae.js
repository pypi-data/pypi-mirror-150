import{S as fe,i as ce,s as de,f as E,b as A,t as D,c as B,a5 as he,l as F,e as R,r as Ce,m as j,h as Xe,d as C,j as xe,n as x,E as be,C as Z,I as $,q as G,k as $e,u as Q,F as ee,v as Y,w as I,x as W,A as Se,_ as U,a as me,y as ie,a6 as ae,a7 as oe,z as ue,K as et,L as tt,M as nt}from"./index.d34ee087.js";import{U as lt}from"./Upload.bc8798cb.js";import{d as rt}from"./dsv.7fe76a93.js";import{S as st}from"./StatusTracker.52631f55.js";var pe=Object.prototype.hasOwnProperty;function te(s,e){var t,r;if(s===e)return!0;if(s&&e&&(t=s.constructor)===e.constructor){if(t===Date)return s.getTime()===e.getTime();if(t===RegExp)return s.toString()===e.toString();if(t===Array){if((r=s.length)===e.length)for(;r--&&te(s[r],e[r]););return r===-1}if(!t||typeof s=="object"){r=0;for(t in s)if(pe.call(s,t)&&++r&&!pe.call(e,t)||!(t in e)||!te(s[t],e[t]))return!1;return Object.keys(e).length===r}}return s!==s&&e!==e}function ke(s){let e,t,r;return{c(){e=E("input"),A(e,"class","absolute outline-none inset-2 bg-transparent border-0 translate-x-px flex-1 "),A(e,"tabindex","-1"),D(e,"translate-x-px",!s[3]),D(e,"font-bold",s[3])},m(l,o){B(l,e,o),he(e,s[0]),s[7](e),t||(r=[F(e,"input",s[6]),F(e,"keydown",s[5]),F(e,"blur",at)],t=!0)},p(l,o){o&1&&e.value!==l[0]&&he(e,l[0]),o&8&&D(e,"translate-x-px",!l[3]),o&8&&D(e,"font-bold",l[3])},d(l){l&&R(e),s[7](null),t=!1,Ce(r)}}}function it(s){let e,t,r,l,o,d=s[2]&&ke(s);return{c(){d&&d.c(),e=j(),t=E("span"),r=Xe(s[0]),A(t,"tabindex","-1"),A(t,"role","button"),A(t,"class","p-2 outline-none border-0 flex-1"),D(t,"opacity-0",s[2]),D(t,"pointer-events-none",s[2])},m(g,a){d&&d.m(g,a),B(g,e,a),B(g,t,a),C(t,r),l||(o=F(t,"dblclick",s[4]),l=!0)},p(g,[a]){g[2]?d?d.p(g,a):(d=ke(g),d.c(),d.m(e.parentNode,e)):d&&(d.d(1),d=null),a&1&&xe(r,g[0]),a&4&&D(t,"opacity-0",g[2]),a&4&&D(t,"pointer-events-none",g[2])},i:x,o:x,d(g){d&&d.d(g),g&&R(e),g&&R(t),l=!1,o()}}}const at=({currentTarget:s})=>s.setAttribute("tabindex","-1");function ot(s,e,t){let{edit:r}=e,{value:l=""}=e,{el:o}=e,{header:d=!1}=e;function g(i){be.call(this,s,i)}function a(i){be.call(this,s,i)}function m(){l=this.value,t(0,l)}function f(i){Z[i?"unshift":"push"](()=>{o=i,t(1,o)})}return s.$$set=i=>{"edit"in i&&t(2,r=i.edit),"value"in i&&t(0,l=i.value),"el"in i&&t(1,o=i.el),"header"in i&&t(3,d=i.header)},[l,o,r,d,g,a,m,f]}class Be extends fe{constructor(e){super(),ce(this,e,ot,it,de,{edit:2,value:0,el:1,header:3})}}function we(s,e,t){const r=s.slice();return r[48]=e[t],r[50]=t,r}function ye(s,e,t){const r=s.slice();return r[51]=e[t].value,r[52]=e[t].id,r[53]=e,r[54]=t,r}function Ae(s,e,t){const r=s.slice();return r[51]=e[t].value,r[52]=e[t].id,r[55]=e,r[50]=t,r}function De(s,e){let t,r,l,o,d,g,a,m,f,i,u,h=e[52],M,b,p;function L(S){e[28](S,e[52])}function w(){return e[29](e[52])}let v={value:e[51],edit:e[10]===e[52],header:!0};e[7][e[52]].input!==void 0&&(v.el=e[7][e[52]].input),l=new Be({props:v}),Z.push(()=>$(l,"el",L)),l.$on("keydown",e[18]),l.$on("dblclick",w);function H(){return e[30](e[50])}const N=()=>e[31](t,h),J=()=>e[31](null,h);return{key:s,first:null,c(){t=E("th"),r=E("div"),G(l.$$.fragment),d=j(),g=E("div"),a=me("svg"),m=me("path"),i=j(),A(m,"d","M4.49999 0L8.3971 6.75H0.602875L4.49999 0Z"),A(a,"width","1em"),A(a,"height","1em"),A(a,"class","fill-current text-[10px]"),A(a,"viewBox","0 0 9 7"),A(a,"fill","none"),A(a,"xmlns","http://www.w3.org/2000/svg"),A(g,"class",f="flex flex-none items-center justify-center p-2 cursor-pointer leading-snug transform transition-all "+(e[9]!==e[50]?"text-gray-200 hover:text-gray-500":"text-orange-500")+" "+(e[9]===e[50]&&e[8]==="des"?"-scale-y-[1]":"")),D(g,"text-gray-200",e[9]!==e[50]),A(r,"class","min-h-[2.3rem] flex outline-none"),A(t,"class","p-0 relative focus-within:ring-1 ring-orange-500 ring-inset outline-none "),A(t,"aria-sort",u=e[12](e[51],e[9],e[8])),D(t,"bg-orange-50",e[10]===e[52]),D(t,"dark:bg-transparent",e[10]===e[52]),D(t,"rounded-tl-lg",e[50]===0),D(t,"rounded-tr-lg",e[50]===e[5].length-1),this.first=t},m(S,T){B(S,t,T),C(t,r),Q(l,r,null),C(r,d),C(r,g),C(g,a),C(a,m),C(t,i),N(),M=!0,b||(p=F(g,"click",H),b=!0)},p(S,T){e=S;const P={};T[0]&32&&(P.value=e[51]),T[0]&1056&&(P.edit=e[10]===e[52]),!o&&T[0]&160&&(o=!0,P.el=e[7][e[52]].input,ee(()=>o=!1)),l.$set(P),(!M||T[0]&800&&f!==(f="flex flex-none items-center justify-center p-2 cursor-pointer leading-snug transform transition-all "+(e[9]!==e[50]?"text-gray-200 hover:text-gray-500":"text-orange-500")+" "+(e[9]===e[50]&&e[8]==="des"?"-scale-y-[1]":"")))&&A(g,"class",f),T[0]&800&&D(g,"text-gray-200",e[9]!==e[50]),(!M||T[0]&800&&u!==(u=e[12](e[51],e[9],e[8])))&&A(t,"aria-sort",u),h!==e[52]&&(J(),h=e[52],N()),T[0]&1056&&D(t,"bg-orange-50",e[10]===e[52]),T[0]&1056&&D(t,"dark:bg-transparent",e[10]===e[52]),T[0]&32&&D(t,"rounded-tl-lg",e[50]===0),T[0]&32&&D(t,"rounded-tr-lg",e[50]===e[5].length-1)},i(S){M||(Y(l.$$.fragment,S),M=!0)},o(S){I(l.$$.fragment,S),M=!1},d(S){S&&R(t),W(l),J(),b=!1,p()}}}function ve(s,e){let t,r,l,o,d,g=e[52],a,m,f;function i(v){e[32](v,e[51],e[53],e[54])}function u(v){e[33](v,e[52])}let h={edit:e[3]===e[52]};e[51]!==void 0&&(h.value=e[51]),e[7][e[52]].input!==void 0&&(h.el=e[7][e[52]].input),l=new Be({props:h}),Z.push(()=>$(l,"value",i)),Z.push(()=>$(l,"el",u));const M=()=>e[34](t,g),b=()=>e[34](null,g);function p(){return e[35](e[52])}function L(){return e[36](e[52])}function w(...v){return e[37](e[50],e[54],e[52],...v)}return{key:s,first:null,c(){t=E("td"),r=E("div"),G(l.$$.fragment),A(r,"class","min-h-[2.3rem] h-full outline-none flex items-center"),D(r,"border-transparent",e[4]!==e[52]),A(t,"tabindex","0"),A(t,"class","outline-none focus-within:ring-1 ring-orange-500 ring-inset focus-within:bg-orange-50 dark:focus-within:bg-gray-800 group-last:first:rounded-bl-lg group-last:last:rounded-br-lg relative"),this.first=t},m(v,H){B(v,t,H),C(t,r),Q(l,r,null),M(),a=!0,m||(f=[F(t,"click",p),F(t,"dblclick",L),F(t,"keydown",w)],m=!0)},p(v,H){e=v;const N={};H[0]&72&&(N.edit=e[3]===e[52]),!o&&H[0]&64&&(o=!0,N.value=e[51],ee(()=>o=!1)),!d&&H[0]&192&&(d=!0,N.el=e[7][e[52]].input,ee(()=>d=!1)),l.$set(N),H[0]&80&&D(r,"border-transparent",e[4]!==e[52]),g!==e[52]&&(b(),g=e[52],M())},i(v){a||(Y(l.$$.fragment,v),a=!0)},o(v){I(l.$$.fragment,v),a=!1},d(v){v&&R(t),W(l),b(),m=!1,Ce(f)}}}function Le(s,e){let t,r=[],l=new Map,o,d,g=e[48];const a=m=>m[52];for(let m=0;m<g.length;m+=1){let f=ye(e,g,m),i=a(f);l.set(i,r[m]=ve(i,f))}return{key:s,first:null,c(){t=E("tr");for(let m=0;m<r.length;m+=1)r[m].c();o=j(),A(t,"class","group border-b dark:border-gray-700 last:border-none divide-x dark:divide-gray-700 space-x-4 odd:bg-gray-50 dark:odd:bg-gray-900 group focus:bg-gradient-to-b focus:from-blue-100 dark:focus:from-blue-900 focus:to-blue-50 dark:focus:to-gray-900 focus:odd:bg-white"),this.first=t},m(m,f){B(m,t,f);for(let i=0;i<r.length;i+=1)r[i].m(t,null);C(t,o),d=!0},p(m,f){e=m,f[0]&57560&&(g=e[48],ie(),r=ae(r,f,a,1,e,g,l,t,oe,ve,o,ye),ue())},i(m){if(!d){for(let f=0;f<g.length;f+=1)Y(r[f]);d=!0}},o(m){for(let f=0;f<r.length;f+=1)I(r[f]);d=!1},d(m){m&&R(t);for(let f=0;f<r.length;f+=1)r[f].d()}}}function ut(s){let e,t,r,l=[],o=new Map,d,g,a=[],m=new Map,f,i=s[5];const u=b=>b[52];for(let b=0;b<i.length;b+=1){let p=Ae(s,i,b),L=u(p);o.set(L,l[b]=De(L,p))}let h=s[6];const M=b=>b[48];for(let b=0;b<h.length;b+=1){let p=we(s,h,b),L=M(p);m.set(L,a[b]=Le(L,p))}return{c(){e=E("table"),t=E("thead"),r=E("tr");for(let b=0;b<l.length;b+=1)l[b].c();d=j(),g=E("tbody");for(let b=0;b<a.length;b+=1)a[b].c();A(r,"class","border-b dark:border-gray-700 divide-x dark:divide-gray-700 text-left"),A(t,"class","sticky top-0 left-0 right-0 bg-white shadow-sm z-10"),A(g,"class","overflow-y-scroll"),A(e,"class","table-auto font-mono w-full text-gray-900 text-sm transition-opacity overflow-hidden "),D(e,"opacity-40",s[11])},m(b,p){B(b,e,p),C(e,t),C(t,r);for(let L=0;L<l.length;L+=1)l[L].m(r,null);C(e,d),C(e,g);for(let L=0;L<a.length;L+=1)a[L].m(g,null);f=!0},p(b,p){p[0]&464800&&(i=b[5],ie(),l=ae(l,p,u,1,b,i,o,r,oe,De,null,Ae),ue()),p[0]&57560&&(h=b[6],ie(),a=ae(a,p,M,1,b,h,m,g,oe,Le,null,we),ue()),p[0]&2048&&D(e,"opacity-40",b[11])},i(b){if(!f){for(let p=0;p<i.length;p+=1)Y(l[p]);for(let p=0;p<h.length;p+=1)Y(a[p]);f=!0}},o(b){for(let p=0;p<l.length;p+=1)I(l[p]);for(let p=0;p<a.length;p+=1)I(a[p]);f=!1},d(b){b&&R(e);for(let p=0;p<l.length;p+=1)l[p].d();for(let p=0;p<a.length;p+=1)a[p].d()}}}function Me(s){let e,t,r=s[1][1]==="dynamic"&&Ee(s),l=s[0][1]==="dynamic"&&Te(s);return{c(){e=E("div"),r&&r.c(),t=j(),l&&l.c(),A(e,"class","flex justify-end space-x-1 pt-2 text-gray-800")},m(o,d){B(o,e,d),r&&r.m(e,null),C(e,t),l&&l.m(e,null)},p(o,d){o[1][1]==="dynamic"?r?r.p(o,d):(r=Ee(o),r.c(),r.m(e,t)):r&&(r.d(1),r=null),o[0][1]==="dynamic"?l?l.p(o,d):(l=Te(o),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},d(o){o&&R(e),r&&r.d(),l&&l.d()}}}function Ee(s){let e,t,r;return{c(){e=E("button"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="mr-1 group-hover:text-orange-500" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path fill="currentColor" d="M24.59 16.59L17 24.17V4h-2v20.17l-7.59-7.58L6 18l10 10l10-10l-1.41-1.41z"></path></svg>New row',A(e,"class","!flex-none gr-button group")},m(l,o){B(l,e,o),t||(r=F(e,"click",s[40]),t=!0)},p:x,d(l){l&&R(e),t=!1,r()}}}function Te(s){let e,t,r;return{c(){e=E("button"),e.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="mr-1 group-hover:text-orange-500" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path fill="currentColor" d="m18 6l-1.43 1.393L24.15 15H4v2h20.15l-7.58 7.573L18 26l10-10L18 6z"></path></svg>
				New column`,A(e,"class","!flex-none gr-button group")},m(l,o){B(l,e,o),t||(r=F(e,"click",s[20]),t=!0)},p:x,d(l){l&&R(e),t=!1,r()}}}function ft(s){let e,t,r,l,o,d,g,a;function m(u){s[38](u)}let f={flex:!1,center:!1,boundedheight:!1,click:!1,$$slots:{default:[ut]},$$scope:{ctx:s}};s[11]!==void 0&&(f.dragging=s[11]),t=new lt({props:f}),Z.push(()=>$(t,"dragging",m)),t.$on("load",s[39]);let i=s[2]&&Me(s);return{c(){e=E("div"),G(t.$$.fragment),l=j(),i&&i.c(),o=$e(),A(e,"class","scroll-hide whitespace-nowrap overflow-hidden rounded-lg relative border transition-colors overflow-x-scroll"),D(e,"border-green-400",s[11])},m(u,h){B(u,e,h),Q(t,e,null),B(u,l,h),i&&i.m(u,h),B(u,o,h),d=!0,g||(a=F(window,"click",s[21]),g=!0)},p(u,h){const M={};h[0]&4088|h[1]&33554432&&(M.$$scope={dirty:h,ctx:u}),!r&&h[0]&2048&&(r=!0,M.dragging=u[11],ee(()=>r=!1)),t.$set(M),h[0]&2048&&D(e,"border-green-400",u[11]),u[2]?i?i.p(u,h):(i=Me(u),i.c(),i.m(o.parentNode,o)):i&&(i.d(1),i=null)},i(u){d||(Y(t.$$.fragment,u),d=!0)},o(u){I(t.$$.fragment,u),d=!1},d(u){u&&R(e),W(t),u&&R(l),i&&i.d(u),u&&R(o),g=!1,a()}}}function ct(s,e){return e.filter(t);function t(r){var l=-1;return s.split(`
`).every(o);function o(d){if(!d)return!0;var g=d.split(r).length;return l<0&&(l=g),l===g&&g>1}}}function dt(s){const e=atob(s.split(",")[1]),t=s.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(e.length),l=new Uint8Array(r);for(let o=0;o<e.length;o++)l[o]=e.charCodeAt(o);return new Blob([r],{type:t})}function gt(s,e,t){let{headers:r=[]}=e,{values:l=[[]]}=e,{col_count:o}=e,{row_count:d}=e,{style:g=""}=e,{editable:a=!0}=e;const m=Se();let f=!1,i=!1,u={};function h(n){let c=n||[];if(o[1]==="fixed"&&c.length<o[0]){const _=Array(o[0]-c.length).fill("").map((k,y)=>`${y+c.length}`);c=c.concat(_)}return!c||c.length===0?Array(o[0]).fill(0).map((_,k)=>{const y=`h-${k}`;return t(7,u[y]={cell:null,input:null},u),{id:y,value:JSON.stringify(k+1)}}):c.map((_,k)=>{const y=`h-${k}`;return t(7,u[y]={cell:null,input:null},u),{id:y,value:_||""}})}function M(n){const c=n.length>0?n.length:d[0];return Array(d[1]==="fixed"||c<d[0]?d[0]:c).fill(0).map((_,k)=>Array(o[1]==="fixed"?o[0]:n[0].length).fill(0).map((y,O)=>{var K;const z=`${k}-${O}`;return t(7,u[z]={input:null,cell:null},u),{value:((K=n==null?void 0:n[k])==null?void 0:K[O])||"",id:z}}))}let b=h(r),p;async function L(){var n,c,_,k;typeof f=="string"?(await U(),(c=(n=u[f])==null?void 0:n.input)==null||c.focus()):typeof i=="string"&&(await U(),(k=(_=u[i])==null?void 0:_.input)==null||k.focus())}let w=[[]],v;function H(n,c,_){if(!c)return"none";if(r[c]===n){if(_==="asc")return"ascending";if(_==="des")return"descending"}}function N(n){return w.reduce((c,_,k)=>{const y=_.reduce((O,z,K)=>n===z.id?K:O,-1);return y===-1?c:[k,y]},[-1,-1])}async function J(n,c){if(!a||f===n)return;if(c){const[k,y]=N(n);t(6,w[k][y].value="",w)}t(3,f=n),await U();const{input:_}=u[n];_==null||_.focus()}async function S(n,c,_,k){var O;let y;switch(n.key){case"ArrowRight":if(f)break;n.preventDefault(),y=w[c][_+1],t(4,i=y?y.id:i);break;case"ArrowLeft":if(f)break;n.preventDefault(),y=w[c][_-1],t(4,i=y?y.id:i);break;case"ArrowDown":if(f)break;n.preventDefault(),y=w[c+1],t(4,i=y?y[_].id:i);break;case"ArrowUp":if(f)break;n.preventDefault(),y=w[c-1],t(4,i=y?y[_].id:i);break;case"Escape":if(!a)break;n.preventDefault(),t(4,i=f),t(3,f=!1);break;case"Enter":if(!a)break;if(n.preventDefault(),n.shiftKey){le(c),await U();const[We]=N(k);t(4,i=w[We+1][_].id)}else f===k?t(3,f=!1):J(k);break;case"Backspace":if(!a)break;f||(n.preventDefault(),t(6,w[c][_].value="",w));break;case"Delete":if(!a)break;f||(n.preventDefault(),t(6,w[c][_].value="",w));break;case"Tab":let z=n.shiftKey?-1:1,K=w[c][_+z],Qe=(O=w==null?void 0:w[c+z])==null?void 0:O[z>0?0:b.length-1],se=K||Qe;se&&(n.preventDefault(),t(4,i=se?se.id:i)),t(3,f=!1);break;default:(!f||f&&f!==k)&&n.key.length===1&&J(k,!0);break}}async function T(n){f!==n&&i!==n&&(t(3,f=!1),t(4,i=n))}async function P(n,c){var _,k;if(c==="edit"&&typeof n=="string"&&(await U(),(_=u[n].input)==null||_.focus()),c==="edit"&&typeof n=="boolean"&&typeof i=="string"){let y=(k=u[i])==null?void 0:k.cell;await U(),y==null||y.focus()}if(c==="select"&&typeof n=="string"){const{cell:y}=u[n];await U(),y==null||y.focus()}}let V,X;function Re(n,c){c==="asc"?t(6,w=w.sort((_,k)=>_[n].value<k[n].value?-1:1)):c==="des"&&t(6,w=w.sort((_,k)=>_[n].value>k[n].value?-1:1))}function ge(n){typeof X!="number"||X!==n?(t(8,V="asc"),t(9,X=n)):V==="asc"?t(8,V="des"):V==="des"&&t(8,V="asc"),Re(n,V)}let q;async function ne(n,c){var _,k;!a||o[1]!=="dynamic"||f===n||(t(10,q=n),await U(),(_=u[n].input)==null||_.focus(),c&&((k=u[n].input)==null||k.select()))}function qe(n){if(!!a)switch(n.key){case"Escape":n.preventDefault(),t(4,i=q),t(10,q=!1);break;case"Enter":n.preventDefault(),t(4,i=q),t(10,q=!1)}}function le(n){d[1]==="dynamic"&&(w.splice(n?n+1:w.length,0,Array(o[0]).fill(0).map((c,_)=>{const k=`${w.length}-${_}`;return t(7,u[k]={cell:null,input:null},u),{id:k,value:""}})),t(6,w),t(23,l),t(27,v))}async function Fe(){if(o[1]!=="dynamic")return;for(let c=0;c<w.length;c++){const _=`${c}-${w[c].length}`;t(7,u[_]={cell:null,input:null},u),w[c].push({id:_,value:""})}const n=`h-${b.length}`;t(7,u[n]={cell:null,input:null},u),b.push({id:n,value:`Header ${b.length+1}`}),t(6,w),t(23,l),t(27,v),t(5,b),t(24,r),t(26,p),await U(),ne(n,!0)}function He(n){var c,_;typeof f=="string"&&u[f]&&u[f].cell!==n.target&&!((c=u[f].cell)!=null&&c.contains(n==null?void 0:n.target))&&t(10,q=!1),typeof q=="string"&&u[q]&&u[q].cell!==n.target&&!((_=u[q].cell)!=null&&_.contains(n.target))&&t(10,q=!1)}function _e(n){const c=new FileReader;function _(k){var K;if(!((K=k==null?void 0:k.target)!=null&&K.result)||typeof k.target.result!="string")return;const[y]=ct(k.target.result,[",","	"]),[O,...z]=rt(y).parseRows(k.target.result);t(5,b=h(o[1]==="fixed"?O.slice(0,o[0]):O)),t(23,l=z),c.removeEventListener("loadend",_)}c.addEventListener("loadend",_),c.readAsText(n)}let re=!1;function Ne(n,c){s.$$.not_equal(u[c].input,n)&&(u[c].input=n,t(7,u))}const Oe=n=>ne(n),ze=n=>ge(n);function Ue(n,c){Z[n?"unshift":"push"](()=>{u[c].cell=n,t(7,u)})}function Ke(n,c,_,k){_[k].value=n,t(6,w),t(23,l),t(27,v)}function je(n,c){s.$$.not_equal(u[c].input,n)&&(u[c].input=n,t(7,u))}function Ye(n,c){Z[n?"unshift":"push"](()=>{u[c].cell=n,t(7,u)})}const Ie=n=>T(n),Je=n=>J(n),Pe=(n,c,_,k)=>S(k,n,c,_);function Ve(n){re=n,t(11,re)}const Ze=n=>_e(dt(n.detail.data)),Ge=()=>le();return s.$$set=n=>{"headers"in n&&t(24,r=n.headers),"values"in n&&t(23,l=n.values),"col_count"in n&&t(0,o=n.col_count),"row_count"in n&&t(1,d=n.row_count),"style"in n&&t(25,g=n.style),"editable"in n&&t(2,a=n.editable)},s.$$.update=()=>{s.$$.dirty[0]&83886080&&(te(r,p)||(t(5,b=h(r)),t(26,p=r),L())),s.$$.dirty[0]&142606336&&(te(l,v)||(t(6,w=M(l)),t(27,v=l),L())),s.$$.dirty[0]&96&&b&&m("change",w.map(n=>n.map(({value:c})=>c))),s.$$.dirty[0]&8&&P(f,"edit"),s.$$.dirty[0]&16&&P(i,"select")},[o,d,a,f,i,b,w,u,V,X,q,re,H,J,S,T,ge,ne,qe,le,Fe,He,_e,l,r,g,p,v,Ne,Oe,ze,Ue,Ke,je,Ye,Ie,Je,Pe,Ve,Ze,Ge]}class _t extends fe{constructor(e){super(),ce(this,e,gt,ft,de,{headers:24,values:23,col_count:0,row_count:1,style:25,editable:2},null,[-1,-1])}}function ht(s){let e,t,r,l,o;const d=[s[7]];let g={};for(let a=0;a<d.length;a+=1)g=et(g,d[a]);return t=new st({props:g}),l=new _t({props:{row_count:s[5],col_count:s[4],values:s[1],headers:s[0],style:s[2],editable:s[3]==="dynamic"}}),l.$on("change",s[8]),{c(){e=E("div"),G(t.$$.fragment),r=j(),G(l.$$.fragment),A(e,"class","relative overflow-hidden"),D(e,"flex-1",s[6]==="row"||!s[6])},m(a,m){B(a,e,m),Q(t,e,null),C(e,r),Q(l,e,null),o=!0},p(a,[m]){const f=m&128?tt(d,[nt(a[7])]):{};t.$set(f);const i={};m&32&&(i.row_count=a[5]),m&16&&(i.col_count=a[4]),m&2&&(i.values=a[1]),m&1&&(i.headers=a[0]),m&4&&(i.style=a[2]),m&8&&(i.editable=a[3]==="dynamic"),l.$set(i),m&64&&D(e,"flex-1",a[6]==="row"||!a[6])},i(a){o||(Y(t.$$.fragment,a),Y(l.$$.fragment,a),o=!0)},o(a){I(t.$$.fragment,a),I(l.$$.fragment,a),o=!1},d(a){a&&R(e),W(t),W(l)}}}function bt(s,e,t){let{headers:r=[]}=e,{value:l=[["","",""]]}=e,{style:o=""}=e,{mode:d}=e,{col_count:g}=e,{row_count:a}=e,{parent:m=null}=e;const f=Se();let{loading_status:i}=e;async function u({detail:h}){t(1,l=h),await U(),f("change",h)}return s.$$set=h=>{"headers"in h&&t(0,r=h.headers),"value"in h&&t(1,l=h.value),"style"in h&&t(2,o=h.style),"mode"in h&&t(3,d=h.mode),"col_count"in h&&t(4,g=h.col_count),"row_count"in h&&t(5,a=h.row_count),"parent"in h&&t(6,m=h.parent),"loading_status"in h&&t(7,i=h.loading_status)},s.$$.update=()=>{s.$$.dirty&3&&(Array.isArray(l)?(t(1,l),t(0,r)):(Array.isArray(l.headers)&&t(0,r=l.headers),t(1,l=l.data.length===0?[Array(r.length).fill("")]:l.data)))},[r,l,o,d,g,a,m,i,u]}class mt extends fe{constructor(e){super(),ce(this,e,bt,ht,de,{headers:0,value:1,style:2,mode:3,col_count:4,row_count:5,parent:6,loading_status:7})}}var At=mt;const Dt=["static","dynamic"];export{At as Component,Dt as modes};
