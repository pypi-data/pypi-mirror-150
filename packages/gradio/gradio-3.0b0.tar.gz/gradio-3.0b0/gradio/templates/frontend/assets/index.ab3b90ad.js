import{S as q,i as E,s as K,q as y,m as z,k as L,u as M,c as h,y as V,w as v,z as A,v as F,x as C,e as p,f as B,b as g,d as k,n as I,a as H,h as N,j as S,A as X,_ as O,C as Q,I as R,F as W,J as Y,X as Z,K as x,L as $,M as ee,E as J}from"./index.35088c78.js";import{B as T}from"./BlockLabel.adf1db0d.js";import{F as G}from"./File.853a8c1b.js";import{U as le}from"./Upload.01039b3e.js";import{M as te}from"./ModifyUpload.da312694.js";import{B as ae}from"./Block.8bbb0afe.js";import{n as ne}from"./utils.49185b04.js";import{S as oe}from"./StatusTracker.1a97f223.js";import"./styles.bc3c1b88.js";const D=o=>{let e=["B","KB","MB","GB","PB"],a=0;for(;o>1024;)o/=1024,a++;let l=e[a];return o.toFixed(1)+" "+l};function ie(o){let e,a,l,n;return l=new G({}),{c(){e=B("div"),a=B("div"),y(l.$$.fragment),g(a,"class","h-10 dark:text-white opacity-50"),g(e,"class","min-h-[16rem] flex justify-center items-center")},m(i,f){h(i,e,f),k(e,a),M(l,a,null),n=!0},p:I,i(i){n||(F(l.$$.fragment,i),n=!0)},o(i){v(l.$$.fragment,i),n=!1},d(i){i&&p(e),C(l)}}}function fe(o){let e,a,l,n,i,f=o[0].name+"",d,u,b,t=(isNaN(o[0].size||NaN)?"":D(o[0].size||0))+"",r,s,_;return{c(){e=B("a"),a=H("svg"),l=H("path"),n=z(),i=B("div"),d=N(f),u=z(),b=B("div"),r=N(t),g(l,"stroke-linecap","round"),g(l,"stroke-linejoin","round"),g(l,"stroke-width","2"),g(l,"d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"),g(a,"xmlns","http://www.w3.org/2000/svg"),g(a,"class","h-10 w-1/5"),g(a,"fill","none"),g(a,"viewBox","0 0 24 24"),g(a,"stroke","currentColor"),g(i,"class","file-name w-3/5 text-4xl p-6 break-all"),g(b,"class","text-2xl p-2"),g(e,"class","output-file w-full h-full flex flex-row flex-wrap justify-center items-center relative"),g(e,"href",s=o[0].data),g(e,"download",_=o[0].name)},m(w,c){h(w,e,c),k(e,a),k(a,l),k(e,n),k(e,i),k(i,d),k(e,u),k(e,b),k(b,r)},p(w,c){c&1&&f!==(f=w[0].name+"")&&S(d,f),c&1&&t!==(t=(isNaN(w[0].size||NaN)?"":D(w[0].size||0))+"")&&S(r,t),c&1&&s!==(s=w[0].data)&&g(e,"href",s),c&1&&_!==(_=w[0].name)&&g(e,"download",_)},i:I,o:I,d(w){w&&p(e)}}}function se(o){let e,a,l,n,i,f;e=new T({props:{show_label:o[2],Icon:G,label:o[1]||"File"}});const d=[fe,ie],u=[];function b(t,r){return t[0]?0:1}return l=b(o),n=u[l]=d[l](o),{c(){y(e.$$.fragment),a=z(),n.c(),i=L()},m(t,r){M(e,t,r),h(t,a,r),u[l].m(t,r),h(t,i,r),f=!0},p(t,[r]){const s={};r&4&&(s.show_label=t[2]),r&2&&(s.label=t[1]||"File"),e.$set(s);let _=l;l=b(t),l===_?u[l].p(t,r):(V(),v(u[_],1,1,()=>{u[_]=null}),A(),n=u[l],n?n.p(t,r):(n=u[l]=d[l](t),n.c()),F(n,1),n.m(i.parentNode,i))},i(t){f||(F(e.$$.fragment,t),F(n),f=!0)},o(t){v(e.$$.fragment,t),v(n),f=!1},d(t){C(e,t),t&&p(a),u[l].d(t),t&&p(i)}}}function re(o,e,a){let{value:l}=e,{label:n}=e,{show_label:i}=e;return o.$$set=f=>{"value"in f&&a(0,l=f.value),"label"in f&&a(1,n=f.label),"show_label"in f&&a(2,i=f.show_label)},[l,n,i]}class ue extends q{constructor(e){super(),E(this,e,re,se,K,{value:0,label:1,show_label:2})}}function _e(o){let e,a,l,n,i=P(o[0].name)+"",f,d,u,b=D(o[0].size||0)+"",t,r,s,_,w,c,j;return a=new te({props:{absolute:!0}}),a.$on("clear",o[8]),{c(){e=B("div"),y(a.$$.fragment),l=z(),n=B("div"),f=N(i),d=z(),u=B("div"),t=N(b),r=z(),s=B("div"),_=B("a"),w=N("Download"),g(n,"class","file-name p-2"),g(u,"class","file-size p-2"),g(_,"href",c=o[0].data),g(_,"download",""),g(_,"class","text-indigo-600 hover:underline"),g(s,"class","file-size p-2 hover:underline"),g(e,"class","file-preview w-full flex flex-row justify-between overflow-y-auto mt-7")},m(m,U){h(m,e,U),M(a,e,null),k(e,l),k(e,n),k(n,f),k(e,d),k(e,u),k(u,t),k(e,r),k(e,s),k(s,_),k(_,w),j=!0},p(m,U){(!j||U&1)&&i!==(i=P(m[0].name)+"")&&S(f,i),(!j||U&1)&&b!==(b=D(m[0].size||0)+"")&&S(t,b),(!j||U&1&&c!==(c=m[0].data))&&g(_,"href",c)},i(m){j||(F(a.$$.fragment,m),j=!0)},o(m){v(a.$$.fragment,m),j=!1},d(m){m&&p(e),C(a)}}}function ce(o){let e,a,l;function n(f){o[10](f)}let i={filetype:"file",$$slots:{default:[me]},$$scope:{ctx:o}};return o[6]!==void 0&&(i.dragging=o[6]),e=new le({props:i}),Q.push(()=>R(e,"dragging",n)),e.$on("load",o[7]),{c(){y(e.$$.fragment)},m(f,d){M(e,f,d),l=!0},p(f,d){const u={};d&4110&&(u.$$scope={dirty:d,ctx:f}),!a&&d&64&&(a=!0,u.dragging=f[6],W(()=>a=!1)),e.$set(u)},i(f){l||(F(e.$$.fragment,f),l=!0)},o(f){v(e.$$.fragment,f),l=!1},d(f){C(e,f)}}}function me(o){let e,a,l,n,i,f,d,u,b;return{c(){e=N(o[1]),a=z(),l=B("br"),n=N("- "),i=N(o[2]),f=N(" -"),d=B("br"),u=z(),b=N(o[3])},m(t,r){h(t,e,r),h(t,a,r),h(t,l,r),h(t,n,r),h(t,i,r),h(t,f,r),h(t,d,r),h(t,u,r),h(t,b,r)},p(t,r){r&2&&S(e,t[1]),r&4&&S(i,t[2]),r&8&&S(b,t[3])},d(t){t&&p(e),t&&p(a),t&&p(l),t&&p(n),t&&p(i),t&&p(f),t&&p(d),t&&p(u),t&&p(b)}}}function de(o){let e,a,l,n,i,f;e=new T({props:{show_label:o[5],Icon:G,label:o[4]||"File"}});const d=[ce,_e],u=[];function b(t,r){return t[0]===null?0:1}return l=b(o),n=u[l]=d[l](o),{c(){y(e.$$.fragment),a=z(),n.c(),i=L()},m(t,r){M(e,t,r),h(t,a,r),u[l].m(t,r),h(t,i,r),f=!0},p(t,[r]){const s={};r&32&&(s.show_label=t[5]),r&16&&(s.label=t[4]||"File"),e.$set(s);let _=l;l=b(t),l===_?u[l].p(t,r):(V(),v(u[_],1,1,()=>{u[_]=null}),A(),n=u[l],n?n.p(t,r):(n=u[l]=d[l](t),n.c()),F(n,1),n.m(i.parentNode,i))},i(t){f||(F(e.$$.fragment,t),F(n),f=!0)},o(t){v(e.$$.fragment,t),v(n),f=!1},d(t){C(e,t),t&&p(a),u[l].d(t),t&&p(i)}}}function P(o){return o.length>30?`${o.substr(0,30)}...`:o}function be(o,e,a){let{value:l}=e,{drop_text:n="Drop a file"}=e,{or_text:i="or"}=e,{upload_text:f="click to upload"}=e,{label:d=""}=e,{style:u}=e,{show_label:b}=e;async function t({detail:c}){a(0,l=c),await O(),s("change",l)}function r({detail:c}){a(0,l=null),s("change",l),s("clear")}const s=X();let _=!1;function w(c){_=c,a(6,_)}return o.$$set=c=>{"value"in c&&a(0,l=c.value),"drop_text"in c&&a(1,n=c.drop_text),"or_text"in c&&a(2,i=c.or_text),"upload_text"in c&&a(3,f=c.upload_text),"label"in c&&a(4,d=c.label),"style"in c&&a(9,u=c.style),"show_label"in c&&a(5,b=c.show_label)},o.$$.update=()=>{o.$$.dirty&64&&s("drag",_)},[l,n,i,f,d,b,_,t,r,u,w]}class ge extends q{constructor(e){super(),E(this,e,be,de,K,{value:0,drop_text:1,or_text:2,upload_text:3,label:4,style:9,show_label:5})}}function ke(o){let e,a;return e=new ue({props:{value:o[6],label:o[3],show_label:o[4]}}),{c(){y(e.$$.fragment)},m(l,n){M(e,l,n),a=!0},p(l,n){const i={};n&64&&(i.value=l[6]),n&8&&(i.label=l[3]),n&16&&(i.show_label=l[4]),e.$set(i)},i(l){a||(F(e.$$.fragment,l),a=!0)},o(l){v(e.$$.fragment,l),a=!1},d(l){C(e,l)}}}function we(o){let e,a;return e=new ge({props:{label:o[3],show_label:o[4],value:o[6],drop_text:o[8]("interface.drop_file"),or_text:o[8]("or"),upload_text:o[8]("interface.click_to_upload")}}),e.$on("change",o[10]),e.$on("drag",o[11]),e.$on("change",o[12]),e.$on("clear",o[13]),{c(){y(e.$$.fragment)},m(l,n){M(e,l,n),a=!0},p(l,n){const i={};n&8&&(i.label=l[3]),n&16&&(i.show_label=l[4]),n&64&&(i.value=l[6]),n&256&&(i.drop_text=l[8]("interface.drop_file")),n&256&&(i.or_text=l[8]("or")),n&256&&(i.upload_text=l[8]("interface.click_to_upload")),e.$set(i)},i(l){a||(F(e.$$.fragment,l),a=!0)},o(l){v(e.$$.fragment,l),a=!1},d(l){C(e,l)}}}function he(o){let e,a,l,n,i,f;const d=[o[5]];let u={};for(let s=0;s<d.length;s+=1)u=x(u,d[s]);e=new oe({props:u});const b=[we,ke],t=[];function r(s,_){return s[2]==="dynamic"?0:1}return l=r(o),n=t[l]=b[l](o),{c(){y(e.$$.fragment),a=z(),n.c(),i=L()},m(s,_){M(e,s,_),h(s,a,_),t[l].m(s,_),h(s,i,_),f=!0},p(s,_){const w=_&32?$(d,[ee(s[5])]):{};e.$set(w);let c=l;l=r(s),l===c?t[l].p(s,_):(V(),v(t[c],1,1,()=>{t[c]=null}),A(),n=t[l],n?n.p(s,_):(n=t[l]=b[l](s),n.c()),F(n,1),n.m(i.parentNode,i))},i(s){f||(F(e.$$.fragment,s),F(n),f=!0)},o(s){v(e.$$.fragment,s),v(n),f=!1},d(s){C(e,s),s&&p(a),t[l].d(s),s&&p(i)}}}function pe(o){let e,a;return e=new ae({props:{variant:o[2]==="dynamic"&&o[0]===null?"dashed":"solid",color:o[7]?"green":"grey",padding:!1,elem_id:o[1],$$slots:{default:[he]},$$scope:{ctx:o}}}),{c(){y(e.$$.fragment)},m(l,n){M(e,l,n),a=!0},p(l,[n]){const i={};n&5&&(i.variant=l[2]==="dynamic"&&l[0]===null?"dashed":"solid"),n&128&&(i.color=l[7]?"green":"grey"),n&2&&(i.elem_id=l[1]),n&16893&&(i.$$scope={dirty:n,ctx:l}),e.$set(i)},i(l){a||(F(e.$$.fragment,l),a=!0)},o(l){v(e.$$.fragment,l),a=!1},d(l){C(e,l)}}}function ve(o,e,a){let l;Y(o,Z,m=>a(8,l=m));let{elem_id:n=""}=e,{value:i=null}=e,{mode:f}=e,{root:d}=e,{label:u}=e,{show_label:b}=e,{loading_status:t}=e,r,s=!1;const _=({detail:m})=>a(0,i=m),w=({detail:m})=>a(7,s=m);function c(m){J.call(this,o,m)}function j(m){J.call(this,o,m)}return o.$$set=m=>{"elem_id"in m&&a(1,n=m.elem_id),"value"in m&&a(0,i=m.value),"mode"in m&&a(2,f=m.mode),"root"in m&&a(9,d=m.root),"label"in m&&a(3,u=m.label),"show_label"in m&&a(4,b=m.show_label),"loading_status"in m&&a(5,t=m.loading_status)},o.$$.update=()=>{o.$$.dirty&513&&a(6,r=ne(i,d))},[i,n,f,u,b,t,r,s,l,d,_,w,c,j]}class Fe extends q{constructor(e){super(),E(this,e,ve,pe,K,{elem_id:1,value:0,mode:2,root:9,label:3,show_label:4,loading_status:5})}}var De=Fe;const Ie=["static","dynamic"];export{De as Component,Ie as modes};
