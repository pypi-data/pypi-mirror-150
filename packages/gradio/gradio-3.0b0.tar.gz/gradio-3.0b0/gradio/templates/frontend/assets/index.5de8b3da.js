import{S as P,i as Q,s as V,a as A,b as a,c as k,d as b,n as D,e as w,q as I,u as M,v as y,w as B,x as R,K as te,m as C,k as ne,L as re,M as se,y as W,z as X,_ as oe,C as T,f as v,G as L,l as E,o as Y,r as ie}from"./index.35088c78.js";import{B as ae}from"./Block.8bbb0afe.js";import{B as ce}from"./BlockLabel.adf1db0d.js";import{M as fe}from"./ModifyUpload.da312694.js";import{S as ue}from"./StatusTracker.1a97f223.js";import"./styles.bc3c1b88.js";function _e(n){let e,l,t,o;return{c(){e=A("svg"),l=A("rect"),t=A("circle"),o=A("polyline"),a(l,"x","3"),a(l,"y","3"),a(l,"width","18"),a(l,"height","18"),a(l,"rx","2"),a(l,"ry","2"),a(t,"cx","8.5"),a(t,"cy","8.5"),a(t,"r","1.5"),a(o,"points","21 15 16 10 5 21"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"width","1em"),a(e,"height","1em"),a(e,"viewBox","0 0 24 24"),a(e,"fill","none"),a(e,"stroke","currentColor"),a(e,"stroke-width","1.5"),a(e,"stroke-linecap","round"),a(e,"stroke-linejoin","round"),a(e,"class","feather feather-image")},m(r,u){k(r,e,u),b(e,l),b(e,t),b(e,o)},p:D,i:D,o:D,d(r){r&&w(e)}}}class Z extends P{constructor(e){super(),Q(this,e,null,_e,V,{})}}function K(n,e,l){const t=n.slice();return t[18]=e[l],t[20]=l,t}function U(n,e,l){const t=n.slice();return t[18]=e[l],t[21]=e,t[20]=l,t}function me(n){let e,l,t,o,r=n[5]!==null&&F(n),u=n[4],m=[];for(let s=0;s<u.length;s+=1)m[s]=O(K(n,u,s));let c=null;return u.length||(c=J()),{c(){r&&r.c(),e=C(),l=v("div"),t=v("div");for(let s=0;s<m.length;s+=1)m[s].c();c&&c.c(),a(t,"class","pt-6 grid grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2 svelte-9r19iu"),a(l,"class","overflow-y-auto h-full p-2 min-h-[350px] xl:min-h-[450px] max-h-[55vh] svelte-9r19iu")},m(s,g){r&&r.m(s,g),k(s,e,g),k(s,l,g),b(l,t);for(let p=0;p<m.length;p+=1)m[p].m(t,null);c&&c.m(t,null),o=!0},p(s,g){if(s[5]!==null?r?(r.p(s,g),g&32&&y(r,1)):(r=F(s),r.c(),y(r,1),r.m(e.parentNode,e)):r&&(W(),B(r,1,1,()=>{r=null}),X()),g&48){u=s[4];let p;for(p=0;p<u.length;p+=1){const f=K(s,u,p);m[p]?m[p].p(f,g):(m[p]=O(f),m[p].c(),m[p].m(t,null))}for(;p<m.length;p+=1)m[p].d(1);m.length=u.length,!u.length&&c?c.p(s,g):u.length?c&&(c.d(1),c=null):(c=J(),c.c(),c.m(t,null))}},i(s){o||(y(r),o=!0)},o(s){B(r),o=!1},d(s){r&&r.d(s),s&&w(e),s&&w(l),Y(m,s),c&&c.d()}}}function ge(n){let e,l,t;return l=new Z({}),{c(){e=v("div"),I(l.$$.fragment),a(e,"class","min-h-[16rem] flex justify-center items-center svelte-9r19iu")},m(o,r){k(o,e,r),M(l,e,null),t=!0},p:D,i(o){t||(y(l.$$.fragment,o),t=!0)},o(o){B(l.$$.fragment,o),t=!1},d(o){o&&w(e),R(l)}}}function F(n){let e,l,t,o,r,u,m,c,s,g;l=new fe({}),l.$on("clear",n[10]);let p=n[4],f=[];for(let _=0;_<p.length;_+=1)f[_]=H(U(n,p,_));return{c(){e=v("div"),I(l.$$.fragment),t=C(),o=v("img"),u=C(),m=v("div");for(let _=0;_<f.length;_+=1)f[_].c();a(o,"class","w-full object-contain h-[calc(100%-50px)] svelte-9r19iu"),L(o.src,r=n[4][n[5]])||a(o,"src",r),a(o,"alt",""),a(m,"class","absolute h-[50px] bg-white overflow-x-scroll scroll-hide w-full bottom-0 flex gap-1.5 items-center py-2 text-sm px-3 svelte-9r19iu"),a(e,"class","absolute inset-0 z-10 flex flex-col bg-white/90 dark:bg-gray-900 backdrop-blur min-h-[350px] xl:min-h-[450px] max-h-[55vh] svelte-9r19iu")},m(_,i){k(_,e,i),M(l,e,null),b(e,t),b(e,o),b(e,u),b(e,m);for(let h=0;h<f.length;h+=1)f[h].m(m,null);n[14](m),c=!0,s||(g=[E(o,"click",n[11]),E(e,"keydown",n[9])],s=!0)},p(_,i){if((!c||i&48&&!L(o.src,r=_[4][_[5]]))&&a(o,"src",r),i&112){p=_[4];let h;for(h=0;h<p.length;h+=1){const j=U(_,p,h);f[h]?f[h].p(j,i):(f[h]=H(j),f[h].c(),f[h].m(m,null))}for(;h<f.length;h+=1)f[h].d(1);f.length=p.length}},i(_){c||(y(l.$$.fragment,_),c=!0)},o(_){B(l.$$.fragment,_),c=!1},d(_){_&&w(e),R(l),Y(f,_),n[14](null),s=!1,ie(g)}}}function H(n){let e,l,t,o,r,u=n[20],m,c;const s=()=>n[12](e,u),g=()=>n[12](null,u);function p(){return n[13](n[20])}return{c(){e=v("button"),l=v("img"),o=C(),a(l,"alt",""),a(l,"class","h-full w-full overflow-hidden object-contain svelte-9r19iu"),L(l.src,t=n[18])||a(l,"src",t),a(e,"class",r="gallery-item !flex-none !h-7 !w-7 transition-all duration-75 "+(n[5]===n[20]?"!ring-2 !ring-orange-500 hover:!ring-orange-500":"scale-90 transform")+" svelte-9r19iu")},m(f,_){k(f,e,_),b(e,l),b(e,o),s(),m||(c=E(e,"click",p),m=!0)},p(f,_){n=f,_&16&&!L(l.src,t=n[18])&&a(l,"src",t),_&32&&r!==(r="gallery-item !flex-none !h-7 !w-7 transition-all duration-75 "+(n[5]===n[20]?"!ring-2 !ring-orange-500 hover:!ring-orange-500":"scale-90 transform")+" svelte-9r19iu")&&a(e,"class",r),u!==n[20]&&(g(),u=n[20],s())},d(f){f&&w(e),g(),m=!1,c()}}}function J(n){let e;return{c(){e=v("p"),e.textContent="Empty",a(e,"class","svelte-9r19iu")},m(l,t){k(l,e,t)},p:D,d(l){l&&w(e)}}}function O(n){let e,l,t,o,r,u;function m(){return n[15](n[20])}return{c(){e=v("button"),l=v("img"),o=C(),a(l,"alt",""),a(l,"class","h-full w-full overflow-hidden object-contain svelte-9r19iu"),L(l.src,t=n[18])||a(l,"src",t),a(e,"class","gallery-item svelte-9r19iu")},m(c,s){k(c,e,s),b(e,l),b(e,o),r||(u=E(e,"click",m),r=!0)},p(c,s){n=c,s&16&&!L(l.src,t=n[18])&&a(l,"src",t)},d(c){c&&w(e),r=!1,u()}}}function he(n){let e,l,t,o,r,u,m,c;const s=[n[0]];let g={};for(let i=0;i<s.length;i+=1)g=te(g,s[i]);e=new ue({props:g}),t=new ce({props:{show_label:n[1],Icon:Z,label:n[2]||"Gallery"}});const p=[ge,me],f=[];function _(i,h){return i[4]===null?0:1}return r=_(n),u=f[r]=p[r](n),{c(){I(e.$$.fragment),l=C(),I(t.$$.fragment),o=C(),u.c(),m=ne()},m(i,h){M(e,i,h),k(i,l,h),M(t,i,h),k(i,o,h),f[r].m(i,h),k(i,m,h),c=!0},p(i,h){const j=h&1?re(s,[se(i[0])]):{};e.$set(j);const S={};h&2&&(S.show_label=i[1]),h&4&&(S.label=i[2]||"Gallery"),t.$set(S);let q=r;r=_(i),r===q?f[r].p(i,h):(W(),B(f[q],1,1,()=>{f[q]=null}),X(),u=f[r],u?u.p(i,h):(u=f[r]=p[r](i),u.c()),y(u,1),u.m(m.parentNode,m))},i(i){c||(y(e.$$.fragment,i),y(t.$$.fragment,i),y(u),c=!0)},o(i){B(e.$$.fragment,i),B(t.$$.fragment,i),B(u),c=!1},d(i){R(e,i),i&&w(l),R(t,i),i&&w(o),f[r].d(i),i&&w(m)}}}function de(n){let e,l;return e=new ae({props:{variant:"solid",color:"grey",padding:!1,elem_id:n[3],$$slots:{default:[he]},$$scope:{ctx:n}}}),{c(){I(e.$$.fragment)},m(t,o){M(e,t,o),l=!0},p(t,[o]){const r={};o&8&&(r.elem_id=t[3]),o&4194807&&(r.$$scope={dirty:o,ctx:t}),e.$set(r)},i(t){l||(y(e.$$.fragment,t),l=!0)},o(t){B(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function pe(n,e,l){let t,o,{loading_status:r}=e,{show_label:u}=e,{label:m}=e,{elem_id:c=""}=e,{value:s=null}=e,g=null;function p(d){switch(d.code){case"Escape":d.preventDefault(),l(5,g=null);break;case"ArrowLeft":d.preventDefault(),l(5,g=t);break;case"ArrowRight":d.preventDefault(),l(5,g=o);break}}let f=[],_;async function i(d){if(typeof d!="number")return;await oe(),f[d].focus();const{left:G,width:z}=_.getBoundingClientRect(),{left:ee,width:le}=f[d].getBoundingClientRect(),N=ee-G+le/2-z/2+_.scrollLeft;_.scrollTo({left:N<0?0:N,behavior:"smooth"})}const h=()=>l(5,g=null),j=()=>l(5,g=o);function S(d,G){T[d?"unshift":"push"](()=>{f[G]=d,l(6,f)})}const q=d=>l(5,g=d);function x(d){T[d?"unshift":"push"](()=>{_=d,l(7,_)})}const $=d=>l(5,g=d);return n.$$set=d=>{"loading_status"in d&&l(0,r=d.loading_status),"show_label"in d&&l(1,u=d.show_label),"label"in d&&l(2,m=d.label),"elem_id"in d&&l(3,c=d.elem_id),"value"in d&&l(4,s=d.value)},n.$$.update=()=>{var d,G,z;n.$$.dirty&48&&(t=((g!=null?g:0)+((d=s==null?void 0:s.length)!=null?d:0)-1)%((G=s==null?void 0:s.length)!=null?G:0)),n.$$.dirty&48&&l(8,o=((g!=null?g:0)+1)%((z=s==null?void 0:s.length)!=null?z:0)),n.$$.dirty&32&&i(g)},[r,u,m,c,s,g,f,_,o,p,h,j,S,q,x,$]}class be extends P{constructor(e){super(),Q(this,e,pe,de,V,{loading_status:0,show_label:1,label:2,elem_id:3,value:4})}}var Ge=be;const Le=["static"];export{Ge as Component,Le as modes};
