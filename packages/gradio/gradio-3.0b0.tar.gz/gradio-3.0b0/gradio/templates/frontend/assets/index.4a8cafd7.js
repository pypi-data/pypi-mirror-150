import{S as U,i as V,s as W,k as te,c as m,n as M,e as d,a4 as R,f as h,b as _,Y as j,h as H,m as w,d as p,j as S,o as L,l as B,r as ne,t as N,q as C,u as O,v as y,w as T,x as q,A as oe,K as se,L as re,M as ae,y as ie,z as fe}from"./index.35088c78.js";import{g as ue}from"./color.b0ede32d.js";import{B as ce}from"./Block.8bbb0afe.js";import{B as _e}from"./BlockTitle.4e24ec96.js";import{S as me}from"./StatusTracker.1a97f223.js";import"./styles.bc3c1b88.js";function z(r,e,n){const l=r.slice();return l[15]=e[n][0],l[22]=e[n][1],l}function A(r,e,n){const l=r.slice();return l[15]=e[n][0],l[16]=e[n][1],l}function I(r,e,n){const l=r.slice();return l[16]=e[n][0],l[19]=e[n][1],l[21]=n,l}function de(r){let e,n,l=r[1]&&K(),o=r[0],a=[];for(let t=0;t<o.length;t+=1)a[t]=Y(z(r,o,t));return{c(){l&&l.c(),e=w(),n=h("div");for(let t=0;t<a.length;t+=1)a[t].c();_(n,"class","textfield p-2 bg-white dark:bg-gray-800 rounded box-border max-w-full break-word svelte-138gm84")},m(t,i){l&&l.m(t,i),m(t,e,i),m(t,n,i);for(let s=0;s<a.length;s+=1)a[s].m(n,null)},p(t,i){if(t[1]?l||(l=K(),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),i&1){o=t[0];let s;for(s=0;s<o.length;s+=1){const f=z(t,o,s);a[s]?a[s].p(f,i):(a[s]=Y(f),a[s].c(),a[s].m(n,null))}for(;s<a.length;s+=1)a[s].d(1);a.length=o.length}},d(t){l&&l.d(t),t&&d(e),t&&d(n),L(a,t)}}}function ge(r){let e,n,l=r[1]&&F(r),o=r[0],a=[];for(let t=0;t<o.length;t+=1)a[t]=P(A(r,o,t));return{c(){l&&l.c(),e=w(),n=h("div");for(let t=0;t<a.length;t+=1)a[t].c();_(n,"class","textfield bg-white dark:bg-transparent rounded-sm text-sm box-border max-w-full break-word leading-7 svelte-138gm84")},m(t,i){l&&l.m(t,i),m(t,e,i),m(t,n,i);for(let s=0;s<a.length;s+=1)a[s].m(n,null)},p(t,i){if(t[1]?l?l.p(t,i):(l=F(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),i&15){o=t[0];let s;for(s=0;s<o.length;s+=1){const f=A(t,o,s);a[s]?a[s].p(f,i):(a[s]=P(f),a[s].c(),a[s].m(n,null))}for(;s<a.length;s+=1)a[s].d(1);a.length=o.length}},d(t){l&&l.d(t),t&&d(e),t&&d(n),L(a,t)}}}function K(r){let e;return{c(){e=h("div"),e.innerHTML=`<span class="svelte-138gm84">-1</span> 
			<span class="svelte-138gm84">0</span> 
			<span class="svelte-138gm84">+1</span>`,_(e,"class","color_legend flex px-2 py-1 justify-between rounded mb-3 font-semibold svelte-138gm84"),j(e,"background","-webkit-linear-gradient(to right,#8d83d6,(255,255,255,0),#eb4d4b)"),j(e,"background","linear-gradient(to right,#8d83d6,rgba(255,255,255,0),#eb4d4b)")},m(n,l){m(n,e,l)},d(n){n&&d(e)}}}function Y(r){let e,n,l=r[15]+"",o,a,t;return{c(){e=h("span"),n=h("span"),o=H(l),a=w(),_(n,"class","text dark:text-white svelte-138gm84"),_(e,"class","textspan p-1 mr-0.5 bg-opacity-20 dark:bg-opacity-80 rounded-sm svelte-138gm84"),_(e,"style",t="background-color: rgba("+(r[22]<0?"141, 131, 214,"+-r[22]:"235, 77, 75,"+r[22])+")")},m(i,s){m(i,e,s),p(e,n),p(n,o),p(e,a)},p(i,s){s&1&&l!==(l=i[15]+"")&&S(o,l),s&1&&t!==(t="background-color: rgba("+(i[22]<0?"141, 131, 214,"+-i[22]:"235, 77, 75,"+i[22])+")")&&_(e,"style",t)},d(i){i&&d(e)}}}function F(r){let e,n=Object.entries(r[2]),l=[];for(let o=0;o<n.length;o+=1)l[o]=G(I(r,n,o));return{c(){e=h("div");for(let o=0;o<l.length;o+=1)l[o].c();_(e,"class","category-legend flex flex-wrap gap-1 mb-2 text-black svelte-138gm84")},m(o,a){m(o,e,a);for(let t=0;t<l.length;t+=1)l[t].m(e,null)},p(o,a){if(a&100){n=Object.entries(o[2]);let t;for(t=0;t<n.length;t+=1){const i=I(o,n,t);l[t]?l[t].p(i,a):(l[t]=G(i),l[t].c(),l[t].m(e,null))}for(;t<l.length;t+=1)l[t].d(1);l.length=n.length}},d(o){o&&d(e),L(l,o)}}}function G(r){let e,n=r[16]+"",l,o,a,t,i;function s(){return r[8](r[16])}function f(){return r[9](r[16])}return{c(){e=h("div"),l=H(n),o=w(),_(e,"class","category-label px-2 rounded-sm font-semibold cursor-pointer svelte-138gm84"),_(e,"style",a="background-color:"+r[19].secondary)},m(u,g){m(u,e,g),p(e,l),p(e,o),t||(i=[B(e,"mouseover",s),B(e,"focus",f),B(e,"mouseout",r[10]),B(e,"blur",r[11])],t=!0)},p(u,g){r=u,g&4&&n!==(n=r[16]+"")&&S(l,n),g&4&&a!==(a="background-color:"+r[19].secondary)&&_(e,"style",a)},d(u){u&&d(e),t=!1,ne(i)}}}function J(r){let e,n=r[16]+"",l;return{c(){e=h("span"),l=H(n),_(e,"class","label mr-[-4px] font-bold uppercase text-xs inline-category text-white rounded-sm px-[0.325rem] mt-[0.05rem] py-[0.05rem] transition-colors svelte-138gm84"),j(e,"background-color",r[16]===null||r[3]&&r[3]!==r[16]?"":r[2][r[16]].primary,!1)},m(o,a){m(o,e,a),p(e,l)},p(o,a){a&1&&n!==(n=o[16]+"")&&S(l,n),a&13&&j(e,"background-color",o[16]===null||o[3]&&o[3]!==o[16]?"":o[2][o[16]].primary,!1)},d(o){o&&d(e)}}}function P(r){let e,n,l=r[15]+"",o,a,t,i=!r[1]&&r[16]!==null&&J(r);return{c(){e=h("span"),n=h("span"),o=H(l),a=w(),i&&i.c(),t=w(),_(n,"class","text  svelte-138gm84"),_(e,"class","textspan rounded-sm px-1 transition-colors text-black pb-[0.225rem] pt-[0.15rem] svelte-138gm84"),N(e,"dark:text-white",r[16]===null||r[3]&&r[3]!==r[16]),N(e,"hl",r[16]!==null),j(e,"background-color",r[16]===null||r[3]&&r[3]!==r[16]?"":r[2][r[16]].secondary,!1)},m(s,f){m(s,e,f),p(e,n),p(n,o),p(e,a),i&&i.m(e,null),p(e,t)},p(s,f){f&1&&l!==(l=s[15]+"")&&S(o,l),!s[1]&&s[16]!==null?i?i.p(s,f):(i=J(s),i.c(),i.m(e,t)):i&&(i.d(1),i=null),f&9&&N(e,"dark:text-white",s[16]===null||s[3]&&s[3]!==s[16]),f&1&&N(e,"hl",s[16]!==null),f&13&&j(e,"background-color",s[16]===null||s[3]&&s[3]!==s[16]?"":s[2][s[16]].secondary,!1)},d(s){s&&d(e),i&&i.d()}}}function be(r){let e;function n(a,t){return a[4]==="categories"?ge:de}let l=n(r),o=l(r);return{c(){o.c(),e=te()},m(a,t){o.m(a,t),m(a,e,t)},p(a,[t]){l===(l=n(a))&&o?o.p(a,t):(o.d(1),o=l(a),o&&(o.c(),o.m(e.parentNode,e)))},i:M,o:M,d(a){o.d(a),a&&d(e)}}}function pe(r,e,n){const l=typeof document!="undefined";let{value:o=[]}=e,{show_legend:a=!1}=e,{color_map:t={}}=e,i,s={},f="";function u(c,b){if(!i){var k=document.createElement("canvas");i=k.getContext("2d")}i.fillStyle=c,i.fillRect(0,0,1,1);const[E,ee,le]=i.getImageData(0,0,1,1).data;return i.clearRect(0,0,1,1),`rgba(${E}, ${ee}, ${le}, ${255/b})`}let g;t===null&&(t={});function v(c){n(3,f=c)}function D(){n(3,f="")}const X=c=>v(c),Z=c=>v(c),$=()=>D(),x=()=>D();return r.$$set=c=>{"value"in c&&n(0,o=c.value),"show_legend"in c&&n(1,a=c.show_legend),"color_map"in c&&n(7,t=c.color_map)},r.$$.update=()=>{if(r.$$.dirty&129){let c=function(){for(const b in t){const k=t[b].trim();k in R?n(2,s[b]=R[k],s):n(2,s[b]={primary:l?u(t[b],1):t[b],secondary:l?u(t[b],.5):t[b]},s)}};if(o.length>0){for(let[b,k]of o)if(k!==null)if(typeof k=="string"){if(n(4,g="categories"),!(k in t)){let E=ue(Object.keys(t).length);n(7,t[k]=E,t)}}else n(4,g="scores")}c()}},[o,a,s,f,g,v,D,t,X,Z,$,x]}class he extends U{constructor(e){super(),V(this,e,pe,be,W,{value:0,show_legend:1,color_map:7})}}function Q(r){let e,n;return e=new _e({props:{$$slots:{default:[ke]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(l,o){O(e,l,o),n=!0},p(l,o){const a={};o&144&&(a.$$scope={dirty:o,ctx:l}),e.$set(a)},i(l){n||(y(e.$$.fragment,l),n=!0)},o(l){T(e.$$.fragment,l),n=!1},d(l){q(e,l)}}}function ke(r){let e;return{c(){e=H(r[4])},m(n,l){m(n,e,l)},p(n,l){l&16&&S(e,n[4])},d(n){n&&d(e)}}}function ve(r){let e,n,l,o,a;const t=[r[5]];let i={};for(let f=0;f<t.length;f+=1)i=se(i,t[f]);e=new me({props:i});let s=r[4]&&Q(r);return o=new he({props:{value:r[1],show_legend:r[2],color_map:r[3]}}),{c(){C(e.$$.fragment),n=w(),s&&s.c(),l=w(),C(o.$$.fragment)},m(f,u){O(e,f,u),m(f,n,u),s&&s.m(f,u),m(f,l,u),O(o,f,u),a=!0},p(f,u){const g=u&32?re(t,[ae(f[5])]):{};e.$set(g),f[4]?s?(s.p(f,u),u&16&&y(s,1)):(s=Q(f),s.c(),y(s,1),s.m(l.parentNode,l)):s&&(ie(),T(s,1,1,()=>{s=null}),fe());const v={};u&2&&(v.value=f[1]),u&4&&(v.show_legend=f[2]),u&8&&(v.color_map=f[3]),o.$set(v)},i(f){a||(y(e.$$.fragment,f),y(s),y(o.$$.fragment,f),a=!0)},o(f){T(e.$$.fragment,f),T(s),T(o.$$.fragment,f),a=!1},d(f){q(e,f),f&&d(n),s&&s.d(f),f&&d(l),q(o,f)}}}function we(r){let e,n;return e=new ce({props:{elem_id:r[0],$$slots:{default:[ve]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(l,o){O(e,l,o),n=!0},p(l,[o]){const a={};o&1&&(a.elem_id=l[0]),o&190&&(a.$$scope={dirty:o,ctx:l}),e.$set(a)},i(l){n||(y(e.$$.fragment,l),n=!0)},o(l){T(e.$$.fragment,l),n=!1},d(l){q(e,l)}}}function ye(r,e,n){let{elem_id:l=""}=e,{value:o}=e,{show_legend:a}=e,{color_map:t={}}=e,{label:i}=e,{loading_status:s}=e;const f=oe();return r.$$set=u=>{"elem_id"in u&&n(0,l=u.elem_id),"value"in u&&n(1,o=u.value),"show_legend"in u&&n(2,a=u.show_legend),"color_map"in u&&n(3,t=u.color_map),"label"in u&&n(4,i=u.label),"loading_status"in u&&n(5,s=u.loading_status)},r.$$.update=()=>{r.$$.dirty&2&&f("change")},[l,o,a,t,i,s]}class Te extends U{constructor(e){super(),V(this,e,ye,we,W,{elem_id:0,value:1,show_legend:2,color_map:3,label:4,loading_status:5})}}var Oe=Te;const qe=["static"];export{Oe as Component,qe as modes};
