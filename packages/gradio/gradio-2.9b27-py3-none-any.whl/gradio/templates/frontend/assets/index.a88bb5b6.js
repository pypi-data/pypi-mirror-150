import{S as Q,i as U,s as V,k as le,c as d,n as M,e as m,f as b,b as _,Y as w,h as T,m as v,d as h,j as H,o as L,l as S,r as te,q as O,u as q,v as B,w as D,x as E,A as ne,K as oe,L as se,M as re}from"./index.7d6e0911.js";import{c as R}from"./colors.621f0c00.js";import{g as ae}from"./color.bda979d2.js";import{B as ie}from"./Block.942b8af1.js";import{S as fe}from"./StatusTracker.3d1cbfdb.js";function A(s,e,n){const l=s.slice();return l[16]=e[n][0],l[23]=e[n][1],l}function I(s,e,n){const l=s.slice();return l[16]=e[n][0],l[17]=e[n][1],l}function K(s,e,n){const l=s.slice();return l[17]=e[n][0],l[20]=e[n][1],l[22]=n,l}function ue(s){let e,n,l=s[1]&&Y(),o=s[0],a=[];for(let t=0;t<o.length;t+=1)a[t]=z(A(s,o,t));return{c(){l&&l.c(),e=v(),n=b("div");for(let t=0;t<a.length;t+=1)a[t].c();_(n,"class","textfield p-2 bg-white dark:bg-gray-800 rounded box-border max-w-full break-word")},m(t,i){l&&l.m(t,i),d(t,e,i),d(t,n,i);for(let r=0;r<a.length;r+=1)a[r].m(n,null)},p(t,i){if(t[1]?l||(l=Y(),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),i&1){o=t[0];let r;for(r=0;r<o.length;r+=1){const u=A(t,o,r);a[r]?a[r].p(u,i):(a[r]=z(u),a[r].c(),a[r].m(n,null))}for(;r<a.length;r+=1)a[r].d(1);a.length=o.length}},d(t){l&&l.d(t),t&&m(e),t&&m(n),L(a,t)}}}function ce(s){let e,n,l=s[1]&&F(s),o=s[0],a=[];for(let t=0;t<o.length;t+=1)a[t]=P(I(s,o,t));return{c(){l&&l.c(),e=v(),n=b("div");for(let t=0;t<a.length;t+=1)a[t].c();_(n,"class","textfield bg-white dark:bg-gray-800 rounded-sm box-border max-w-full break-word inline-flex flex-wrap gap-1")},m(t,i){l&&l.m(t,i),d(t,e,i),d(t,n,i);for(let r=0;r<a.length;r+=1)a[r].m(n,null)},p(t,i){if(t[1]?l?l.p(t,i):(l=F(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),i&15){o=t[0];let r;for(r=0;r<o.length;r+=1){const u=I(t,o,r);a[r]?a[r].p(u,i):(a[r]=P(u),a[r].c(),a[r].m(n,null))}for(;r<a.length;r+=1)a[r].d(1);a.length=o.length}},d(t){l&&l.d(t),t&&m(e),t&&m(n),L(a,t)}}}function Y(s){let e;return{c(){e=b("div"),e.innerHTML=`<span>-1</span> 
			<span>0</span> 
			<span>+1</span>`,_(e,"class","color_legend flex px-2 py-1 justify-between rounded mb-3 font-semibold"),w(e,"background","-webkit-linear-gradient(to right,#8d83d6,(255,255,255,0),#eb4d4b)"),w(e,"background","linear-gradient(to right,#8d83d6,rgba(255,255,255,0),#eb4d4b)")},m(n,l){d(n,e,l)},d(n){n&&m(e)}}}function z(s){let e,n,l=s[16]+"",o,a,t;return{c(){e=b("span"),n=b("span"),o=T(l),a=v(),_(n,"class","text dark:text-white"),_(e,"class","textspan p-1 mr-0.5 bg-opacity-20 dark:bg-opacity-80 rounded-sm"),_(e,"style",t="background-color: rgba("+(s[23]<0?"141, 131, 214,"+-s[23]:"235, 77, 75,"+s[23])+")")},m(i,r){d(i,e,r),h(e,n),h(n,o),h(e,a)},p(i,r){r&1&&l!==(l=i[16]+"")&&H(o,l),r&1&&t!==(t="background-color: rgba("+(i[23]<0?"141, 131, 214,"+-i[23]:"235, 77, 75,"+i[23])+")")&&_(e,"style",t)},d(i){i&&m(e)}}}function F(s){let e,n=Object.entries(s[2]),l=[];for(let o=0;o<n.length;o+=1)l[o]=G(K(s,n,o));return{c(){e=b("div");for(let o=0;o<l.length;o+=1)l[o].c();_(e,"class","category-legend flex flex-wrap gap-1 mb-2")},m(o,a){d(o,e,a);for(let t=0;t<l.length;t+=1)l[t].m(e,null)},p(o,a){if(a&100){n=Object.entries(o[2]);let t;for(t=0;t<n.length;t+=1){const i=K(o,n,t);l[t]?l[t].p(i,a):(l[t]=G(i),l[t].c(),l[t].m(e,null))}for(;t<l.length;t+=1)l[t].d(1);l.length=n.length}},d(o){o&&m(e),L(l,o)}}}function G(s){let e,n=s[17]+"",l,o,a,t,i;function r(){return s[9](s[17])}function u(){return s[10](s[17])}function f(){return s[11](s[17])}function j(){return s[12](s[17])}return{c(){e=b("div"),l=T(n),o=v(),_(e,"class","category-label px-2 rounded-sm font-semibold cursor-pointer"),_(e,"style",a="background-color:"+s[20].secondary)},m(p,y){d(p,e,y),h(e,l),h(e,o),t||(i=[S(e,"mouseover",r),S(e,"focus",u),S(e,"mouseout",f),S(e,"blur",j)],t=!0)},p(p,y){s=p,y&4&&n!==(n=s[17]+"")&&H(l,n),y&4&&a!==(a="background-color:"+s[20].secondary)&&_(e,"style",a)},d(p){p&&m(e),t=!1,te(i)}}}function J(s){let e,n=s[17]+"",l;return{c(){e=b("span"),l=T(n),_(e,"class","inline-category text-xs text-white rounded-sm px-1 transition-colors"),w(e,"background-color",s[17]===null||s[3]&&s[3]!==s[17]?"":s[2][s[17]].primary,!1)},m(o,a){d(o,e,a),h(e,l)},p(o,a){a&1&&n!==(n=o[17]+"")&&H(l,n),a&13&&w(e,"background-color",o[17]===null||o[3]&&o[3]!==o[17]?"":o[2][o[17]].primary,!1)},d(o){o&&m(e)}}}function P(s){let e,n,l=s[16]+"",o,a,t,i=!s[1]&&s[17]!==null&&J(s);return{c(){e=b("span"),n=b("span"),o=T(l),a=v(),i&&i.c(),t=v(),_(n,"class","text dark:text-white"),_(e,"class","textspan bg-opacity-10 rounded-sm inline-flex items-center px-1.5 space-x-1.5 transition-colors"),w(e,"background-color",s[17]===null||s[3]&&s[3]!==s[17]?"":s[2][s[17]].secondary,!1)},m(r,u){d(r,e,u),h(e,n),h(n,o),h(e,a),i&&i.m(e,null),h(e,t)},p(r,u){u&1&&l!==(l=r[16]+"")&&H(o,l),!r[1]&&r[17]!==null?i?i.p(r,u):(i=J(r),i.c(),i.m(e,t)):i&&(i.d(1),i=null),u&13&&w(e,"background-color",r[17]===null||r[3]&&r[3]!==r[17]?"":r[2][r[17]].secondary,!1)},d(r){r&&m(e),i&&i.d()}}}function _e(s){let e;function n(a,t){return a[4]==="categories"?ce:ue}let l=n(s),o=l(s);return{c(){o.c(),e=le()},m(a,t){o.m(a,t),d(a,e,t)},p(a,[t]){l===(l=n(a))&&o?o.p(a,t):(o.d(1),o=l(a),o&&(o.c(),o.m(e.parentNode,e)))},i:M,o:M,d(a){o.d(a),a&&m(e)}}}function de(s,e,n){const l=typeof document!="undefined";let{value:o=[]}=e,{show_legend:a=!1}=e,{color_map:t={}}=e,{style:i=""}=e,r,u={},f="";function j(c,g){if(!r){var k=document.createElement("canvas");r=k.getContext("2d")}r.fillStyle=c,r.fillRect(0,0,1,1);const[N,$,ee]=r.getImageData(0,0,1,1).data;return r.clearRect(0,0,1,1),`rgba(${N}, ${$}, ${ee}, ${255/g})`}let p;t===null&&(t={});function y(c){n(3,f=c)}function C(c){n(3,f="")}const W=c=>y(c),X=c=>y(c),Z=c=>C(),x=c=>C();return s.$$set=c=>{"value"in c&&n(0,o=c.value),"show_legend"in c&&n(1,a=c.show_legend),"color_map"in c&&n(7,t=c.color_map),"style"in c&&n(8,i=c.style)},s.$$.update=()=>{if(s.$$.dirty&129){let c=function(){for(const g in t){const k=t[g].trim();k in R?n(2,u[g]=R[k],u):n(2,u[g]={primary:l?j(t[g],1):t[g],secondary:l?j(t[g],.5):t[g]},u)}};if(o.length>0){for(let[g,k]of o)if(k!==null)if(typeof k=="string"){if(n(4,p="categories"),!(k in t)){let N=ae(Object.keys(t).length);n(7,t[k]=N,t)}}else n(4,p="scores")}c()}},[o,a,u,f,p,y,C,t,i,W,X,Z,x]}class me extends Q{constructor(e){super(),U(this,e,de,_e,V,{value:0,show_legend:1,color_map:7,style:8})}}function ge(s){let e,n,l,o;const a=[s[4]];let t={};for(let i=0;i<a.length;i+=1)t=oe(t,a[i]);return e=new fe({props:t}),l=new me({props:{value:s[0],style:s[1],show_legend:s[2],color_map:s[3]}}),{c(){O(e.$$.fragment),n=v(),O(l.$$.fragment)},m(i,r){q(e,i,r),d(i,n,r),q(l,i,r),o=!0},p(i,r){const u=r&16?se(a,[re(i[4])]):{};e.$set(u);const f={};r&1&&(f.value=i[0]),r&2&&(f.style=i[1]),r&4&&(f.show_legend=i[2]),r&8&&(f.color_map=i[3]),l.$set(f)},i(i){o||(B(e.$$.fragment,i),B(l.$$.fragment,i),o=!0)},o(i){D(e.$$.fragment,i),D(l.$$.fragment,i),o=!1},d(i){E(e,i),i&&m(n),E(l,i)}}}function he(s){let e,n;return e=new ie({props:{$$slots:{default:[ge]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},m(l,o){q(e,l,o),n=!0},p(l,[o]){const a={};o&159&&(a.$$scope={dirty:o,ctx:l}),e.$set(a)},i(l){n||(B(e.$$.fragment,l),n=!0)},o(l){D(e.$$.fragment,l),n=!1},d(l){E(e,l)}}}function be(s,e,n){let{value:l}=e,{default_value:o}=e,{style:a=""}=e,{show_legend:t}=e,{color_map:i={}}=e,{loading_status:r}=e;const u=ne();return o&&(l=o),s.$$set=f=>{"value"in f&&n(0,l=f.value),"default_value"in f&&n(5,o=f.default_value),"style"in f&&n(1,a=f.style),"show_legend"in f&&n(2,t=f.show_legend),"color_map"in f&&n(3,i=f.color_map),"loading_status"in f&&n(4,r=f.loading_status)},s.$$.update=()=>{s.$$.dirty&1&&u("change")},[l,a,t,i,r,o]}class pe extends Q{constructor(e){super(),U(this,e,be,he,V,{value:0,default_value:5,style:1,show_legend:2,color_map:3,loading_status:4})}}var Se=pe;const Te=["static"];export{Se as Component,Te as modes};
