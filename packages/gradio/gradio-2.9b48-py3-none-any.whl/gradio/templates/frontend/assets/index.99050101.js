import{S as V,i as W,s as X,k as ne,c as m,n as R,e as d,a4 as z,f as h,b as _,Y as j,h as H,m as y,d as b,j as S,o as M,l as B,r as se,t as N,q as C,u as O,v as w,w as T,x as q,A as oe,K as re,L as ae,M as ie,y as fe,z as ue}from"./index.43a672aa.js";import{g as ce}from"./color.e67d139c.js";import{B as _e}from"./Block.dd660513.js";import{B as me}from"./BlockTitle.0dbc5573.js";import{S as de}from"./StatusTracker.a32689a5.js";function A(r,e,n){const l=r.slice();return l[16]=e[n][0],l[23]=e[n][1],l}function I(r,e,n){const l=r.slice();return l[16]=e[n][0],l[17]=e[n][1],l}function K(r,e,n){const l=r.slice();return l[17]=e[n][0],l[20]=e[n][1],l[22]=n,l}function ge(r){let e,n,l=r[1]&&Y(),s=r[0],a=[];for(let t=0;t<s.length;t+=1)a[t]=F(A(r,s,t));return{c(){l&&l.c(),e=y(),n=h("div");for(let t=0;t<a.length;t+=1)a[t].c();_(n,"class","textfield p-2 bg-white dark:bg-gray-800 rounded box-border max-w-full break-word svelte-138gm84")},m(t,i){l&&l.m(t,i),m(t,e,i),m(t,n,i);for(let o=0;o<a.length;o+=1)a[o].m(n,null)},p(t,i){if(t[1]?l||(l=Y(),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),i&1){s=t[0];let o;for(o=0;o<s.length;o+=1){const f=A(t,s,o);a[o]?a[o].p(f,i):(a[o]=F(f),a[o].c(),a[o].m(n,null))}for(;o<a.length;o+=1)a[o].d(1);a.length=s.length}},d(t){l&&l.d(t),t&&d(e),t&&d(n),M(a,t)}}}function be(r){let e,n,l=r[1]&&G(r),s=r[0],a=[];for(let t=0;t<s.length;t+=1)a[t]=Q(I(r,s,t));return{c(){l&&l.c(),e=y(),n=h("div");for(let t=0;t<a.length;t+=1)a[t].c();_(n,"class","textfield bg-white dark:bg-transparent rounded-sm text-sm box-border max-w-full break-word leading-7 svelte-138gm84")},m(t,i){l&&l.m(t,i),m(t,e,i),m(t,n,i);for(let o=0;o<a.length;o+=1)a[o].m(n,null)},p(t,i){if(t[1]?l?l.p(t,i):(l=G(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),i&15){s=t[0];let o;for(o=0;o<s.length;o+=1){const f=I(t,s,o);a[o]?a[o].p(f,i):(a[o]=Q(f),a[o].c(),a[o].m(n,null))}for(;o<a.length;o+=1)a[o].d(1);a.length=s.length}},d(t){l&&l.d(t),t&&d(e),t&&d(n),M(a,t)}}}function Y(r){let e;return{c(){e=h("div"),e.innerHTML=`<span class="svelte-138gm84">-1</span> 
			<span class="svelte-138gm84">0</span> 
			<span class="svelte-138gm84">+1</span>`,_(e,"class","color_legend flex px-2 py-1 justify-between rounded mb-3 font-semibold svelte-138gm84"),j(e,"background","-webkit-linear-gradient(to right,#8d83d6,(255,255,255,0),#eb4d4b)"),j(e,"background","linear-gradient(to right,#8d83d6,rgba(255,255,255,0),#eb4d4b)")},m(n,l){m(n,e,l)},d(n){n&&d(e)}}}function F(r){let e,n,l=r[16]+"",s,a,t;return{c(){e=h("span"),n=h("span"),s=H(l),a=y(),_(n,"class","text dark:text-white svelte-138gm84"),_(e,"class","textspan p-1 mr-0.5 bg-opacity-20 dark:bg-opacity-80 rounded-sm svelte-138gm84"),_(e,"style",t="background-color: rgba("+(r[23]<0?"141, 131, 214,"+-r[23]:"235, 77, 75,"+r[23])+")")},m(i,o){m(i,e,o),b(e,n),b(n,s),b(e,a)},p(i,o){o&1&&l!==(l=i[16]+"")&&S(s,l),o&1&&t!==(t="background-color: rgba("+(i[23]<0?"141, 131, 214,"+-i[23]:"235, 77, 75,"+i[23])+")")&&_(e,"style",t)},d(i){i&&d(e)}}}function G(r){let e,n=Object.entries(r[2]),l=[];for(let s=0;s<n.length;s+=1)l[s]=J(K(r,n,s));return{c(){e=h("div");for(let s=0;s<l.length;s+=1)l[s].c();_(e,"class","category-legend flex flex-wrap gap-1 mb-2 text-black svelte-138gm84")},m(s,a){m(s,e,a);for(let t=0;t<l.length;t+=1)l[t].m(e,null)},p(s,a){if(a&100){n=Object.entries(s[2]);let t;for(t=0;t<n.length;t+=1){const i=K(s,n,t);l[t]?l[t].p(i,a):(l[t]=J(i),l[t].c(),l[t].m(e,null))}for(;t<l.length;t+=1)l[t].d(1);l.length=n.length}},d(s){s&&d(e),M(l,s)}}}function J(r){let e,n=r[17]+"",l,s,a,t,i;function o(){return r[9](r[17])}function f(){return r[10](r[17])}return{c(){e=h("div"),l=H(n),s=y(),_(e,"class","category-label px-2 rounded-sm font-semibold cursor-pointer svelte-138gm84"),_(e,"style",a="background-color:"+r[20].secondary)},m(u,p){m(u,e,p),b(e,l),b(e,s),t||(i=[B(e,"mouseover",o),B(e,"focus",f),B(e,"mouseout",r[11]),B(e,"blur",r[12])],t=!0)},p(u,p){r=u,p&4&&n!==(n=r[17]+"")&&S(l,n),p&4&&a!==(a="background-color:"+r[20].secondary)&&_(e,"style",a)},d(u){u&&d(e),t=!1,se(i)}}}function P(r){let e,n=r[17]+"",l;return{c(){e=h("span"),l=H(n),_(e,"class","label mr-[-4px] font-bold uppercase text-xs inline-category text-white rounded-sm px-[0.325rem] mt-[0.05rem] py-[0.05rem] transition-colors svelte-138gm84"),j(e,"background-color",r[17]===null||r[3]&&r[3]!==r[17]?"":r[2][r[17]].primary,!1)},m(s,a){m(s,e,a),b(e,l)},p(s,a){a&1&&n!==(n=s[17]+"")&&S(l,n),a&13&&j(e,"background-color",s[17]===null||s[3]&&s[3]!==s[17]?"":s[2][s[17]].primary,!1)},d(s){s&&d(e)}}}function Q(r){let e,n,l=r[16]+"",s,a,t,i=!r[1]&&r[17]!==null&&P(r);return{c(){e=h("span"),n=h("span"),s=H(l),a=y(),i&&i.c(),t=y(),_(n,"class","text  svelte-138gm84"),_(e,"class","textspan rounded-sm px-1 transition-colors text-black pb-[0.225rem] pt-[0.15rem] svelte-138gm84"),N(e,"dark:text-white",r[17]===null||r[3]&&r[3]!==r[17]),N(e,"hl",r[17]!==null),j(e,"background-color",r[17]===null||r[3]&&r[3]!==r[17]?"":r[2][r[17]].secondary,!1)},m(o,f){m(o,e,f),b(e,n),b(n,s),b(e,a),i&&i.m(e,null),b(e,t)},p(o,f){f&1&&l!==(l=o[16]+"")&&S(s,l),!o[1]&&o[17]!==null?i?i.p(o,f):(i=P(o),i.c(),i.m(e,t)):i&&(i.d(1),i=null),f&9&&N(e,"dark:text-white",o[17]===null||o[3]&&o[3]!==o[17]),f&1&&N(e,"hl",o[17]!==null),f&13&&j(e,"background-color",o[17]===null||o[3]&&o[3]!==o[17]?"":o[2][o[17]].secondary,!1)},d(o){o&&d(e),i&&i.d()}}}function he(r){let e;function n(a,t){return a[4]==="categories"?be:ge}let l=n(r),s=l(r);return{c(){s.c(),e=ne()},m(a,t){s.m(a,t),m(a,e,t)},p(a,[t]){l===(l=n(a))&&s?s.p(a,t):(s.d(1),s=l(a),s&&(s.c(),s.m(e.parentNode,e)))},i:R,o:R,d(a){s.d(a),a&&d(e)}}}function pe(r,e,n){const l=typeof document!="undefined";let{value:s=[]}=e,{show_legend:a=!1}=e,{color_map:t={}}=e,{style:i=""}=e,o,f={},u="";function p(c,g){if(!o){var v=document.createElement("canvas");o=v.getContext("2d")}o.fillStyle=c,o.fillRect(0,0,1,1);const[L,le,te]=o.getImageData(0,0,1,1).data;return o.clearRect(0,0,1,1),`rgba(${L}, ${le}, ${te}, ${255/g})`}let k;t===null&&(t={});function D(c){n(3,u=c)}function E(){n(3,u="")}const Z=c=>D(c),$=c=>D(c),x=()=>E(),ee=()=>E();return r.$$set=c=>{"value"in c&&n(0,s=c.value),"show_legend"in c&&n(1,a=c.show_legend),"color_map"in c&&n(7,t=c.color_map),"style"in c&&n(8,i=c.style)},r.$$.update=()=>{if(r.$$.dirty&129){let c=function(){for(const g in t){const v=t[g].trim();v in z?n(2,f[g]=z[v],f):n(2,f[g]={primary:l?p(t[g],1):t[g],secondary:l?p(t[g],.5):t[g]},f)}};if(s.length>0){for(let[g,v]of s)if(v!==null)if(typeof v=="string"){if(n(4,k="categories"),!(v in t)){let L=ce(Object.keys(t).length);n(7,t[v]=L,t)}}else n(4,k="scores")}c()}},[s,a,f,u,k,D,E,t,i,Z,$,x,ee]}class ke extends V{constructor(e){super(),W(this,e,pe,he,X,{value:0,show_legend:1,color_map:7,style:8})}}function U(r){let e,n;return e=new me({props:{$$slots:{default:[ve]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(l,s){O(e,l,s),n=!0},p(l,s){const a={};s&144&&(a.$$scope={dirty:s,ctx:l}),e.$set(a)},i(l){n||(w(e.$$.fragment,l),n=!0)},o(l){T(e.$$.fragment,l),n=!1},d(l){q(e,l)}}}function ve(r){let e;return{c(){e=H(r[4])},m(n,l){m(n,e,l)},p(n,l){l&16&&S(e,n[4])},d(n){n&&d(e)}}}function ye(r){let e,n,l,s,a;const t=[r[5]];let i={};for(let f=0;f<t.length;f+=1)i=re(i,t[f]);e=new de({props:i});let o=r[4]&&U(r);return s=new ke({props:{value:r[0],style:r[1],show_legend:r[2],color_map:r[3]}}),{c(){C(e.$$.fragment),n=y(),o&&o.c(),l=y(),C(s.$$.fragment)},m(f,u){O(e,f,u),m(f,n,u),o&&o.m(f,u),m(f,l,u),O(s,f,u),a=!0},p(f,u){const p=u&32?ae(t,[ie(f[5])]):{};e.$set(p),f[4]?o?(o.p(f,u),u&16&&w(o,1)):(o=U(f),o.c(),w(o,1),o.m(l.parentNode,l)):o&&(fe(),T(o,1,1,()=>{o=null}),ue());const k={};u&1&&(k.value=f[0]),u&2&&(k.style=f[1]),u&4&&(k.show_legend=f[2]),u&8&&(k.color_map=f[3]),s.$set(k)},i(f){a||(w(e.$$.fragment,f),w(o),w(s.$$.fragment,f),a=!0)},o(f){T(e.$$.fragment,f),T(o),T(s.$$.fragment,f),a=!1},d(f){q(e,f),f&&d(n),o&&o.d(f),f&&d(l),q(s,f)}}}function we(r){let e,n;return e=new _e({props:{$$slots:{default:[ye]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(l,s){O(e,l,s),n=!0},p(l,[s]){const a={};s&191&&(a.$$scope={dirty:s,ctx:l}),e.$set(a)},i(l){n||(w(e.$$.fragment,l),n=!0)},o(l){T(e.$$.fragment,l),n=!1},d(l){q(e,l)}}}function Te(r,e,n){let{value:l}=e,{style:s=""}=e,{show_legend:a}=e,{color_map:t={}}=e,{label:i}=e,{loading_status:o}=e;const f=oe();return r.$$set=u=>{"value"in u&&n(0,l=u.value),"style"in u&&n(1,s=u.style),"show_legend"in u&&n(2,a=u.show_legend),"color_map"in u&&n(3,t=u.color_map),"label"in u&&n(4,i=u.label),"loading_status"in u&&n(5,o=u.loading_status)},r.$$.update=()=>{r.$$.dirty&1&&f("change")},[l,s,a,t,i,o]}class je extends V{constructor(e){super(),W(this,e,Te,we,X,{value:0,style:1,show_legend:2,color_map:3,label:4,loading_status:5})}}var Oe=je;const qe=["static"];export{Oe as Component,qe as modes};
