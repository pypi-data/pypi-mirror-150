"use strict";(self["webpackChunkunmanic_frontend"]=self["webpackChunkunmanic_frontend"]||[]).push([[111],{8111:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Be});var s=n(9835),l=n(6970),a=n(1561),i=n.n(a);const o={class:"q-pa-none"},d={class:"row"},r={class:"col q-ma-sm"},u={class:"q-pa-md",style:{"max-width":"500px"}},m={class:"q-mb-none"},c={class:"q-gutter-sm"},p={class:"q-mb-none"},g={class:"q-gutter-sm"},h={class:"row"},w={class:"col-3"},k={class:"text-weight-bold"},b={class:"col-grow"},_={class:"q-pl-none"},f={class:"row"},v={class:"col-3"},y={class:"text-weight-bold"},q={class:"col-grow"},I={class:"q-pl-none"},T={class:"text-grey-8 q-gutter-xs"},W={class:"text-h6"},$={key:0},R={class:"row"},V={class:"col-6 text-center"};function C(e,t,n,a,C,Q){const S=(0,s.up)("q-skeleton"),Z=(0,s.up)("q-input"),x=(0,s.up)("q-separator"),H=(0,s.up)("q-img"),U=(0,s.up)("q-item-section"),z=(0,s.up)("q-item-label"),D=(0,s.up)("q-tooltip"),P=(0,s.up)("q-btn"),j=(0,s.up)("q-item"),A=(0,s.up)("q-list"),N=(0,s.up)("q-space"),L=(0,s.up)("q-bar"),O=(0,s.up)("q-card-section"),B=(0,s.up)("q-select"),J=(0,s.up)("q-card-actions"),F=(0,s.up)("q-card"),K=(0,s.up)("q-dialog"),Y=(0,s.up)("q-form"),E=(0,s.up)("q-page"),G=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(E,{padding:""},{default:(0,s.w5)((()=>[(0,s._)("div",o,[(0,s._)("div",d,[(0,s._)("div",r,[(0,s._)("div",u,[(0,s.Wm)(Y,{onSubmit:Q.save,class:"q-gutter-md"},{default:(0,s.w5)((()=>[(0,s._)("h5",m,(0,l.zw)(e.$t("components.settings.link.thisInstallation")),1),(0,s._)("div",c,[null===C.installationName?((0,s.wg)(),(0,s.j4)(S,{key:0,type:"QInput"})):(0,s.kq)("",!0),null!==C.installationName?((0,s.wg)(),(0,s.j4)(Z,{key:1,outlined:"",color:"primary",modelValue:C.installationName,"onUpdate:modelValue":t[0]||(t[0]=e=>C.installationName=e),label:e.$t("components.settings.link.nameThisInstall"),placeholder:C.installationName},null,8,["modelValue","label","placeholder"])):(0,s.kq)("",!0)]),(0,s.Wm)(x,{class:"q-my-lg"}),(0,s._)("h5",p,(0,l.zw)(e.$t("components.settings.link.remoteInstallations")),1),(0,s._)("div",g,[null===C.remoteInstallations?((0,s.wg)(),(0,s.j4)(S,{key:0,type:"text"})):(0,s.kq)("",!0),(0,s.Wm)(A,{bordered:"",separator:"",class:"rounded-borders"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(C.remoteInstallations,((t,n)=>((0,s.wg)(),(0,s.j4)(j,{key:n},{default:(0,s.w5)((()=>[(0,s.Wm)(U,{avatar:""},{default:(0,s.w5)((()=>[t.available?((0,s.wg)(),(0,s.j4)(H,{key:0,src:i()})):((0,s.wg)(),(0,s.j4)(H,{key:1,"img-style":{filter:"grayscale(100%)"},src:i()},null,8,["img-style"]))])),_:2},1024),(0,s.Wm)(x,{inset:"",vertical:"",class:"q-mr-sm"}),(0,s.Wm)(U,{class:"q-px-sm q-mx-sm"},{default:(0,s.w5)((()=>[(0,s.Wm)(z,{lines:"1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(t.address),1)])),_:2},1024),(0,s.Wm)(z,{caption:"",lines:"2"},{default:(0,s.w5)((()=>[(0,s._)("div",h,[(0,s._)("div",w,[(0,s._)("span",k,(0,l.zw)(e.$t("components.settings.link.name"))+":",1)]),(0,s._)("div",b,[(0,s._)("span",_,(0,l.zw)(t.name),1)])])])),_:2},1024),(0,s.Wm)(z,{caption:"",lines:"2"},{default:(0,s.w5)((()=>[(0,s._)("div",f,[(0,s._)("div",v,[(0,s._)("span",y,(0,l.zw)(e.$t("components.settings.link.version"))+":",1)]),(0,s._)("div",q,[(0,s._)("span",I,(0,l.zw)(t.version),1)])])])),_:2},1024)])),_:2},1024),(0,s.Wm)(x,{inset:"",vertical:"",class:"q-mx-sm"}),(0,s.Wm)(U,{center:"",side:""},{default:(0,s.w5)((()=>[(0,s._)("div",T,[(0,s.Wm)(P,{size:"12px",flat:"",dense:"",round:"",icon:"tune",onClick:e=>Q.configureRemoteInstallation(n)},{default:(0,s.w5)((()=>[(0,s.Wm)(D,{class:"bg-white text-primary"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(e.$t("tooltips.configure")),1)])),_:1})])),_:2},1032,["onClick"]),(0,s.Wm)(P,{flat:"",dense:"",round:"",size:"12px",color:"negative",icon:"delete",onClick:e=>Q.deleteRemoteInstallation(n)},{default:(0,s.w5)((()=>[(0,s.Wm)(D,{class:"bg-white text-primary"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(e.$t("tooltips.delete")),1)])),_:1})])),_:2},1032,["onClick"])])])),_:2},1024)])),_:2},1024)))),128))])),_:1}),(0,s.Wm)(L,{class:"bg-transparent"},{default:(0,s.w5)((()=>[(0,s.Wm)(N),(0,s.Wm)(P,{round:"",flat:"",color:"primary",icon:"add",onClick:t[1]||(t[1]=e=>C.newRemoteInstallation=!0)},{default:(0,s.w5)((()=>[(0,s.Wm)(D,{class:"bg-white text-primary"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(e.$t("tooltips.add")),1)])),_:1})])),_:1})])),_:1}),(0,s.Wm)(K,{modelValue:C.newRemoteInstallation,"onUpdate:modelValue":t[6]||(t[6]=e=>C.newRemoteInstallation=e),persistent:""},{default:(0,s.w5)((()=>[(0,s.Wm)(F,{style:{"min-width":"350px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(O,null,{default:(0,s.w5)((()=>[(0,s._)("div",W,(0,l.zw)(e.$t("components.settings.link.addRemoteInstallation")),1)])),_:1}),(0,s.Wm)(O,{class:"q-pt-none"},{default:(0,s.w5)((()=>[(0,s.Wm)(Z,{outlined:"",color:"primary",modelValue:C.newRemoteInstallationAddress,"onUpdate:modelValue":t[2]||(t[2]=e=>C.newRemoteInstallationAddress=e),label:e.$t("components.settings.link.address"),placeholder:"192.168.1.2:8888"},null,8,["modelValue","label"])])),_:1}),(0,s.Wm)(O,{class:"q-pt-none"},{default:(0,s.w5)((()=>[(0,s.Wm)(B,{outlined:"",modelValue:C.newRemoteInstallationAuthenticationType,"onUpdate:modelValue":t[3]||(t[3]=e=>C.newRemoteInstallationAuthenticationType=e),options:C.newRemoteInstallationAuthenticationOptions,label:e.$t("components.settings.link.authentication")},null,8,["modelValue","options","label"])])),_:1}),"None"!==C.newRemoteInstallationAuthenticationType?((0,s.wg)(),(0,s.j4)(O,{key:0,class:"q-pt-none"},{default:(0,s.w5)((()=>[(0,s.Wm)(Z,{outlined:"",color:"primary",modelValue:C.newRemoteInstallationUsername,"onUpdate:modelValue":t[4]||(t[4]=e=>C.newRemoteInstallationUsername=e),label:e.$t("components.settings.link.username")},null,8,["modelValue","label"])])),_:1})):(0,s.kq)("",!0),"None"!==C.newRemoteInstallationAuthenticationType?((0,s.wg)(),(0,s.j4)(O,{key:1,class:"q-pt-none"},{default:(0,s.w5)((()=>[(0,s.Wm)(Z,{outlined:"",color:"primary",modelValue:C.newRemoteInstallationPassword,"onUpdate:modelValue":t[5]||(t[5]=e=>C.newRemoteInstallationPassword=e),label:e.$t("components.settings.link.password")},null,8,["modelValue","label"])])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(J,{align:"right",class:"text-primary"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(P,{flat:"",label:e.$t("navigation.cancel")},null,8,["label"]),[[G]]),(0,s.wy)((0,s.Wm)(P,{onClick:Q.addNewRemoteInstallation,flat:"",label:e.$t("components.settings.link.add")},null,8,["onClick","label"]),[[G]])])),_:1})])),_:1})])),_:1},8,["modelValue"])]),(0,s._)("div",null,[(0,s.Wm)(P,{label:e.$t("navigation.submit"),type:"submit",color:"secondary"},null,8,["label"])])])),_:1},8,["onSubmit"])])])]),e.$q.platform.is.mobile?((0,s.wg)(),(0,s.iD)("div",$,[(0,s.Wm)(x,{class:"q-mb-lg"}),(0,s._)("div",R,[(0,s._)("div",V,[(0,s.Wm)(F,{flat:"",bordered:"",onClick:t[7]||(t[7]=t=>e.$router.push("/ui/settings-plugins")),class:"q-ma-xs"},{default:(0,s.w5)((()=>[(0,s.Wm)(P,{icon:"navigate_before",flat:""},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(e.$t("navigation.plugins")),1)])),_:1})])),_:1})])])])):(0,s.kq)("",!0)])])),_:1})}var Q=n(586),S=n(499),Z=n(9302),x=n(9991);const H={class:"row items-center no-wrap"},U={class:"col"},z={class:"text-h6 text-blue-10"},D={class:"col-auto"},P={class:"q-pa-md"},j={class:"row"},A={class:"col-4 text-h6"},N={class:"col-4"},L={class:"row"},O={class:"col-4 text-h6"},B={class:"col-4"},J={class:"row"},F={class:"col-4 text-h6"},K={class:"col-4"},Y={class:""},E={class:"q-gutter-sm"},G={class:"q-gutter-sm q-mt-sm"},M={key:0,class:"sub-setting q-pt-none q-mt-sm"},X={key:1,class:"sub-setting q-pt-none q-pt-sm"},ee={class:""},te={class:"q-gutter-sm"},ne={class:"q-gutter-sm"},se={key:2,class:"sub-setting"},le={class:"q-gutter-sm"},ae={class:"q-gutter-sm"},ie={key:3,class:"sub-setting"},oe={class:"q-gutter-sm"},de={class:"q-pl-lg",style:{width:"80%"}};function re(e,t,n,a,i,o){const d=(0,s.up)("q-tooltip"),r=(0,s.up)("q-btn"),u=(0,s.up)("q-card-section"),m=(0,s.up)("q-separator"),c=(0,s.up)("q-input"),p=(0,s.up)("q-select"),g=(0,s.up)("q-icon"),h=(0,s.up)("q-skeleton"),w=(0,s.up)("q-toggle"),k=(0,s.up)("q-slider"),b=(0,s.up)("q-card"),_=(0,s.up)("q-dialog"),f=(0,s.Q2)("close-popup"),v=(0,s.Q2)("touch-swipe");return(0,s.wg)(),(0,s.j4)(_,{ref:"linkConfigureDialogRef",maximized:e.$q.platform.is.mobile,"transition-show":"slide-left","transition-hide":"slide-right","full-height":"",position:"right",onBeforeHide:o.saveInstallationLinkConfig,onHide:o.onDialogHide},{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.j4)(b,{style:{width:"700px","max-width":"90vw"}},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{class:"bg-card-head"},{default:(0,s.w5)((()=>[(0,s._)("div",H,[(0,s._)("div",U,[(0,s._)("div",z,(0,l.zw)(n.dialogHeader),1)]),(0,s._)("div",D,[(0,s.wy)(((0,s.wg)(),(0,s.j4)(r,{color:"grey-7",dense:"",round:"",flat:"",icon:"arrow_forward"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{class:"bg-white text-primary"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,l.zw)(e.$t("tooltips.close")),1)])),_:1})])),_:1})),[[f]])])])])),_:1}),(0,s.Wm)(u,{class:"q-pt-none"},{default:(0,s.w5)((()=>[(0,s._)("div",P,[(0,s.Wm)(b,{flat:""},{default:(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s._)("div",j,[(0,s._)("div",A,(0,l.zw)(e.$t("components.settings.link.name"))+":",1),(0,s._)("div",N,(0,l.zw)(e.name),1)]),(0,s._)("div",L,[(0,s._)("div",O,(0,l.zw)(e.$t("components.settings.link.address"))+":",1),(0,s._)("div",B,(0,l.zw)(e.address),1)]),(0,s._)("div",J,[(0,s._)("div",F,(0,l.zw)(e.$t("components.settings.link.version"))+":",1),(0,s._)("div",K,(0,l.zw)(e.version),1)])])),_:1}),(0,s.Wm)(m),(0,s.Wm)(u,{class:"q-pa-none"},{default:(0,s.w5)((()=>[(0,s._)("h5",Y,(0,l.zw)(e.$t("components.settings.link.connection")),1),(0,s._)("div",E,[(0,s.Wm)(c,{outlined:"",color:"primary",modelValue:e.address,"onUpdate:modelValue":t[0]||(t[0]=t=>e.address=t),label:e.$t("components.settings.link.address"),placeholder:e.address},null,8,["modelValue","label","placeholder"])]),(0,s._)("div",G,[(0,s.Wm)(p,{outlined:"",modelValue:e.authType,"onUpdate:modelValue":t[1]||(t[1]=t=>e.authType=t),options:e.authOptions,label:e.$t("components.settings.link.authentication")},null,8,["modelValue","options","label"])]),"None"!==e.authType?((0,s.wg)(),(0,s.iD)("div",M,[(0,s.Wm)(c,{outlined:"",color:"primary",modelValue:e.username,"onUpdate:modelValue":t[2]||(t[2]=t=>e.username=t),label:e.$t("components.settings.link.username")},null,8,["modelValue","label"])])):(0,s.kq)("",!0),"None"!==e.authType?((0,s.wg)(),(0,s.iD)("div",X,[(0,s.Wm)(c,{outlined:"",color:"primary",modelValue:e.password,"onUpdate:modelValue":t[4]||(t[4]=t=>e.password=t),type:e.showPassword?"password":"text",label:e.$t("components.settings.link.password")},{append:(0,s.w5)((()=>[(0,s.Wm)(g,{name:e.showPassword?"visibility_off":"visibility",class:"cursor-pointer",onClick:t[3]||(t[3]=t=>e.showPassword=!e.showPassword)},null,8,["name"])])),_:1},8,["modelValue","type","label"])])):(0,s.kq)("",!0),(0,s._)("h5",ee,(0,l.zw)(e.$t("components.settings.link.configuration")),1),(0,s._)("div",te,[null===e.enableReceivingTasks?((0,s.wg)(),(0,s.j4)(h,{key:0,type:"QToggle"})):((0,s.wg)(),(0,s.j4)(w,{key:1,modelValue:e.enableReceivingTasks,"onUpdate:modelValue":t[5]||(t[5]=t=>e.enableReceivingTasks=t),label:e.$t("components.settings.link.allowReceivingTasks")},null,8,["modelValue","label"]))]),(0,s._)("div",ne,[null===e.enableSendingTasks?((0,s.wg)(),(0,s.j4)(h,{key:0,type:"QToggle"})):((0,s.wg)(),(0,s.j4)(w,{key:1,modelValue:e.enableSendingTasks,"onUpdate:modelValue":t[6]||(t[6]=t=>e.enableSendingTasks=t),label:e.$t("components.settings.link.allowSendingTasks"),disable:"???"===e.address},null,8,["modelValue","label","disable"]))]),e.enableSendingTasks?((0,s.wg)(),(0,s.iD)("div",se,[(0,s._)("div",le,[null===e.enableTaskPreloading?((0,s.wg)(),(0,s.j4)(h,{key:0,type:"QToggle"})):((0,s.wg)(),(0,s.j4)(w,{key:1,modelValue:e.enableTaskPreloading,"onUpdate:modelValue":t[7]||(t[7]=t=>e.enableTaskPreloading=t),label:e.$t("components.settings.link.enableTaskPreloading")},null,8,["modelValue","label"]))])])):(0,s.kq)("",!0),(0,s._)("div",ae,[null===e.enableDistributedWorkerCount?((0,s.wg)(),(0,s.j4)(h,{key:0,type:"QToggle"})):((0,s.wg)(),(0,s.j4)(w,{key:1,modelValue:e.enableDistributedWorkerCount,"onUpdate:modelValue":t[8]||(t[8]=t=>e.enableDistributedWorkerCount=t),label:e.$t("components.settings.link.enableDistributedWorkerCount")},null,8,["modelValue","label"]))]),e.enableDistributedWorkerCount?((0,s.wg)(),(0,s.iD)("div",ie,[(0,s._)("div",oe,[null===e.distributedWorkerCountTarget?((0,s.wg)(),(0,s.j4)(h,{key:0,type:"QSlider"})):(0,s.kq)("",!0),(0,s._)("div",de,[null!==e.distributedWorkerCountTarget?((0,s.wg)(),(0,s.j4)(k,{key:0,modelValue:e.distributedWorkerCountTarget,"onUpdate:modelValue":t[9]||(t[9]=t=>e.distributedWorkerCountTarget=t),min:0,max:12,label:"","label-value":e.$t("components.settings.link.workerTarget")+": "+e.distributedWorkerCountTarget,"label-always":"",color:"primary"},null,8,["modelValue","label-value"])):(0,s.kq)("",!0)])])])):(0,s.kq)("",!0)])),_:1})])),_:1})])])),_:1})])),_:1})),[[v,o.hide,void 0,{touch:!0,right:!0}]])])),_:1},8,["maximized","onBeforeHide","onHide"])}var ue=n(9981),me=n.n(ue),ce=n(6888);const pe={name:"LinkConfigureDialog",props:{dialogHeader:{type:String,default:" --- header --- "},uuid:{type:String,default:" - "}},emits:["ok","hide","path"],methods:{show(){this.$refs.linkConfigureDialogRef.show(),this.fetchInstallationLinkConfig(this.uuid)},hide(){this.$refs.linkConfigureDialogRef.hide()},onDialogHide(){this.$emit("ok",{}),this.$emit("hide")},fetchInstallationLinkConfig:function(e){this.currentUuid=e;let t={uuid:this.currentUuid};me()({method:"post",url:(0,ce.J4)("v2","settings/link/read"),data:t}).then((e=>{let t=e.data.link_config;this.address=t.address,this.authType=t.auth,this.username=t.username,this.password=t.password,this.available=t.available,this.name=t.name,this.version=t.version,this.enableReceivingTasks=t.enable_receiving_tasks,this.enableSendingTasks=t.enable_sending_tasks,this.enableTaskPreloading=t.enable_task_preloading,this.enableDistributedWorkerCount=t.enable_distributed_worker_count,this.distributedWorkerCountTarget=e.data.distributed_worker_count_target}))},saveInstallationLinkConfig:function(){let e={link_config:{uuid:this.currentUuid,address:this.address,auth:this.authType,username:this.username,password:this.password,enable_receiving_tasks:this.enableReceivingTasks,enable_sending_tasks:this.enableSendingTasks,enable_task_preloading:this.enableTaskPreloading,enable_distributed_worker_count:this.enableDistributedWorkerCount},distributed_worker_count_target:this.distributedWorkerCountTarget};me()({method:"post",url:(0,ce.J4)("v2","settings/link/write"),data:e}).then((e=>{this.$q.notify({color:"positive",position:"top",icon:"cloud_done",message:this.$t("notifications.saved"),timeout:200})})).catch((()=>{this.$q.notify({color:"negative",position:"top",message:this.$t("notifications.failedToSaveSettings"),icon:"report_problem",actions:[{icon:"close",color:"white"}]})}))}},watch:{uuid(e){e.length>0&&(this.currentUuid=this.uuid)}},data:function(){return{maximizedToggle:!0,currentUuid:(0,S.iH)(null),address:(0,S.iH)(""),authType:(0,S.iH)("None"),authOptions:(0,S.iH)(["None","Basic"]),username:(0,S.iH)(null),password:(0,S.iH)(null),showPassword:(0,S.iH)(!0),available:(0,S.iH)(!1),name:(0,S.iH)(""),version:(0,S.iH)(""),enableReceivingTasks:(0,S.iH)(null),enableSendingTasks:(0,S.iH)(null),enableTaskPreloading:(0,S.iH)(null),enableDistributedWorkerCount:(0,S.iH)(null),distributedWorkerCountTarget:(0,S.iH)(null)}}};var ge=n(1639),he=n(2074),we=n(4458),ke=n(3190),be=n(8879),_e=n(6858),fe=n(926),ve=n(6611),ye=n(7887),qe=n(2857),Ie=n(7133),Te=n(3175),We=n(8423),$e=n(4871),Re=n(2146),Ve=n(9984),Ce=n.n(Ve);const Qe=(0,ge.Z)(pe,[["render",re]]),Se=Qe;Ce()(pe,"components",{QDialog:he.Z,QCard:we.Z,QCardSection:ke.Z,QBtn:be.Z,QTooltip:_e.Z,QSeparator:fe.Z,QInput:ve.Z,QSelect:ye.Z,QIcon:qe.Z,QSkeleton:Ie.ZP,QToggle:Te.Z,QSlider:We.Z}),Ce()(pe,"directives",{TouchSwipe:$e.Z,ClosePopup:Re.Z});const Ze={name:"SettingsLink",setup(){(0,Z.Z)();const{t:e}=(0,x.QT)();let t=null,n=(0,Q.A)(e);function l(){t=n.init()}function a(){n.close()}(0,s.bv)((()=>{l()})),(0,s.Ah)((()=>{a()}))},data(){return{installationName:(0,S.iH)(null),remoteInstallations:(0,S.iH)(null),newRemoteInstallation:(0,S.iH)(!1),newRemoteInstallationAddress:(0,S.iH)(""),newRemoteInstallationAuthenticationType:(0,S.iH)("None"),newRemoteInstallationAuthenticationOptions:(0,S.iH)(["None","Basic"]),newRemoteInstallationUsername:(0,S.iH)(null),newRemoteInstallationPassword:(0,S.iH)(null)}},methods:{fetchSettings:function(){me()({method:"get",url:(0,ce.J4)("v2","settings/read")}).then((e=>{this.installationName=e.data.settings.installation_name;let t=[];for(let n=0;n<e.data.settings.remote_installations.length;n++){let s=e.data.settings.remote_installations[n];t[t.length]={address:s.address,enableReceivingTasks:s.enable_receiving_tasks,enableSendingTasks:s.enable_sending_tasks,name:s.name,version:s.version,uuid:s.uuid,available:s.available}}this.remoteInstallations=t})).catch((()=>{this.$q.notify({color:"negative",position:"top",message:this.$t("notifications.failedToFetchSettings"),icon:"report_problem",actions:[{icon:"close",color:"white"}]})}))},save:function(){let e=[];for(let n=0;n<this.remoteInstallations.length;n++)e[e.length]={address:this.remoteInstallations[n].address,enable_receiving_tasks:this.remoteInstallations[n].enableReceivingTasks,enable_sending_tasks:this.remoteInstallations[n].enableSendingTasks,name:this.remoteInstallations[n].name,version:this.remoteInstallations[n].version,uuid:this.remoteInstallations[n].uuid,available:this.remoteInstallations[n].available};let t={settings:{installation_name:this.installationName,remote_installations:e}};me()({method:"post",url:(0,ce.J4)("v2","settings/write"),data:t}).then((e=>{this.fetchSettings(),this.$q.notify({color:"positive",position:"top",icon:"cloud_done",message:this.$t("notifications.saved"),timeout:200})})).catch((()=>{this.$q.notify({color:"negative",position:"top",message:this.$t("notifications.failedToSaveSettings"),icon:"report_problem",actions:[{icon:"close",color:"white"}]})}))},addNewRemoteInstallation:function(){for(let t=0;t<this.remoteInstallations.length;t++)if(this.newRemoteInstallationAddress===this.remoteInstallations[t].address)return void this.$q.notify({color:"negative",position:"top",message:this.$t("notifications.remoteInstallationAlreadyInList"),icon:"report_problem",actions:[{icon:"close",color:"white"}]});let e={address:this.newRemoteInstallationAddress,auth:this.newRemoteInstallationAuthenticationType,username:this.newRemoteInstallationUsername,password:this.newRemoteInstallationPassword};me()({method:"post",url:(0,ce.J4)("v2","settings/link/validate"),data:e}).then((e=>{if("undefined"===typeof e.data.installation.settings.installation_name)this.$q.notify({color:"negative",position:"top",message:this.$t("notifications.incompatibleRemoteInstallation"),icon:"report_problem",actions:[{icon:"close",color:"white"}]});else{let t=e.data.installation.settings.installation_name,n=e.data.installation.version,s=e.data.installation.session.uuid;this.remoteInstallations[this.remoteInstallations.length]={address:this.newRemoteInstallationAddress,auth:this.newRemoteInstallationAuthenticationType,username:this.newRemoteInstallationUsername,password:this.newRemoteInstallationPassword,enable_receiving_tasks:!1,enable_sending_tasks:!1,name:t,version:n,uuid:s,available:!0},this.save()}})).catch((()=>{this.$q.notify({color:"negative",position:"top",message:this.$t("notifications.invalidRemoteInstallationAddress"),icon:"report_problem",actions:[{icon:"close",color:"white"}]})}))},deleteRemoteInstallation:function(e){let t=[];for(let n=0;n<this.remoteInstallations.length;n++)n!==e&&(t[t.length]=this.remoteInstallations[n]);this.remoteInstallations=t},configureRemoteInstallation:function(e){let t=this.remoteInstallations[e];this.$q.dialog({component:Se,componentProps:{dialogHeader:this.$t("headers.configureRemoteInstallationLink"),uuid:t.uuid}}).onOk((e=>{})).onDismiss((()=>{this.fetchSettings()}))}},created(){this.fetchSettings()},computed:{dragOptions(){return{animation:100,group:"scheduleOrder",disabled:!1,ghostClass:"ghost",direction:"vertical",delay:200,delayOnTouchOnly:!0}}}};var xe=n(9885),He=n(8326),Ue=n(3246),ze=n(490),De=n(1233),Pe=n(335),je=n(3115),Ae=n(4526),Ne=n(136),Le=n(1821);const Oe=(0,ge.Z)(Ze,[["render",C]]),Be=Oe;Ce()(Ze,"components",{QPage:xe.Z,QForm:He.Z,QSkeleton:Ie.ZP,QInput:ve.Z,QSeparator:fe.Z,QList:Ue.Z,QItem:ze.Z,QItemSection:De.Z,QImg:Pe.Z,QItemLabel:je.Z,QBtn:be.Z,QTooltip:_e.Z,QBar:Ae.Z,QSpace:Ne.Z,QDialog:he.Z,QCard:we.Z,QCardSection:ke.Z,QSelect:ye.Z,QCardActions:Le.Z}),Ce()(Ze,"directives",{ClosePopup:Re.Z})}}]);