(function(){function l(a,i,s){function c(r,e){if(!i[r]){if(!a[r]){var t="function"==typeof require&&require;if(!e&&t)return t(r,!0);if(u)return u(r,!0);var n=new Error("Cannot find module '"+r+"'");throw n.code="MODULE_NOT_FOUND",n}var o=i[r]={exports:{}};a[r][0].call(o.exports,function(e){var t=a[r][1][e];return c(t||e)},o,o.exports,l,a,i,s)}return i[r].exports}for(var u="function"==typeof require&&require,e=0;e<s.length;e++)c(s[e]);return c}return l})()({1:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(){this.debug=1,this.info=2,this.warning=3,this.error=4,this.$level=this.info}return Object.defineProperty(e.prototype,"level",{get:function(){return this.$level},enumerable:!1,configurable:!0}),e.prototype.setLevel=function(e){this.$level=e,this.d("Set log level: "+e)},e.prototype.d=function(e,t){void 0===t&&(t=null),this.$level<=this.debug&&send({log:{level:"debug",tag:t,message:e}})},e.prototype.i=function(e,t){void 0===t&&(t=null),this.$level<=this.info&&send({log:{level:"info",tag:t,message:e}})},e.prototype.w=function(e,t){void 0===t&&(t=null),this.$level<=this.warning&&send({log:{level:"warning",tag:t,message:e}})},e.prototype.e=function(e,t){void 0===t&&(t=null),this.$level<=this.error&&send({log:{level:"error",tag:t,message:e}})},e}(),o=function(){function e(){}return e.prototype.load=function(e,t){Object.defineProperties(globalThis,{parameters:{configurable:!0,enumerable:!0,value:t}});for(var r=0,n=e;r<n.length;r++){var o=n[r];try{(0,eval)(o.source)}catch(e){var a=e.hasOwnProperty("stack")?e.stack:e;throw new Error("Unable to load ".concat(o.filename,": ").concat(a))}}},e}(),a=new o;rpc.exports={loadScripts:a.load.bind(a)};var i=e("./lib/c"),s=e("./lib/java"),c=e("./lib/android"),u=e("./lib/objc"),l=new n,d=new i.CHelper,h=new s.JavaHelper,p=new c.AndroidHelper,g=new u.ObjCHelper;Object.defineProperties(globalThis,{Log:{enumerable:!0,value:l},CHelper:{enumerable:!0,value:d},JavaHelper:{enumerable:!0,value:h},AndroidHelper:{enumerable:!0,value:p},ObjCHelper:{enumerable:!0,value:g},ignoreError:{enumerable:!1,value:function(e,t){void 0===t&&(t=void 0);try{return e()}catch(e){return l.d("Catch ignored error. "+e),t}}},parseBoolean:{enumerable:!1,value:function(e,t){if(void 0===t&&(t=void 0),"boolean"==typeof e)return e;if("string"==typeof e){var r=e.toLowerCase();if("true"===r)return!0;if("false"===r)return!1}return t}},pretty2String:{enumerable:!1,value:function(e){return(e=pretty2Json(e))instanceof Object?JSON.stringify(e):e}},pretty2Json:{enumerable:!1,value:function(e){if(!(e instanceof Object))return e;if(Array.isArray(e)||h.isArray(e)){for(var t=[],r=0;r<e.length;r++)t.push(pretty2Json(e[r]));return t}return ignoreError(function(){return e.toString()},void 0)}}})},{"./lib/android":2,"./lib/c":3,"./lib/java":4,"./lib/objc":5}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AndroidHelper=void 0;var n=function(){function e(){}return e.prototype.setWebviewDebuggingEnabled=function(){Log.i("======================================================\r\nAndroid Enable Webview Debugging                      \r\n======================================================"),Java.perform(function(){var r=Java.use("android.webkit.WebView");Java.scheduleOnMainThread(function(){return ignoreError(function(){return r.setWebContentsDebuggingEnabled(!0)},void 0)}),JavaHelper.hookMethods(r,"setWebContentsDebuggingEnabled",function(e,t){return Log.d("android.webkit.WebView.setWebContentsDebuggingEnabled: "+t[0]),t[0]=!0,this(e,t)}),JavaHelper.hookMethods(r,"loadUrl",function(e,t){return Log.d("android.webkit.WebView.loadUrl: "+t[0]),r.setWebContentsDebuggingEnabled(!0),this(e,t)});try{var n=Java.use("com.uc.webview.export.WebView");Java.scheduleOnMainThread(function(){return ignoreError(function(){return n.setWebContentsDebuggingEnabled(!0)},void 0)}),JavaHelper.hookMethods(n,"setWebContentsDebuggingEnabled",function(e,t){return Log.d("com.uc.webview.export.WebView.setWebContentsDebuggingEnabled: "+t[0]),t[0]=!0,this(e,t)}),JavaHelper.hookMethods(n,"loadUrl",function(e,t){return Log.d("com.uc.webview.export.WebView.loadUrl: "+t[0]),n.setWebContentsDebuggingEnabled(!0),this(e,t)})}catch(r){Log.d("Hook com.uc.webview.export.WebView.setWebContentsDebuggingEnabled error: "+r,"[-]")}})},e.prototype.bypassSslPinningLite=function(){Log.i("======================================================\r\nAndroid Bypass ssl pinning                           \r\n======================================================"),Java.perform(function(){try{var r=Java.use("java.util.Arrays");JavaHelper.hookMethods("com.android.org.conscrypt.TrustManagerImpl","checkServerTrusted",function(e,t){if(Log.d("Bypassing TrustManagerImpl checkServerTrusted"),"void"!=this.returnType.type)return"pointer"==this.returnType.type&&"java.util.List"==this.returnType.className?r.asList(t[0]):void 0})}catch(r){Log.d("Hook com.android.org.conscrypt.TrustManagerImpl.checkTrusted error: "+r,"[-]")}try{JavaHelper.hookMethods("com.google.android.gms.org.conscrypt.Platform","checkServerTrusted",function(e,t){Log.d("Bypassing Platform checkServerTrusted {1}")})}catch(r){Log.d("Hook com.google.android.gms.org.conscrypt.Platform.checkServerTrusted error: "+r,"[-]")}try{JavaHelper.hookMethods("com.android.org.conscrypt.Platform","checkServerTrusted",function(e,t){Log.d("Bypassing Platform checkServerTrusted {2}")})}catch(r){Log.d("Hook com.android.org.conscrypt.Platform.checkServerTrusted error: "+r,"[-]")}})},e.prototype.bypassSslPinning=function(){Log.i("======================================================\r\nAndroid Bypass for various Certificate Pinning methods\r\n======================================================"),Java.perform(function(){var r=[Java.registerClass({name:"xxx.xxx.xxx.TrustManager",implements:[Java.use("javax.net.ssl.X509TrustManager")],methods:{checkClientTrusted:function(e,t){},checkServerTrusted:function(e,t){},getAcceptedIssuers:function(){return[]}}}).$new()];try{JavaHelper.hookMethod("javax.net.ssl.SSLContext","init",["[Ljavax.net.ssl.KeyManager;","[Ljavax.net.ssl.TrustManager;","java.security.SecureRandom"],function(e,t){return Log.d("Bypassing Trustmanager (Android < 7) pinner"),t[1]=r,this(e,t)})}catch(r){Log.d("TrustManager (Android < 7) pinner not found","[-]")}try{JavaHelper.hookMethods("okhttp3.CertificatePinner","check",function(e,t){Log.d("Bypassing OkHTTPv3 {1}: "+t[0])})}catch(r){Log.d("OkHTTPv3 {1} pinner not found: "+r,"[-]")}try{JavaHelper.hookMethod("okhttp3.CertificatePinner","check$okhttp",["java.lang.String","kotlin.jvm.functions.Function0"],function(e,t){Log.d("Bypassing OkHTTPv3 {4}: "+t[0])})}catch(r){Log.d("OkHTTPv3 {4} pinner not found: "+r,"[-]")}try{JavaHelper.hookMethods("com.datatheorem.android.trustkit.pinning.OkHostnameVerifier","verify",function(e,t){return Log.d("Bypassing Trustkit {1}: "+t[0]),!0})}catch(r){Log.d("Trustkit {1} pinner not found: "+r,"[-]")}try{JavaHelper.hookMethods("com.datatheorem.android.trustkit.pinning.PinningTrustManager","checkServerTrusted",function(e,t){Log.d("Bypassing Trustkit {3}")})}catch(r){Log.d("Trustkit {3} pinner not found: "+r,"[-]")}try{var n=Java.use("java.util.ArrayList");JavaHelper.hookMethods("com.android.org.conscrypt.TrustManagerImpl","checkTrustedRecursive",function(e,t){return Log.d("Bypassing TrustManagerImpl (Android > 7) checkTrustedRecursive check: "+t[3]),n.$new()})}catch(r){Log.d("TrustManagerImpl (Android > 7) checkTrustedRecursive check not found: "+r,"[-]")}try{JavaHelper.hookMethods("com.android.org.conscrypt.TrustManagerImpl","verifyChain",function(e,t){return Log.d("Bypassing TrustManagerImpl (Android > 7) verifyChain check: "+t[2]),t[0]})}catch(r){Log.d("TrustManagerImpl (Android > 7) verifyChain check not found: "+r,"[-]")}try{JavaHelper.hookMethods("appcelerator.https.PinningTrustManager","checkServerTrusted",function(){Log.d("Bypassing Appcelerator PinningTrustManager")})}catch(r){Log.d("Appcelerator PinningTrustManager pinner not found: "+r,"[-]")}try{JavaHelper.hookMethods("io.fabric.sdk.android.services.network.PinningTrustManager","checkServerTrusted",function(){Log.d("Bypassing Fabric PinningTrustManager")})}catch(r){Log.d("Fabric PinningTrustManager pinner not found: "+r,"[-]")}try{JavaHelper.hookMethods("com.android.org.conscrypt.OpenSSLSocketImpl","verifyCertificateChain",function(){Log.d("Bypassing OpenSSLSocketImpl Conscrypt {1}")})}catch(r){Log.d("OpenSSLSocketImpl Conscrypt {1} pinner not found: "+r,"[-]")}try{JavaHelper.hookMethods("com.android.org.conscrypt.OpenSSLEngineSocketImpl","verifyCertificateChain",function(e,t){Log.d("Bypassing OpenSSLEngineSocketImpl Conscrypt: "+(t.length>=2?t[1]:null))})}catch(r){Log.d("OpenSSLEngineSocketImpl Conscrypt pinner not found: "+r,"[-]")}try{JavaHelper.hookMethods("org.apache.harmony.xnet.provider.jsse.OpenSSLSocketImpl","verifyCertificateChain",function(e,t){Log.d("Bypassing OpenSSLSocketImpl Apache Harmony")})}catch(r){Log.d("OpenSSLSocketImpl Apache Harmony pinner not found: "+r,"[-]")}try{JavaHelper.hookMethod("nl.xservices.plugins.sslCertificateChecker","execute",["java.lang.String","org.json.JSONArray","org.apache.cordova.CallbackContext"],function(e,t){return Log.d("Bypassing PhoneGap sslCertificateChecker: "+t[0]),!0})}catch(r){Log.d("PhoneGap sslCertificateChecker pinner not found: "+r,"[-]")}try{var e=Java.use("com.worklight.wlclient.api.WLClient");JavaHelper.hookMethods(e.getInstance(),"pinTrustedCertificatePublicKey",function(e,t){Log.d("Bypassing IBM MobileFirst pinTrustedCertificatePublicKey {1}: "+t[0])})}catch(r){Log.d("IBM MobileFirst pinTrustedCertificatePublicKey {1} pinner not found: "+r,"[-]")}try{JavaHelper.hookMethods("com.worklight.wlclient.certificatepinning.HostNameVerifierWithCertificatePinning","verify",function(e,t){Log.d("Bypassing IBM WorkLight HostNameVerifierWithCertificatePinning {1}: "+t[0])})}catch(r){Log.d("IBM WorkLight HostNameVerifierWithCertificatePinning {1} pinner not found: "+r,"[-]")}try{JavaHelper.hookMethod("com.android.org.conscrypt.CertPinManager","checkChainPinning",["java.lang.String","java.util.List"],function(e,t){return Log.d("Bypassing Conscrypt CertPinManager: "+t[0]),!0})}catch(r){Log.d("Conscrypt CertPinManager pinner not found: "+r,"[-]")}try{JavaHelper.hookMethod("com.android.org.conscrypt.CertPinManager","isChainValid",["java.lang.String","java.util.List"],function(e,t){return Log.d("Bypassing Conscrypt CertPinManager (Legacy): "+t[0]),!0})}catch(r){Log.d("Conscrypt CertPinManager (Legacy) pinner not found: "+r,"[-]")}try{JavaHelper.hookMethod("com.commonsware.cwac.netsecurity.conscrypt.CertPinManager","isChainValid",["java.lang.String","java.util.List"],function(e,t){return Log.d("Bypassing CWAC-Netsecurity CertPinManager: "+t[0]),!0})}catch(r){Log.d("CWAC-Netsecurity CertPinManager pinner not found: "+r,"[-]")}try{JavaHelper.hookMethod("com.worklight.androidgap.plugin.WLCertificatePinningPlugin","execute",["java.lang.String","org.json.JSONArray","org.apache.cordova.CallbackContext"],function(e,t){return Log.d("Bypassing Worklight Androidgap WLCertificatePinningPlugin: "+t[0]),!0})}catch(r){Log.d("Worklight Androidgap WLCertificatePinningPlugin pinner not found: "+r,"[-]")}try{JavaHelper.hookMethods("io.netty.handler.ssl.util.FingerprintTrustManagerFactory","checkTrusted",function(e,t){Log.d("Bypassing Netty FingerprintTrustManagerFactory")})}catch(r){Log.d("Netty FingerprintTrustManagerFactory pinner not found: "+r,"[-]")}try{JavaHelper.hookMethods("com.squareup.okhttp.CertificatePinner","check",function(e,t){Log.d("Bypassing Squareup CertificatePinner {1}: "+t[0])})}catch(r){Log.d("Squareup CertificatePinner {1} pinner not found: "+r,"[-]")}try{JavaHelper.hookMethods("com.squareup.okhttp.internal.tls.OkHostnameVerifier","verify",function(e,t){return Log.d("Bypassing Squareup OkHostnameVerifier {1}: "+t[0]),!0})}catch(r){Log.d("Squareup OkHostnameVerifier check not found: "+r,"[-]")}try{JavaHelper.hookMethods("com.android.okhttp.internal.tls.OkHostnameVerifier","verify",function(e,t){return Log.d("Bypassing android OkHostnameVerifier {2}: "+t[0]),!0})}catch(r){Log.d("android OkHostnameVerifier check not found: "+r,"[-]")}try{JavaHelper.hookMethods("okhttp3.internal.tls.OkHostnameVerifier","verify",function(e,t){return Log.d("Bypassing okhttp3 OkHostnameVerifier {3}: "+t[0]),!0})}catch(r){Log.d("okhttp3 OkHostnameVerifier check not found: "+r,"[-]")}try{JavaHelper.hookMethods("android.webkit.WebViewClient","onReceivedSslError",function(e,t){Log.d("Bypassing Android WebViewClient check {1}")})}catch(r){Log.d("Android WebViewClient {1} check not found: "+r,"[-]")}try{JavaHelper.hookMethods("android.webkit.WebViewClient","onReceivedError",function(e,t){Log.d("Bypassing Android WebViewClient check {3}")})}catch(r){Log.d("Android WebViewClient {3} check not found: "+r,"[-]")}try{JavaHelper.hookMethod("org.apache.cordova.CordovaWebViewClient","onReceivedSslError",["android.webkit.WebView","android.webkit.SslErrorHandler","android.net.http.SslError"],function(e,t){Log.d("Bypassing Apache Cordova WebViewClient check"),t[3].proceed()})}catch(r){Log.d("Apache Cordova WebViewClient check not found: "+r,"[-]")}try{JavaHelper.hookMethods("ch.boye.httpclientandroidlib.conn.ssl.AbstractVerifier","verify",function(e,t){Log.d("Bypassing Boye AbstractVerifier check: "+t[0])})}catch(r){Log.d("Boye AbstractVerifier check not found: "+r,"[-]")}try{JavaHelper.hookMethod("org.apache.http.conn.ssl.AbstractVerifier","verify",["java.lang.String","[Ljava.lang.String;","[Ljava.lang.String;","boolean"],function(e,t){Log.d("Bypassing Apache AbstractVerifier check: "+t[0])})}catch(r){Log.d("Apache AbstractVerifier check not found: "+r,"[-]")}try{JavaHelper.hookMethod("org.chromium.net.impl.CronetEngineBuilderImpl","enablePublicKeyPinningBypassForLocalTrustAnchors",["boolean"],function(e,t){return Log.i("[+] Disabling Public Key pinning for local trust anchors in Chromium Cronet"),t[0]=!0,this(e,t)})}catch(r){Log.d("Chromium Cronet pinner not found: "+r,"[-]")}try{JavaHelper.hookMethods("diefferson.http_certificate_pinning.HttpCertificatePinning","checkConnexion",function(e,t){return Log.d("Bypassing Flutter HttpCertificatePinning : "+t[0]),!0})}catch(r){Log.d("Flutter HttpCertificatePinning pinner not found: "+r,"[-]")}try{JavaHelper.hookMethods("javax.net.ssl.SSLPeerUnverifiedException","$init",function(e,t){Log.w("Unexpected SSLPeerUnverifiedException occurred, trying to patch it dynamically...","[!]");var r=Java.use("java.lang.Thread").currentThread().getStackTrace(),n=r.findIndex(function(e){return"javax.net.ssl.SSLPeerUnverifiedException"===e.getClassName()}),o=r[n+1],a=o.getClassName(),i=o.getMethodName();return JavaHelper.hookMethods(a,i,function(e,t){return"void"==this.returnType.type?void 0:"boolean"===this.returnType.type||null}),this(e,t)})}catch(r){Log.d("SSLPeerUnverifiedException not found: "+r,"[-]")}})},e}();r.AndroidHelper=n},{}],3:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CHelper=void 0;var n=function(){function e(){this.$funcCaches={}}return Object.defineProperty(e.prototype,"dlopen",{get:function(){return this.getExportFunction("dlopen","pointer",["pointer","int"])},enumerable:!1,configurable:!0}),e.prototype.getExportFunction=function(e,t,r){var n=e+"|"+t.toString()+"|"+r.toString();if(n in this.$funcCaches)return this.$funcCaches[n];var o=Module.findExportByName(null,e);if(null===o)throw Error("cannot find "+e);return this.$funcCaches[n]=new NativeFunction(o,t,r),this.$funcCaches[n]},e.prototype.hookFunctionWithCallbacks=function(n,t){var e=Module.findExportByName(null,n);if(null===e)throw Error("cannot find "+n);var r={get:function(e,t,r){return"name"===t?n:e[t]}},o={};"onEnter"in t&&(o.onEnter=function(e){t.onEnter.call(new Proxy(this,r),e)}),"onLeave"in t&&(o.onLeave=function(e){t.onLeave.call(new Proxy(this,r),e)});var a=Interceptor.attach(e,o);return Log.i("Hook function: "+n+" ("+e+")"),a},e.prototype.hookFunction=function(a,i,s,c){var u=this.getExportFunction(a,i,s);if(null===u)throw Error("cannot find "+a);var e=Interceptor.attach(u,function(e){for(var n=this,t=[],r=0;r<s.length;r++)t[r]=e[r];var o=new Proxy(u,{get:function(e,t,r){switch(t){case"name":return a;case"argumentTypes":return s;case"returnType":return i}return t in n?n[t]:e[t]},apply:function(e,t,r){return e.apply(null,r[0])}});return c.call(o,t)});return Log.i("Hook function: "+a+" ("+u+")"),e},e.prototype.getEventImpl=function(t,e){void 0===e&&(e=!1);var s=new function(){for(var e in this.method=!0,this.thread=!1,this.stack=!1,this.args=!1,this.extras={},t)e in this?this[e]=t[e]:this.extras[e]=t[e]},r=function(e){var t=this(e),r={};for(var n in s.extras)r[n]=s.extras[n];if(s.method&&(r.method_name=this.name),s.thread&&(r.thread_id=Process.getCurrentThreadId()),s.args&&(r.args=pretty2Json(e),r.result=pretty2Json(t)),s.stack){for(var o=[],a=Thread.backtrace(this.context,Backtracer.ACCURATE),i=0;i<a.length;i++)o.push(DebugSymbol.fromAddress(a[i]).toString());r.stack=o}return send({event:r}),t};return r.onLeave=function(e){var t={};for(var r in s.extras)t[r]=s.extras[r];if(1==s.method&&(t.method_name=this.name),!0===s.thread&&(t.thread_id=Process.getCurrentThreadId()),!0===s.args&&(t.result=pretty2Json(e)),!0===s.stack){for(var n=[],o=Thread.backtrace(this.context,Backtracer.ACCURATE),a=0;a<o.length;a++)n.push(DebugSymbol.fromAddress(o[a]).toString());t.stack=n}send({event:t})},r},e}();r.CHelper=n},{}],4:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.JavaHelper=void 0;var n=function(){function e(){}return Object.defineProperty(e.prototype,"classClass",{get:function(){return Java.use("java.lang.Class")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stringClass",{get:function(){return Java.use("java.lang.String")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"threadClass",{get:function(){return Java.use("java.lang.Thread")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"throwableClass",{get:function(){return Java.use("java.lang.Throwable")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uriClass",{get:function(){return Java.use("android.net.Uri")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"urlClass",{get:function(){return Java.use("java.net.URL")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mapClass",{get:function(){return Java.use("java.util.Map")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"applicationContext",{get:function(){return Java.use("android.app.ActivityThread").currentApplication().getApplicationContext()},enumerable:!1,configurable:!0}),e.prototype.isArray=function(e){return!!(e.hasOwnProperty("class")&&e.class instanceof Object&&e.class.hasOwnProperty("isArray")&&e.class.isArray())},e.prototype.getClassName=function(e){return e.$classWrapper.__name__},e.prototype.findClass=function(e,t){if(void 0===t&&(t=void 0),void 0===t||null==t){if(parseInt(Java.androidVersion)<7)return Java.use(e);var r=null,n=Java.enumerateClassLoadersSync();for(var o in n)try{var a=this.findClass(e,n[o]);if(null!=a)return a}catch(e){null==r&&(r=e)}throw r}var i=Java.classFactory.loader;try{return Reflect.set(Java.classFactory,"loader",t),Java.use(e)}finally{Reflect.set(Java.classFactory,"loader",i)}},e.prototype.$fixMethod=function(e){Object.defineProperties(e,{className:{configurable:!0,enumerable:!0,get:function(){return this.holder.$className||this.holder.__name__}},name:{configurable:!0,enumerable:!0,get:function(){var e=this.returnType.className,t=this.className+"."+this.methodName,r="";if(this.argumentTypes.length>0){r=this.argumentTypes[0].className;for(var n=1;n<this.argumentTypes.length;n++)r=r+", "+this.argumentTypes[n].className}return e+" "+t+"("+r+")"}},toString:{configurable:!0,value:function(){return this.name}}})},e.prototype.$hookMethod=function(e,t){if(void 0===t&&(t=null),null!=t){var r=new Proxy(e,{apply:function(e,t,r){var n=r[0],o=r[1];return e.apply(n,o)}});e.implementation=function(){return t.call(r,this,Array.prototype.slice.call(arguments))},Log.i("Hook method: "+e)}else e.implementation=null,Log.i("Unhook method: "+e)},e.prototype.hookMethod=function(e,t,r,n){void 0===n&&(n=null);var o=t;if("string"==typeof o){var a=e;if("string"==typeof a&&(a=this.findClass(a)),o=a[o],null!=r){var i=r;for(var s in i)"string"!=typeof i[s]&&(i[s]=this.getClassName(i[s]));o=o.overload.apply(o,i)}}this.$fixMethod(o),this.$hookMethod(o,n)},e.prototype.hookMethods=function(e,t,r){void 0===r&&(r=null);var n=e;"string"==typeof n&&(n=this.findClass(n));for(var o=n[t].overloads,a=0;a<o.length;a++){var i=o[a];void 0!==i.returnType&&void 0!==i.returnType.className&&(this.$fixMethod(i),this.$hookMethod(i,r))}},e.prototype.hookAllConstructors=function(e,t){void 0===t&&(t=null);var r=e;"string"==typeof r&&(r=this.findClass(r)),this.hookMethods(r,"$init",t)},e.prototype.hookAllMethods=function(e,t){void 0===t&&(t=null);var r=e;"string"==typeof r&&(r=this.findClass(r));for(var n=[],o=r.class;null!=o&&"java.lang.Object"!==o.getName();){for(var a=o.getDeclaredMethods(),i=0;i<a.length;i++){var s=a[i].getName();n.indexOf(s)<0&&(n.push(s),this.hookMethods(r,s,t))}o=Java.cast(o.getSuperclass(),this.classClass)}},e.prototype.hookClass=function(e,t){void 0===t&&(t=null);var r=e;"string"==typeof r&&(r=this.findClass(r)),this.hookAllConstructors(r,t),this.hookAllMethods(r,t)},e.prototype.callMethod=function(e,t){var r=this.getStackTrace()[0].getMethodName();return"<init>"===r&&(r="$init"),Reflect.get(e,r).apply(e,t)},e.prototype.getEventImpl=function(t){var a=this,i=new function(){for(var e in this.method=!0,this.thread=!1,this.stack=!1,this.args=!1,this.extras={},t)e in this?this[e]=t[e]:this.extras[e]=t[e]};return function(e,t){var r=this(e,t),n={};for(var o in i.extras)n[o]=i.extras[o];return i.method&&(n.class_name=e.$className,n.method_name=this.name,n.method_simple_name=this.methodName),i.thread&&(n.thread_id=Process.getCurrentThreadId(),n.thread_name=a.threadClass.currentThread().getName()),i.args&&(n.args=pretty2Json(t),n.result=pretty2Json(r)),i.stack&&(n.stack=pretty2Json(a.getStackTrace())),send({event:n}),r}},e.prototype.fromJavaArray=function(e,t){var r=e;"string"==typeof r&&(r=this.findClass(r));for(var n=[],o=Java.vm.getEnv(),a=0;a<o.getArrayLength(t.$handle);a++)n.push(Java.cast(o.getObjectArrayElement(t.$handle,a),r));return n},e.prototype.getEnumValue=function(e,t){var r=e;"string"==typeof r&&(r=this.findClass(r));var n=r.class.getEnumConstants();n instanceof Array||(n=this.fromJavaArray(r,n));for(var o=0;o<n.length;o++)if(n[o].toString()===t)return n[o];throw new Error("Name of "+t+" does not match "+r)},e.prototype.getStackTrace=function(){for(var e=[],t=this.throwableClass.$new().getStackTrace(),r=0;r<t.length;r++)e.push(t[r]);return e},e.prototype.$makeStackObject=function(e){void 0===e&&(e=void 0),void 0===e&&(e=this.getStackTrace());for(var t="Stack: ",r=0;r<e.length;r++)t+="\n    at "+pretty2String(e[r]);return{stack:t}},e.prototype.printStack=function(){var e=this.getStackTrace();Log.i(this.$makeStackObject(e))},e.prototype.$makeArgsObject=function(e,t){for(var r="Arguments: ",n=0;n<e.length;n++)r+="\n    Arguments["+n+"]: "+pretty2String(e[n]);return void 0!==t&&(r+="\n    Return: "+pretty2String(t)),{arguments:r}},e.prototype.printArguments=function(e,t){Log.i(this.$makeArgsObject(e,t))},e}();r.JavaHelper=n},{}],5:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ObjCHelper=void 0;var n=function(){function e(){}return e.prototype.$fixMethod=function(e,t){var r=t.origImplementation||t.implementation,n=e.toString(),o=ObjC.selectorAsString(t.selector),a=ObjC.classes.NSThread.hasOwnProperty(o);Object.defineProperties(t,{className:{configurable:!0,enumerable:!0,get:function(){return n}},methodName:{configurable:!0,enumerable:!0,get:function(){return o}},name:{configurable:!0,enumerable:!0,get:function(){return(a?"+":"-")+"["+n+" "+o+"]"}},origImplementation:{configurable:!0,enumerable:!0,get:function(){return r}},toString:{value:function(){return this.name}}})},e.prototype.$hookMethod=function(o,i){void 0===i&&(i=null),null!=i?(o.implementation=ObjC.implement(o,function(){var n=this,e=Array.prototype.slice.call(arguments),t=e.shift(),a=e.shift(),r=new Proxy(o,{get:function(e,t,r){return t in n?n[t]:e[t]},apply:function(e,t,r){var n=r[0],o=r[1];return e.origImplementation.apply(null,[].concat(n,a,o))}});return i.call(r,t,e)}),Log.i("Hook method: "+o)):(o.implementation=o.origImplementation,Log.i("Unhook method: "+pretty2String(o)))},e.prototype.hookMethod=function(e,t,r){void 0===r&&(r=null);var n=e;if("string"==typeof n&&(n=ObjC.classes[n]),void 0===n)throw Error('cannot find class "'+e+'"');var o=t;if("string"==typeof o&&(o=n[o]),void 0===o)throw Error('cannot find method "'+t+'" in class "'+n+'"');this.$fixMethod(n,o),this.$hookMethod(o,r)},e.prototype.hookMethods=function(e,t,r){void 0===r&&(r=null);var n=e;if("string"==typeof n&&(n=ObjC.classes[n]),void 0===n)throw Error('cannot find class "'+e+'"');for(var o=n.$ownMethods.length,a=0;a<o;a++){var i=n.$ownMethods[a];if(i.indexOf(t)>=0){var s=n[i];this.$fixMethod(n,s),this.$hookMethod(s,r)}}},e.prototype.getEventImpl=function(t){var u=this,l=new function(){for(var e in this.method=!0,this.thread=!1,this.stack=!1,this.args=!1,this.extras={},t)e in this?this[e]=t[e]:this.extras[e]=t[e]};return function(e,t){var r=this(e,t),n={};for(var o in l.extras)n[o]=l.extras[o];if(l.method&&(n.class_name=new ObjC.Object(e).$className,n.method_name=this.name,n.method_simple_name=this.methodName),l.thread&&(n.thread_id=Process.getCurrentThreadId(),n.thread_name=ObjC.classes.NSThread.currentThread().name().toString()),l.args){for(var a=[],i=0;i<t.length;i++)a.push(u.convert2ObjcObject(t[i]));n.args=pretty2Json(a),n.result=pretty2Json(u.convert2ObjcObject(r))}if(l.stack){var s=[],c=Thread.backtrace(this.context,Backtracer.ACCURATE);for(i=0;i<c.length;i++)s.push(DebugSymbol.fromAddress(c[i]).toString());n.stack=s}return send({event:n}),r}},e.prototype.convert2ObjcObject=function(e){return e instanceof NativePointer||"object"==typeof e&&e.hasOwnProperty("handle")?new ObjC.Object(e):e},e}();r.ObjCHelper=n},{}]},{},[1]);